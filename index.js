!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(e){terms={},Object.keys(e).forEach(function(t){var n=e[t];terms[n.description]=t})}function i(e,t,n,r){var a=t[n];if(a&&(w[n]||(w[n]={data:{id:n,label:m.explode(a.description,20)}}),E.forEach(function(e){var n=a[e];n&&n.forEach(function(e){var n=t[e];w[e]||(w[e]={data:{id:e,label:m.explode((n||{}).description||e,20)}})})}),a.parents))for(var o=0;o<a.parents.length;o++)x>r&&i(e,t,a.parents[o],r+1)}function a(e,t,n,r){var i=t[n];i&&E.forEach(function(o){if(i[o])for(var s=0;s<i[o].length;s++){var u=n+","+i[o][s]+"-"+o;if(!_[u]){var l=i[o][s],c=n;_[u]={data:{id:u,label:o,source:c,target:l}},x>r&&"parents"==o&&a(e,t,i[o][s],r+1)}}})}function o(e,t){var n=h.stylesheet().selector("node").style({content:"data(label)","text-valign":"center",color:"#000","background-color":"#fff","border-color":"#333","border-width":"5px",shape:"rectangle","text-max-width":"1000px","text-wrap":"wrap",width:"label","padding-left":"9px","padding-bottom":"9px","padding-right":"9px","padding-top":"9px",height:"label"}).selector("edge").css({"target-arrow-shape":"triangle","target-arrow-fill":"#333","target-arrow-color":"#333","line-color":function(e){return I(e.data("label"))},width:"5px"});c&&(w=[],_=[],d.destroy()),i(d,e,t,0),a(d,e,t,0),d=h({container:$("#cy"),style:n,elements:{nodes:y.values(w),edges:y.values(_)}}),c=!0,d.elements().qtip({content:function(e){return"<b>"+this.data("id")+"</b><br />"+this.data("label")},position:{my:"top center",at:"bottom center"},style:{classes:"qtip-bootstrap","font-family":"sans-serif",tip:{width:16,height:8}}});var r=d.makeLayout({name:"dagre",rankDir:"BT",padding:50,randomize:!0,animate:!0,infinite:!0,repulsion:1});r.run()}function s(e){var t;return e?(e.match(/^ECO:/)?(t="evidence_ontology.json",E=T):e.match(/^GO:/)?(t="gene_ontology.json",E=D):e.match(/^SO:/)?(t="sequence_ontology.json",E=M):e.match(/^CHEBI:/)?(t="chebi.json",E=N):e.match(/^HP:/)?(t="hp.json",E=T):e.match(/^DOID:/)?(t="disease_ontology.json",E=T):e.match(/^PO:/)?(t="plant_ontology.json",E=C):e.match(/^TO:/)?(t="plant_trait.json",E=S):e.match(/^PATO:/)?(t="pato.json",E=P):e.match(/^CL:/)?(t="cell_ontology.json",E=T):e.match(/^ENVO:/)&&(t="envo-basic.json",E=k),$("#legend").empty(),E.forEach(function(e){$("#legend").append("<div style='height: 12px; width: 50px; background: "+I(e)+"'></div><div>"+e+"</div>")}),void(t?t!=l?(l=t,$.ajax({url:l,dataType:"json"}).done(function(t){u=t,r(u),c&&$("#search").autocomplete({source:[]}),$("#search").autocomplete({source:Object.keys(terms)}),o(u,e),$("#loading").text("")})):o(u,e):$("#loading").text("Error: ontology not found for "+e))):void alert("term null")}var u,l,c,d,f=e("dagre"),h=e("cytoscape"),p=e("cytoscape-dagre"),v=e("cytoscape-qtip"),g=e("domready"),y=e("underscore"),m=e("./js/util.js"),b=e("chroma-js"),x=20,w=[],_=[],E=[],k=["parents","adjacent_to","has_part","located_in","has_increased_levels_of","part_of","primarily_composed_of","has_condition","derives_from","disconnected_from","tributary_of"],S=["parents","occurs_in","inheres_in","has_dividend_quality","relative_to","has_ratio_quality","has_divisor_quality","has_part","part_of"],T=["parents"],P=["parents","decreased_in_magnitude_relative_to","increased_in_magnitude_relative_to","towards","has_part","has_cross_section","reciprocal_of"],C=["parents","part_of","has_part","adjacent_to","preceded_by","precedes","located_in","derives_by_manipulation_from","participates_in","develops_from"],D=["parents","has_part","part_of","negatively_regulates","regulates","positively_regulates","occurs_in","happens_during","ends_during"],N=["parents","is_conjugate_base_of","has_functional_parent","has_role","has_part","has_parent_hydride","is_conjugate_acid_of","is_conjugate_base_of","is_substituent_group_from","is_enantiomer_of","is_tautomer_of","has_parent_hydride","is_substituent_group_from"],M=["parents","has_part","part_of","has_quality","derives_from","transcribed_to","transcribed_from","has_origin","adjacent_to","non_functional_homolog_of","variant_of","member_of","contains","guided_by","overlaps"],I=function(e){var t=b.scale("Set1").colors(E.length);return"parents"==e?"#333":t[E.indexOf(e)-1]};g(function(){p(h,f),v(h,$);var e=m.getParameterByName("term");e&&$("#term").val(e);var t=$("#term").val();s(t),$("#termform").submit(function(){var e=$("#term").val();return window.history.replaceState({},"","?term="+e),s(e),!1}),$("#save_button").on("click",function(e){$("#output").append($("<a/>").attr({href:d.png({scale:3})}).append("Download picture"))}),$("#searchform").submit(function(){var e=$("#search").val(),t=terms[e];return $("#term").val(t),window.history.replaceState({},"","?term="+t),s(t),!1})})},{"./js/util.js":2,"chroma-js":4,cytoscape:88,"cytoscape-dagre":5,"cytoscape-qtip":6,dagre:114,domready:144,underscore:169}],2:[function(e,t,n){t.exports={explode:function(e,t){if(e=e.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,""),"undefined"==typeof e)return"";if("undefined"==typeof t&&(t=30),e.length<=t)return e;var n=e.substring(0,t);if(e=e.substring(t)," "!==e.charAt(0)){for(;" "!==n.charAt(n.length-1)&&n.length>0;)e=n.charAt(n.length-1)+e,n=n.substring(0,n.length-1);0==n.length?(n=e.substring(0,t),e=e.substring(t)):n=n.substring(0,n.length-1)}else e=e.substring(1);return n+"\n"+this.explode(e,t)},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}}},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){(function(){var e,r,i,a,o,s,u,l,c,d,f,h,p,v,g,y,m,b,x,w,_,E,k,S,T,P,C,D,N,M,I,A,O,B,L,j,z,R,q,F,V,Y,X,$,W,U,H,G,Z,K,Q,J,ee,te,ne,re,ie,ae,oe,se,ue,le,ce,de,fe,he,pe,ve,ge,ye,me,be,xe,we,_e,Ee,ke,Se,Te,Pe=[].slice;_e=function(){var e,t,n,r,i;for(e={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,t=i.length;t>r;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),W=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),t>e&&(e=t),e>n&&(e=n),e},Ee=function(e){return e.length>=3?[].slice.call(e):e[0]},w=function(e){var t;for(t in e)3>t?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},a=Math.PI,ye=Math.round,k=Math.cos,D=Math.floor,te=Math.pow,U=Math.log,be=Math.sin,xe=Math.sqrt,p=Math.atan2,Z=Math.max,h=Math.abs,u=2*a,o=a/3,r=a/180,s=180/a,x=function(){return arguments[0]instanceof e?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,arguments,function(){})},f=[],"undefined"!=typeof t&&null!==t&&null!=t.exports&&(t.exports=x),"function"==typeof define&&define.amd?define([],function(){return x}):(ge="undefined"!=typeof n&&null!==n?n:this,ge.chroma=x),x.version="1.1.1",d={},l=[],c=!1,e=function(){function e(){var e,t,n,r,i,a,o,s,u;for(a=this,t=[],s=0,r=arguments.length;r>s;s++)e=arguments[s],null!=e&&t.push(e);if(o=t[t.length-1],null!=d[o])a._rgb=w(d[o](Ee(t.slice(0,-1))));else{for(c||(l=l.sort(function(e,t){return t.p-e.p}),c=!0),u=0,i=l.length;i>u&&(n=l[u],!(o=n.test.apply(n,t)));u++);o&&(a._rgb=w(d[o].apply(d,t)))}null==a._rgb&&console.warn("unknown format: "+t),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.toString=function(){return this.name()},e}(),x._input=d,x.brewer=m={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ke={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6",rebeccapurple:"#663399"},x.colors=E=ke,F=function(){var e,t,n,r,a,o,s,u,l;return t=Ee(arguments),a=t[0],e=t[1],n=t[2],u=(a+16)/116,s=isNaN(e)?u:u+e/500,l=isNaN(n)?u:u-n/200,u=i.Yn*V(u),s=i.Xn*V(s),l=i.Zn*V(l),o=Te(3.2404542*s-1.5371385*u-.4985314*l),r=Te(-.969266*s+1.8760108*u+.041556*l),n=Te(.0556434*s-.2040259*u+1.0572252*l),o=W(o,0,255),r=W(r,0,255),n=W(n,0,255),[o,r,n,t.length>3?t[3]:1]},Te=function(e){return ye(255*(.00304>=e?12.92*e:1.055*te(e,1/2.4)-.055))},V=function(e){return e>i.t1?e*e*e:i.t2*(e-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ue=function(){var e,t,n,r,i,a,o,s;return r=Ee(arguments),n=r[0],t=r[1],e=r[2],i=he(n,t,e),a=i[0],o=i[1],s=i[2],[116*o-16,500*(a-o),200*(o-s)]},pe=function(e){return(e/=255)<=.04045?e/12.92:te((e+.055)/1.055,2.4)},Se=function(e){return e>i.t3?te(e,1/3):e/i.t2+i.t0},he=function(){var e,t,n,r,a,o,s;return r=Ee(arguments),n=r[0],t=r[1],e=r[2],n=pe(n),t=pe(t),e=pe(e),a=Se((.4124564*n+.3575761*t+.1804375*e)/i.Xn),o=Se((.2126729*n+.7151522*t+.072175*e)/i.Yn),s=Se((.0193339*n+.119192*t+.9503041*e)/i.Zn),[a,o,s]},x.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["lab"]),function(){})},d.lab=F,e.prototype.lab=function(){return ue(this._rgb)},v=function(e){var t,n,r,i,a,o,s,u,l,c,d;return e=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(x(i));return r}(),2===e.length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(i.lab());return r}(),a=l[0],o=l[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push(a[t]+e*(o[t]-a[t]));return r}(),x.lab.apply(x,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(i.lab());return r}(),a=c[0],o=c[1],s=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*a[t]+2*(1-e)*e*o[t]+e*e*s[t]);return r}(),x.lab.apply(x,n)}):4===e.length?(d=function(){var t,n,r;for(r=[],n=0,t=e.length;t>n;n++)i=e[n],r.push(i.lab());return r}(),a=d[0],o=d[1],s=d[2],u=d[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;2>=n;t=++n)r.push((1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*s[t]+e*e*e*u[t]);return r}(),x.lab.apply(x,n)}):5===e.length&&(n=v(e.slice(0,3)),r=v(e.slice(2,5)),t=function(e){return.5>e?n(2*e):r(2*(e-.5))}),t},x.bezier=function(e){var t;return t=v(e),t.scale=function(){return x.scale(t)},t},x.cubehelix=function(e,t,n,r,i){var a,o,s;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),o=i[1]-i[0],a=0,s=function(s){var l,c,d,f,h,p,v,g,y;return l=u*((e+120)/360+t*s),v=te(i[0]+o*s,r),p=0!==a?n[0]+s*a:n,c=p*v*(1-v)/2,f=k(l),y=be(l),g=v+c*(-.14861*f+1.78277*y),h=v+c*(-.29227*f-.90649*y),d=v+c*(1.97294*f),x(w([255*g,255*h,255*d]))},s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:(n=e,"array"===_e(n)?(a=n[1]-n[0],0===a&&(n=n[1])):a=0,s)},s.lightness=function(e){return null==e?i:(i=e,"array"===_e(i)?(o=i[1]-i[0],0===o&&(i=i[1])):o=0,s)},s.scale=function(){return x.scale(s)},s.hue(n),s},x.random=function(){var t,n,r,i;for(n="0123456789abcdef",t="#",r=i=0;6>i;r=++i)t+=n.charAt(D(16*Math.random()));return new e(t)},d.rgb=function(){var e,t,n,r;t=Ee(arguments),n=[];for(e in t)r=t[e],n.push(r);return n},x.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["rgb"]),function(){})},e.prototype.rgb=function(){return this._rgb.slice(0,3)},e.prototype.rgba=function(){return this._rgb},l.push({p:15,test:function(e){var t;return t=Ee(arguments),"array"===_e(t)&&3===t.length?"rgb":4===t.length&&"number"===_e(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),N=function(e){var t,n,r,i,a,o;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),o=parseInt(e,16),i=o>>16,r=o>>8&255,n=255&o,[i,r,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),o=parseInt(e,16),i=o>>24&255,r=o>>16&255,n=o>>8&255,t=ye((255&o)/255*100)/100,[i,r,n,t];if(null!=d.css&&(a=d.css(e)))return a;throw"unknown color: "+e},ie=function(e,t){var n,r,i,a,o,s,u;return null==t&&(t="rgb"),o=e[0],i=e[1],r=e[2],n=e[3],u=o<<16|i<<8|r,s="000000"+u.toString(16),s=s.substr(s.length-6),a="0"+ye(255*n).toString(16),a=a.substr(a.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return s+a;case"argb":return a+s;default:return s}}()},d.hex=function(e){return N(e)},x.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hex"]),function(){})},e.prototype.hex=function(e){return null==e&&(e="rgb"),ie(this._rgb,e)},l.push({p:10,test:function(e){return 1===arguments.length&&"string"===_e(e)?"hex":void 0}}),A=function(){var e,t,n,r,i,a,o,s,u,l,c,d,f,h;if(e=Ee(arguments),i=e[0],c=e[1],o=e[2],0===c)u=r=t=255*o;else{for(h=[0,0,0],n=[0,0,0],f=.5>o?o*(1+c):o+c-o*c,d=2*o-f,i/=360,h[0]=i+1/3,h[1]=i,h[2]=i-1/3,a=s=0;2>=s;a=++s)h[a]<0&&(h[a]+=1),h[a]>1&&(h[a]-=1),6*h[a]<1?n[a]=d+6*(f-d)*h[a]:2*h[a]<1?n[a]=f:3*h[a]<2?n[a]=d+(f-d)*(2/3-h[a])*6:n[a]=d;l=[ye(255*n[0]),ye(255*n[1]),ye(255*n[2])],u=l[0],r=l[1],t=l[2]}return e.length>3?[u,r,t,e[3]]:[u,r,t]},oe=function(e,t,n){var r,i,a,o,s;return void 0!==e&&e.length>=3&&(o=e,e=o[0],t=o[1],n=o[2]),e/=255,t/=255,n/=255,a=Math.min(e,t,n),Z=Math.max(e,t,n),i=(Z+a)/2,Z===a?(s=0,r=Number.NaN):s=.5>i?(Z-a)/(Z+a):(Z-a)/(2-Z-a),e===Z?r=(t-n)/(Z-a):t===Z?r=2+(n-e)/(Z-a):n===Z&&(r=4+(e-t)/(Z-a)),r*=60,0>r&&(r+=360),[r,s,i]},x.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hsl"]),function(){})},d.hsl=A,e.prototype.hsl=function(){return oe(this._rgb)},O=function(){var e,t,n,r,i,a,o,s,u,l,c,d,f,h,p,v,g,y;if(e=Ee(arguments),i=e[0],v=e[1],y=e[2],y*=255,0===v)u=r=t=y;else switch(360===i&&(i=0),i>360&&(i-=360),0>i&&(i+=360),i/=60,a=D(i),n=i-a,o=y*(1-v),s=y*(1-v*n),g=y*(1-v*(1-n)),a){case 0:l=[y,g,o],u=l[0],r=l[1],t=l[2];break;case 1:c=[s,y,o],u=c[0],r=c[1],t=c[2];break;case 2:d=[o,y,g],u=d[0],r=d[1],t=d[2];break;case 3:f=[o,s,y],u=f[0],r=f[1],t=f[2];break;case 4:h=[g,o,y],u=h[0],r=h[1],t=h[2];break;case 5:p=[y,o,s],u=p[0],r=p[1],t=p[2]}return u=ye(u),r=ye(r),t=ye(t),[u,r,t,e.length>3?e[3]:1]},se=function(){var e,t,n,r,i,a,o,s,u;return o=Ee(arguments),a=o[0],n=o[1],e=o[2],i=Math.min(a,n,e),Z=Math.max(a,n,e),t=Z-i,u=Z/255,0===Z?(r=Number.NaN,s=0):(s=t/Z,a===Z&&(r=(n-e)/t),n===Z&&(r=2+(e-a)/t),e===Z&&(r=4+(a-n)/t),r*=60,0>r&&(r+=360)),[r,s,u]},x.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hsv"]),function(){})},d.hsv=O,e.prototype.hsv=function(){return se(this._rgb)},J=function(e){var t,n,r;return"number"===_e(e)&&e>=0&&16777215>=e?(r=e>>16,n=e>>8&255,t=255&e,[r,n,t,1]):(console.warn("unknown num color: "+e),[0,0,0,1])},de=function(){var e,t,n,r;return r=Ee(arguments),n=r[0],t=r[1],e=r[2],(n<<16)+(t<<8)+e},x.num=function(t){return new e(t,"num")},e.prototype.num=function(e){return null==e&&(e="rgb"),de(this._rgb,e)},d.num=J,l.push({p:10,test:function(e){return 1===arguments.length&&"number"===_e(e)&&e>=0&&16777215>=e?"num":void 0}}),S=function(e){var t,n,r,i,a,o,s,u;if(e=e.toLowerCase(),null!=x.colors&&x.colors[e])return N(x.colors[e]);if(a=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=a.slice(1,4),i=o=0;2>=o;i=++o)s[i]=+s[i];s[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=a.slice(1,5),i=u=0;3>=u;i=++u)s[i]=+s[i];else if(a=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=a.slice(1,4),i=t=0;2>=t;i=++t)s[i]=ye(2.55*s[i]);s[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=a.slice(1,5),i=n=0;2>=n;i=++n)s[i]=ye(2.55*s[i]);s[3]=+s[3]}else(a=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=a.slice(1,4),r[1]*=.01,r[2]*=.01,s=A(r),s[3]=1):(a=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=a.slice(1,4),r[1]*=.01,r[2]*=.01,s=A(r),s[3]=+a[4]);return s},re=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},I=function(e,t){var n;return n=1>t?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},d.css=function(e){return S(e)},x.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["css"]),function(){})},e.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?re(this._rgb):"hsl"===e.slice(0,3)?I(this.hsl(),this.alpha()):void 0},d.named=function(e){return N(ke[e])},l.push({p:20,test:function(e){return 1===arguments.length&&null!=ke[e]?"named":void 0}}),e.prototype.name=function(e){var t,n;arguments.length&&(ke[e]&&(this._rgb=N(ke[e])),this._rgb[3]=1),t=this.hex();for(n in ke)if(t===ke[n])return n;return t},Y=function(){var e,t,n,i;return i=Ee(arguments),n=i[0],e=i[1],t=i[2],t*=r,[n,k(t)*e,be(t)*e]},X=function(){var e,t,n,r,i,a,o,s,u,l,c;return n=Ee(arguments),s=n[0],i=n[1],o=n[2],l=Y(s,i,o),e=l[0],t=l[1],r=l[2],c=F(e,t,r),u=c[0],a=c[1],r=c[2],[W(u,0,255),W(a,0,255),W(r,0,255),n.length>3?n[3]:1]},q=function(){var e,t,n,r,i,a;return a=Ee(arguments),i=a[0],e=a[1],t=a[2],n=xe(e*e+t*t),r=(p(t,e)*s+360)%360,0===ye(1e4*n)&&(r=Number.NaN),[i,n,r]},le=function(){var e,t,n,r,i,a,o;return a=Ee(arguments),i=a[0],n=a[1],t=a[2],o=ue(i,n,t),r=o[0],e=o[1],t=o[2],q(r,e,t)},x.lch=function(){var t;return t=Ee(arguments),new e(t,"lch")},x.hcl=function(){var t;return t=Ee(arguments),new e(t,"hcl")},d.lch=X,d.hcl=function(){var e,t,n,r;return r=Ee(arguments),t=r[0],e=r[1],n=r[2],X([n,e,t])},e.prototype.lch=function(){return le(this._rgb)},e.prototype.hcl=function(){return le(this._rgb).reverse()},ne=function(e){var t,n,r,i,a,o,s,u,l;return null==e&&(e="rgb"),u=Ee(arguments),s=u[0],i=u[1],t=u[2],s/=255,i/=255,t/=255,a=1-Math.max(s,Math.max(i,t)),r=1>a?1/(1-a):0,n=(1-s-a)*r,o=(1-i-a)*r,l=(1-t-a)*r,[n,o,l,a]},_=function(){var e,t,n,r,i,a,o,s,u;return t=Ee(arguments),r=t[0],o=t[1],u=t[2],a=t[3],e=t.length>4?t[4]:1,1===a?[0,0,0,e]:(s=r>=1?0:ye(255*(1-r)*(1-a)),i=o>=1?0:ye(255*(1-o)*(1-a)),n=u>=1?0:ye(255*(1-u)*(1-a)),[s,i,n,e])},d.cmyk=function(){return _(Ee(arguments))},x.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["cmyk"]),function(){})},e.prototype.cmyk=function(){return ne(this._rgb)},d.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;e=Ee(arguments),n=[];for(t in e)i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;2>=n;e=++n)r[e]*=255;return r},x.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["gl"]),function(){})},e.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},ce=function(e,t,n){var r;return r=Ee(arguments),e=r[0],t=r[1],n=r[2],e=H(e),t=H(t),n=H(n),.2126*e+.7152*t+.0722*n},H=function(e){return e/=255,.03928>=e?e/12.92:te((e+.055)/1.055,2.4)},f=[],B=function(e,t,n,r){var i,a,o,s;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==_e(e)&&(e=x(e)),"object"!==_e(t)&&(t=x(t)),o=0,a=f.length;a>o;o++)if(i=f[o],r===i[0]){s=i[1](e,t,n,r);break}if(null==s)throw"color mode "+r+" is not supported";return s.alpha(e.alpha()+n*(t.alpha()-e.alpha())),s},x.interpolate=B,e.prototype.interpolate=function(e,t,n){return B(this,e,t,n)},x.mix=B,e.prototype.mix=e.prototype.interpolate,R=function(t,n,r,i){var a,o;return a=t._rgb,o=n._rgb,new e(a[0]+r*(o[0]-a[0]),a[1]+r*(o[1]-a[1]),a[2]+r*(o[2]-a[2]),i)},f.push(["rgb",R]),e.prototype.luminance=function(e,t){var n,r,i,a;return null==t&&(t="rgb"),arguments.length?(0===e?this._rgb=[0,0,0,this._rgb[3]]:1===e?this._rgb=[255,255,255,this._rgb[3]]:(r=1e-7,i=20,a=function(n,o){var s,u;return u=n.interpolate(o,.5,t),s=u.luminance(),Math.abs(e-s)<r||!i--?u:s>e?a(n,u):a(u,o)},n=ce(this._rgb),this._rgb=(n>e?a(x("black"),this):a(this,x("white"))).rgba()),this):ce(this._rgb)},we=function(e){var t,n,r,i;return i=e/100,66>i?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*U(n),t=20>i?0:-254.76935184120902+.8274096064007395*(t=i-10)+115.67994401066147*U(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*U(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*U(n),t=255),w([r,n,t])},fe=function(){var e,t,n,r,i,a,o,s,u;for(o=Ee(arguments),a=o[0],n=o[1],e=o[2],i=1e3,r=4e4,t=.4;r-i>t;)u=.5*(r+i),s=we(u),s[2]/s[0]>=e/a?r=u:i=u;return ye(u)},x.temperature=x.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["temperature"]),function(){})},d.temperature=d.kelvin=d.K=we,e.prototype.temperature=function(){return fe(this._rgb)},e.prototype.kelvin=e.prototype.temperature,x.contrast=function(t,n){var r,i,a,o;return"string"!==(a=_e(t))&&"number"!==a||(t=new e(t)),"string"!==(o=_e(n))&&"number"!==o||(n=new e(n)),r=t.luminance(),i=n.luminance(),r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},e.prototype.get=function(e){var t,n,r,i,a,o;return r=this,a=e.split("."),i=a[0],t=a[1],o=r[i](),t?(n=i.indexOf(t),n>-1?o[n]:console.warn("unknown channel "+t+" in mode "+i)):o},e.prototype.set=function(e,t){var n,r,i,a,o,s;if(i=this,o=e.split("."),a=o[0],n=o[1],n)if(s=i[a](),r=a.indexOf(n),r>-1)if("string"===_e(t))switch(t.charAt(0)){case"+":s[r]+=+t;break;case"-":s[r]+=+t;break;case"*":s[r]*=+t.substr(1);break;case"/":s[r]/=+t.substr(1);break;default:s[r]=+t}else s[r]=t;else console.warn("unknown channel "+n+" in mode "+a);else s=t;return i._rgb=x(s,a).alpha(i.alpha())._rgb,i},e.prototype.darken=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lab(),t[0]-=i.Kn*e,x.lab(t).alpha(n.alpha())},e.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},e.prototype.darker=e.prototype.darken,e.prototype.brighter=e.prototype.brighten,e.prototype.saturate=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lch(),t[1]+=e*i.Kn,t[1]<0&&(t[1]=0),x.lch(t).alpha(n.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),x(t[0]*e,t[1]*e,t[2]*e,e)},g=function(e,t,n){if(!g[n])throw"unknown blend mode "+n;return g[n](e,t)},y=function(e){return function(t,n){var r,i;return r=x(n).rgb(),i=x(t).rgb(),x(e(r,i),"rgb")}},C=function(e){return function(t,n){var r,i,a;for(a=[],r=i=0;3>=i;r=++i)a[r]=e(t[r],n[r]);return a}},Q=function(e,t){return e},K=function(e,t){return e*t/255},T=function(e,t){return e>t?t:e},$=function(e,t){return e>t?e:t},me=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ee=function(e,t){return 128>t?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},b=function(e,t){return 255*(1-(1-t/255)/(e/255))},P=function(e,t){return 255===e?255:(e=255*(t/255)/(1-e/255),e>255?255:e)},g.normal=y(C(Q)),g.multiply=y(C(K)),g.screen=y(C(me)),g.overlay=y(C(ee)),g.darken=y(C(T)),g.lighten=y(C($)),g.dodge=y(C(P)),g.burn=y(C(b)),x.blend=g,x.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;t>n;n++)i=e[n],null==i||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return x.limits(r,e,t)},r},x.scale=function(e,t){var n,r,i,a,o,s,u,l,c,d,f,h,p,v,g,y,m,b,w,_,E;return c="rgb",d=x("#ccc"),v=0,s=!1,o=[0,1],p=[],h=[0,0],n=!1,i=[],f=!1,l=0,u=1,a=!1,r={},_=function(e){var t,n,r,a,o,s,u;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===_e(e)&&null!=(null!=(a=x.brewer)?a[e]:void 0)&&(e=x.brewer[e]),"array"===_e(e)){for(e=e.slice(0),t=r=0,o=e.length-1;o>=0?o>=r:r>=o;t=o>=0?++r:--r)n=e[t],"string"===_e(n)&&(e[t]=x(n));for(p.length=0,t=u=0,s=e.length-1;s>=0?s>=u:u>=s;t=s>=0?++u:--u)p.push(t/(e.length-1))}return w(),i=e},m=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;r>t&&e>=n[t];)t++;return t-1}return 0},E=function(e){return e},g=function(e){var t,r,i,a,o;return o=e,n.length>2&&(a=n.length-1,t=m(e),i=n[0]+(n[1]-n[0])*(0+.5*v),r=n[a-1]+(n[a]-n[a-1])*(1-.5*v),o=l+(n[t]+.5*(n[t+1]-n[t])-i)/(r-i)*(u-l)),o},b=function(e,t){var a,o,s,f,v,g,y,b;if(null==t&&(t=!1),isNaN(e))return d;if(t?b=e:n&&n.length>2?(a=m(e),b=a/(n.length-2),b=h[0]+b*(1-h[0]-h[1])):u!==l?(b=(e-l)/(u-l),b=h[0]+b*(1-h[0]-h[1]),b=Math.min(1,Math.max(0,b))):b=1,t||(b=E(b)),f=Math.floor(1e4*b),r[f])o=r[f];else{if("array"===_e(i))for(s=v=0,y=p.length-1;y>=0?y>=v:v>=y;s=y>=0?++v:--v){if(g=p[s],g>=b){o=i[s];break}if(b>=g&&s===p.length-1){o=i[s];break}if(b>g&&b<p[s+1]){b=(b-g)/(p[s+1]-g),o=x.interpolate(i[s],i[s+1],b,c);break}}else"function"===_e(i)&&(o=i(b));r[f]=o}return o},w=function(){return r={}},_(e),y=function(e){var t;return t=x(b(e)),f&&t[f]?t[f]():t;
},y.classes=function(e){var t;return null!=e?("array"===_e(e)?(n=e,o=[e[0],e[e.length-1]]):(t=x.analyze(o),n=0===e?[t.min,t.max]:x.limits(t,"e",e)),y):n},y.domain=function(e){var t,n,r,a,s,c,d;if(!arguments.length)return o;if(l=e[0],u=e[e.length-1],p=[],r=i.length,e.length===r&&l!==u)for(s=0,a=e.length;a>s;s++)n=e[s],p.push((n-l)/(u-l));else for(t=d=0,c=r-1;c>=0?c>=d:d>=c;t=c>=0?++d:--d)p.push(t/(r-1));return o=[l,u],y},y.mode=function(e){return arguments.length?(c=e,w(),y):c},y.range=function(e,t){return _(e,t),y},y.out=function(e){return f=e,y},y.spread=function(e){return arguments.length?(v=e,y):v},y.correctLightness=function(e){return null==e&&(e=!0),a=e,w(),E=a?function(e){var t,n,r,i,a,o,s,u,l;for(t=b(0,!0).lab()[0],n=b(1,!0).lab()[0],s=t>n,r=b(e,!0).lab()[0],a=t+(n-t)*e,i=r-a,u=0,l=1,o=20;Math.abs(i)>.01&&o-- >0;)!function(){return s&&(i*=-1),0>i?(u=e,e+=.5*(l-e)):(l=e,e+=.5*(u-e)),r=b(e,!0).lab()[0],i=r-a}();return e}:function(e){return e},y},y.padding=function(e){return null!=e?("number"===_e(e)&&(e=[e,e]),h=e,y):h},y.colors=function(){var t,r,i,a,s,u,l,c,d;if(a=0,s="hex",1===arguments.length&&("string"===_e(arguments[0])?s=arguments[0]:a=arguments[0]),2===arguments.length&&(a=arguments[0],s=arguments[1]),a)return r=o[0],t=o[1]-r,function(){l=[];for(var e=0;a>=0?a>e:e>a;a>=0?e++:e--)l.push(e);return l}.apply(this).map(function(e){return y(r+e/(a-1)*t)[s]()});if(e=[],c=[],n&&n.length>2)for(i=d=1,u=n.length;u>=1?u>d:d>u;i=u>=1?++d:--d)c.push(.5*(n[i-1]+n[i]));else c=o;return c.map(function(e){return y(e)[s]()})},y},null==x.scales&&(x.scales={}),x.scales.cool=function(){return x.scale([x.hsl(180,1,.9),x.hsl(250,.7,.4)])},x.scales.hot=function(){return x.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},x.analyze=function(e,t,n){var r,i,a,o,s,u,l;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},l=function(e,i){return n(e,i)?r(null!=t&&"function"===_e(t)?t(e):null!=t&&"string"===_e(t)||"number"===_e(t)?e[t]:e):void 0},"array"===_e(e))for(o=0,a=e.length;a>o;o++)u=e[o],l(u);else for(i in e)u=e[i],l(u,i);return s.domain=[s.min,s.max],s.limits=function(e,t){return x.limits(s,e,t)},s},x.limits=function(e,t,n){var r,i,a,o,s,u,l,c,d,f,p,v,g,y,m,b,w,_,E,k,S,T,P,C,N,M,I,A,O,B,L,j,z,R,q,F,V,Y,X,$,W,H,G,K,Q,J,ee,ne,re,ie,ae,oe,se,ue,le;if(null==t&&(t="equal"),null==n&&(n=7),"array"===_e(e)&&(e=x.analyze(e)),N=e.min,Z=e.max,ae=e.sum,ue=e.values.sort(function(e,t){return e-t}),P=[],"c"===t.substr(0,1)&&(P.push(N),P.push(Z)),"e"===t.substr(0,1)){for(P.push(N),k=L=1,q=n-1;q>=1?q>=L:L>=q;k=q>=1?++L:--L)P.push(N+k/n*(Z-N));P.push(Z)}else if("l"===t.substr(0,1)){if(0>=N)throw"Logarithmic scales are only possible for values > 0";for(M=Math.LOG10E*U(N),C=Math.LOG10E*U(Z),P.push(N),k=le=1,F=n-1;F>=1?F>=le:le>=F;k=F>=1?++le:--le)P.push(te(10,M+k/n*(C-M)));P.push(Z)}else if("q"===t.substr(0,1)){for(P.push(N),k=r=1,H=n-1;H>=1?H>=r:r>=H;k=H>=1?++r:--r)j=ue.length*k/n,z=D(j),z===j?P.push(ue[z]):(R=j-z,P.push(ue[z]*R+ue[z+1]*(1-R)));P.push(Z)}else if("k"===t.substr(0,1)){for(A=ue.length,y=new Array(A),_=new Array(n),ie=!0,O=0,b=null,b=[],b.push(N),k=i=1,G=n-1;G>=1?G>=i:i>=G;k=G>=1?++i:--i)b.push(N+k/n*(Z-N));for(b.push(Z);ie;){for(S=a=0,K=n-1;K>=0?K>=a:a>=K;S=K>=0?++a:--a)_[S]=0;for(k=o=0,Q=A-1;Q>=0?Q>=o:o>=Q;k=Q>=0?++o:--o){for(se=ue[k],I=Number.MAX_VALUE,S=s=0,J=n-1;J>=0?J>=s:s>=J;S=J>=0?++s:--s)E=h(b[S]-se),I>E&&(I=E,m=S);_[m]++,y[k]=m}for(B=new Array(n),S=u=0,ee=n-1;ee>=0?ee>=u:u>=ee;S=ee>=0?++u:--u)B[S]=null;for(k=l=0,ne=A-1;ne>=0?ne>=l:l>=ne;k=ne>=0?++l:--l)w=y[k],null===B[w]?B[w]=ue[k]:B[w]+=ue[k];for(S=c=0,re=n-1;re>=0?re>=c:c>=re;S=re>=0?++c:--c)B[S]*=1/_[S];for(ie=!1,S=d=0,V=n-1;V>=0?V>=d:d>=V;S=V>=0?++d:--d)if(B[S]!==b[k]){ie=!0;break}b=B,O++,O>200&&(ie=!1)}for(T={},S=f=0,Y=n-1;Y>=0?Y>=f:f>=Y;S=Y>=0?++f:--f)T[S]=[];for(k=p=0,X=A-1;X>=0?X>=p:p>=X;k=X>=0?++p:--p)w=y[k],T[w].push(ue[k]);for(oe=[],S=v=0,$=n-1;$>=0?$>=v:v>=$;S=$>=0?++v:--v)oe.push(T[S][0]),oe.push(T[S][T[S].length-1]);for(oe=oe.sort(function(e,t){return e-t}),P.push(oe[0]),k=g=1,W=oe.length-1;W>=g;k=g+=2)isNaN(oe[k])||P.push(oe[k])}return P},M=function(e,t,n){var r,i,a,s;return r=Ee(arguments),e=r[0],t=r[1],n=r[2],e/=360,1/3>e?(i=(1-t)/3,s=(1+t*k(u*e)/k(o-u*e))/3,a=1-(i+s)):2/3>e?(e-=1/3,s=(1-t)/3,a=(1+t*k(u*e)/k(o-u*e))/3,i=1-(s+a)):(e-=2/3,a=(1-t)/3,i=(1+t*k(u*e)/k(o-u*e))/3,s=1-(a+i)),s=W(n*s*3),a=W(n*a*3),i=W(n*i*3),[255*s,255*a,255*i,r.length>3?r[3]:1]},ae=function(){var e,t,n,r,i,a,o,s;return o=Ee(arguments),a=o[0],t=o[1],e=o[2],u=2*Math.PI,a/=255,t/=255,e/=255,i=Math.min(a,t,e),r=(a+t+e)/3,s=1-i/r,0===s?n=0:(n=(a-t+(a-e))/2,n/=Math.sqrt((a-t)*(a-t)+(a-e)*(t-e)),n=Math.acos(n),e>t&&(n=u-n),n/=u),[360*n,s,r]},x.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(e,Pe.call(arguments).concat(["hsi"]),function(){})},d.hsi=M,e.prototype.hsi=function(){return ae(this._rgb)},L=function(e,t,n,r){var i,a,o,s,u,l,c,d,f,h,p,v,g;return"hsl"===r?(v=e.hsl(),g=t.hsl()):"hsv"===r?(v=e.hsv(),g=t.hsv()):"hsi"===r?(v=e.hsi(),g=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",v=e.hcl(),g=t.hcl()),"h"===r.substr(0,1)&&(o=v[0],h=v[1],l=v[2],s=g[0],p=g[1],c=g[2]),isNaN(o)||isNaN(s)?isNaN(o)?isNaN(s)?a=Number.NaN:(a=s,1!==l&&0!==l||"hsv"===r||(f=p)):(a=o,1!==c&&0!==c||"hsv"===r||(f=h)):(i=s>o&&s-o>180?s-(o+360):o>s&&o-s>180?s+360-o:s-o,a=o+n*i),null==f&&(f=h+n*(p-h)),u=l+n*(c-l),d=x[r](a,f,u)},f=f.concat(function(){var e,t,n,r;for(n=["hsv","hsl","hsi","hcl","lch"],r=[],t=0,e=n.length;e>t;t++)G=n[t],r.push([G,L]);return r}()),z=function(e,t,n,r){var i,a;return i=e.num(),a=t.num(),x.num(i+(a-i)*n,"num")},f.push(["num",z]),j=function(t,n,r,i){var a,o,s;return o=t.lab(),s=n.lab(),a=new e(o[0]+r*(s[0]-o[0]),o[1]+r*(s[1]-o[1]),o[2]+r*(s[2]-o[2]),i)},f.push(["lab",j])}).call(this)},{}],5:[function(e,t,n){!function(){"use strict";var e=function(e,t){function n(e){var t=this.options={};for(var n in i)t[n]=i[n];for(var n in e)t[n]=e[n]}if(e&&t){var r=function(e){return"function"==typeof e},i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,boundingBox:void 0,ready:function(){},stop:function(){}};n.prototype.run=function(){var e=this.options,n=this,i=e.cy,a=e.eles,o=function(e,t){return r(t)?t.apply(e,[e]):t},s=e.boundingBox||{x1:0,y1:0,w:i.width(),h:i.height()};void 0===s.x2&&(s.x2=s.x1+s.w),void 0===s.w&&(s.w=s.x2-s.x1),void 0===s.y2&&(s.y2=s.y1+s.h),void 0===s.h&&(s.h=s.y2-s.y1);var u=new t.graphlib.Graph({multigraph:!0,compound:!0}),l={},c=function(e,t){null!=t&&(l[e]=t)};c("nodesep",e.nodeSep),c("edgesep",e.edgeSep),c("ranksep",e.rankSep),c("rankdir",e.rankDir),u.setGraph(l),u.setDefaultEdgeLabel(function(){return{}}),u.setDefaultNodeLabel(function(){return{}});for(var d=a.nodes(),f=0;f<d.length;f++){var h=d[f],p=h.boundingBox();u.setNode(h.id(),{width:p.w,height:p.h,name:h.id()})}for(var f=0;f<d.length;f++){var h=d[f];h.isChild()&&u.setParent(h.id(),h.parent().id())}for(var v=a.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),f=0;f<v.length;f++){var g=v[f];u.setEdge(g.source().id(),g.target().id(),{minlen:o(g,e.minLen),weight:o(g,e.edgeWeight),name:g.id()},g.id())}t.layout(u);for(var y=u.nodes(),f=0;f<y.length;f++){var m=y[f],b=u.node(m);i.getElementById(m).scratch().dagre=b}var x;e.boundingBox?(x={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)},d.forEach(function(e){var t=e.scratch().dagre;x.x1=Math.min(x.x1,t.x),x.x2=Math.max(x.x2,t.x),x.y1=Math.min(x.y1,t.y),x.y2=Math.max(x.y2,t.y)}),x.w=x.x2-x.x1,x.h=x.y2-x.y1):x=s;var w=function(t){if(e.boundingBox){var n=0===x.w?0:(t.x-x.x1)/x.w,r=0===x.h?0:(t.y-x.y1)/x.h;return{x:s.x1+n*s.w,y:s.y1+r*s.h}}return t};return d.layoutPositions(n,e,function(){var e=this.scratch().dagre;return w({x:e.x,y:e.y})}),this},e("layout","dagre",n)}};"undefined"!=typeof t&&t.exports&&(t.exports=e),"undefined"!=typeof define&&define.amd&&define("cytoscape-dagre",function(){return e}),"undefined"!=typeof cytoscape&&"undefined"!=typeof dagre&&e(cytoscape,dagre)}()},{}],6:[function(e,t,n){!function(e,n){"use strict";function r(e,t){function n(e,n){var i=e.scratch().qtip,o=t.extend({},n);o.id||(o.id="cy-qtip-target-"+(Date.now()+Math.round(1e4*Math.random()))),i.$domEle||(i.$domEle=r),o.position=o.position||{},o.position.container=o.position.container||t(document.body),o.position.viewport=o.position.viewport||t(document.body),o.position.target=[0,0],o.position.my=o.position.my||"top center",o.position.at=o.position.at||"bottom center";var c=o.position.adjust=o.position.adjust||{};return c.method=c.method||"flip",c.mouse=!1,u(c.cyAdjustToEleBB)&&(c.cyAdjustToEleBB=!0),o.show=o.show||{},u(o.show.event)&&(o.show.event="tap"),o.hide=o.hide||{},o.hide.cyViewport=void 0===o.hide.cyViewport?!0:o.hide.cyViewport,u(o.hide.event)&&(o.hide.event="unfocus"),o.overwrite=!1,o.content&&(a(o.content)||s(o.content)?o.content=l(o.content,e):o.content={text:l(o.content.text,e),title:l(o.content.title,e)}),o}var r=t("<div></div>"),i=250;e("collection","qtip",function(e){var t=this,r=this.cy(),a=r.container();return"api"===e?this.scratch().qtip.api:(t.each(function(t,s){var u=s.scratch(),l=u.qtip=u.qtip||{},d=n(s,e),f=d.position.adjust;l.$domEle.qtip(d);var h=l.api=l.$domEle.qtip("api");l.$domEle.removeData("qtip");var p=function(e){var t=a.getBoundingClientRect(),n=s.renderedPosition()||(e?e.cyRenderedPosition:void 0);if(n&&null!=n.x&&!isNaN(n.x)){if(d.position.adjust.cyAdjustToEleBB&&s.isNode()){var i=(d.position.my.toLowerCase(),d.position.at.toLowerCase()),u=r.zoom(),l=s.outerWidth()*u,c=s.outerHeight()*u;i.match("top")?n.y-=c/2:i.match("bottom")&&(n.y+=c/2),i.match("left")?n.x-=l/2:i.match("right")&&(n.x+=l/2),o(f.x)&&(n.x+=f.x),o(f.y)&&(n.y+=f.y)}h.set("position.adjust.x",t.left+n.x+window.pageXOffset),h.set("position.adjust.y",t.top+n.y+window.pageYOffset)}};p(),s.on(d.show.event,function(e){p(e),h.show()}),s.on(d.hide.event,function(e){h.hide()}),d.hide.cyViewport&&r.on("viewport",c(function(){h.hide()},i,{leading:!0})),d.position.adjust.cyViewport&&r.on("pan zoom",c(function(e){p(e),h.reposition()},i,{trailing:!0}))}),this)}),e("core","qtip",function(e){var t=this,r=t.container();if("api"===e)return this.scratch().qtip.api;var a=t.scratch(),o=a.qtip=a.qtip||{},s=n(t,e);o.$domEle.qtip(s);var u=o.api=o.$domEle.qtip("api");o.$domEle.removeData("qtip");var l=function(e){var t=r.getBoundingClientRect(),n=e.cyRenderedPosition;n&&null!=n.x&&!isNaN(n.x)&&(u.set("position.adjust.x",t.left+n.x+window.pageXOffset),u.set("position.adjust.y",t.top+n.y+window.pageYOffset))};return t.on(s.show.event,function(e){(!s.show.cyBgOnly||s.show.cyBgOnly&&e.cyTarget===t)&&(l(e),u.show())}),t.on(s.hide.event,function(e){(!s.hide.cyBgOnly||s.hide.cyBgOnly&&e.cyTarget===t)&&u.hide()}),s.hide.cyViewport&&t.on("viewport",c(function(){u.hide()},i,{leading:!0})),this})}var i=function(e){return null!=e&&"object"==typeof e},a=function(e){return null!=e&&"function"==typeof e},o=function(e){return null!=e&&"number"==typeof e},s=function(e){return null!=e&&"string"==typeof e},u=function(e){return void 0===e},l=function(e,t){return a(e)?function(n,r){return e.apply(t,[n,r])}:e},c=function(e,t,n){var r,o,s,u,l,c,d,f=0,h=!1,p=!0;if(a(e)){if(t=Math.max(0,t)||0,n===!0){var v=!0;p=!1}else i(n)&&(v=n.leading,h="maxWait"in n&&(Math.max(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var g=function(){var n=t-(Date.now()-u);if(0>=n){o&&clearTimeout(o);var i=d;o=c=d=void 0,i&&(f=Date.now(),s=e.apply(l,r),c||o||(r=l=null))}else c=setTimeout(g,n)},y=function(){c&&clearTimeout(c),o=c=d=void 0,(p||h!==t)&&(f=Date.now(),s=e.apply(l,r),c||o||(r=l=null))};return function(){if(r=arguments,u=Date.now(),l=this,d=p&&(c||!v),h===!1)var n=v&&!c;else{o||v||(f=u);var i=h-(u-f),a=0>=i;a?(o&&(o=clearTimeout(o)),f=u,s=e.apply(l,r)):o||(o=setTimeout(y,i))}return a&&c?c=clearTimeout(c):c||t===h||(c=setTimeout(g,t)),n&&(a=!0,s=e.apply(l,r)),!a||c||o||(r=l=null),s}}};"undefined"!=typeof t&&t.exports&&(t.exports=r),"undefined"!=typeof define&&define.amd&&define("cytoscape-qtip",function(){return r}),e&&n&&r(n,e)}("undefined"!=typeof jQuery?jQuery:null,"undefined"!=typeof cytoscape?cytoscape:null)},{}],7:[function(e,t,n){"use strict"},{}],8:[function(e,t,n){"use strict";var r=e("./util"),i=e("./is"),a=e("./promise"),o=function(e,t,n){if(!(this instanceof o))return new o(e,t,n);var a=this._private=r.extend({duration:1e3},t,n);a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&i.fn(a.complete)&&a.completes.push(a.complete),this.length=1,this[0]=this},s=o.prototype;r.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;t=e.queue?n.queue:n.current,t.push(this),i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];e[t]=e[n],e[n]=r};n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition");for(var r=0;r<e.style.length;r++){var i=e.style[r],a=i.name,o=e.startStyle[a];e.startStyle[a]=i,e.style[r]=o}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new a(function(e,n){t.push(function(){e()})})}}),s.complete=s.completed,t.exports=o},{"./is":89,"./promise":92,"./util":106}],9:[function(e,t,n){"use strict";var r=e("../../is"),i={aStar:function(e){var t=this;e=e||{};var n=function(e,t,r,i){if(e==t)return i.push(a.getElementById(t)),i;if(t in r){var o=r[t],s=p[t];return i.push(a.getElementById(t)),i.push(a.getElementById(s)),n(e,o,r,i)}},i=function(e,t){if(0!==e.length){for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];r>a&&(r=a,n=i)}return n}},a=this._private.cy;if(null!=e&&null!=e.root){var o=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var s=r.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&r.fn(e.heuristic))var u=e.heuristic;else var u=function(){return 0};if(null!=e.weight&&r.fn(e.weight))var l=e.weight;else var l=function(e){return 1};if(null!=e.directed)var c=e.directed;else var c=!1;var d=[],f=[o.id()],h={},p={},v={},g={};v[o.id()]=0,g[o.id()]=u(o);for(var y=this.edges().stdFilter(function(e){return!e.isLoop()}),m=this.nodes(),b=0;f.length>0;){var x=i(f,g),w=a.getElementById(f[x]);if(b++,w.id()==s.id()){var _=n(o.id(),s.id(),h,[]);return _.reverse(),{found:!0,distance:v[w.id()],path:t.spawn(_),steps:b}}d.push(w.id()),f.splice(x,1);var E=w.connectedEdges();c&&(E=E.stdFilter(function(e){return e.data("source")===w.id()})),E=E.intersect(y);for(var k=0;k<E.length;k++){var S=E[k],T=S.connectedNodes().stdFilter(function(e){return e.id()!==w.id()}).intersect(m);if(-1==d.indexOf(T.id())){var P=v[w.id()]+l.apply(S,[S]);-1!=f.indexOf(T.id())?P<v[T.id()]&&(v[T.id()]=P,g[T.id()]=P+u(T),h[T.id()]=w.id()):(v[T.id()]=P,g[T.id()]=P+u(T),f.push(T.id()),h[T.id()]=w.id(),p[T.id()]=S.id())}}}return{found:!1,distance:void 0,path:void 0,steps:b}}}}};t.exports=i},{"../../is":89}],10:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../util"),a={bellmanFord:function(e){var t=this;if(e=e||{},null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(e){return 1};if(null!=e.directed)var a=e.directed;else var a=!1;if(null!=e.root){if(r.string(e.root))var o=this.filter(e.root)[0];else var o=e.root[0];for(var s=this._private.cy,u=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),c=l.length,d={},f=0;c>f;f++)d[l[f].id()]=f;for(var h=[],p=[],v=[],f=0;c>f;f++)l[f].id()===o.id()?h[f]=0:h[f]=1/0,p[f]=void 0;for(var g=!1,f=1;c>f;f++){g=!1;for(var y=0;y<u.length;y++){var m=d[u[y].source().id()],b=d[u[y].target().id()],x=n.apply(u[y],[u[y]]),w=h[m]+x;if(w<h[b]&&(h[b]=w,p[b]=m,v[b]=u[y],g=!0),!a){var w=h[b]+x;w<h[m]&&(h[m]=w,p[m]=b,v[m]=u[y],g=!0)}}if(!g)break}if(g)for(var y=0;y<u.length;y++){var m=d[u[y].source().id()],b=d[u[y].target().id()],x=n.apply(u[y],[u[y]]);if(h[m]+x<h[b])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var _=[],f=0;c>f;f++)_.push(l[f].id());var E={distanceTo:function(e){if(r.string(e))var t=s.filter(e)[0].id();else var t=e.id();return h[d[t]]},pathTo:function(e){var n=function(e,t,n,r,i,a){for(;;){if(i.push(s.getElementById(r[n])),i.push(a[n]),t===n)return i;var o=e[n];if("undefined"==typeof o)return;n=o}};if(r.string(e))var i=s.filter(e)[0].id();else var i=e.id();var a=[],u=n(p,d[o.id()],d[i],_,a,v);return null!=u&&u.reverse(),t.spawn(u)},hasNegativeWeightCycle:!1};return E}}};t.exports=a},{"../../is":89,"../../util":106}],11:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../heap"),a={betweennessCentrality:function(e){e=e||{};var t,n;r.fn(e.weight)?(n=e.weight,t=!0):t=!1;for(var a,o=null!=e.directed?e.directed:!1,s=this._private.cy,u=this.nodes(),l={},c={},d={set:function(e,t){c[e]=t,t>a&&(a=t)},get:function(e){return c[e]}},f=0;f<u.length;f++){var h=u[f],p=h.id();o?l[p]=h.outgoers().nodes():l[p]=h.openNeighborhood().nodes(),d.set(p,0)}for(var v=0;v<u.length;v++){for(var g=u[v].id(),y=[],m={},b={},x={},w=new i(function(e,t){return x[e]-x[t]}),f=0;f<u.length;f++){var p=u[f].id();m[p]=[],b[p]=0,x[p]=1/0}for(b[g]=1,x[g]=0,w.push(g);!w.empty();){var h=w.pop();if(y.push(h),t)for(var _=0;_<l[h].length;_++){var E,k=l[h][_],S=s.getElementById(h);E=S.edgesTo(k).length>0?S.edgesTo(k)[0]:k.edgesTo(S)[0];var T=n.apply(E,[E]);k=k.id(),x[k]>x[h]+T&&(x[k]=x[h]+T,w.nodes.indexOf(k)<0?w.push(k):w.updateItem(k),b[k]=0,m[k]=[]),x[k]==x[h]+T&&(b[k]=b[k]+b[h],m[k].push(h))}else for(var _=0;_<l[h].length;_++){var k=l[h][_].id();x[k]==1/0&&(w.push(k),x[k]=x[h]+1),x[k]==x[h]+1&&(b[k]=b[k]+b[h],m[k].push(h))}}for(var P={},f=0;f<u.length;f++)P[u[f].id()]=0;for(;y.length>0;)for(var k=y.pop(),_=0;_<m[k].length;_++){var h=m[k][_];P[h]=P[h]+b[h]/b[k]*(1+P[k]),k!=u[v].id()&&d.set(k,d.get(k)+P[k])}}var C={betweenness:function(e){if(r.string(e))var e=s.filter(e).id();else var e=e.id();return d.get(e)},betweennessNormalized:function(e){if(r.string(e))var e=s.filter(e).id();else var e=e.id();return d.get(e)/a}};return C.betweennessNormalised=C.betweennessNormalized,C}};a.bc=a.betweennessCentrality,t.exports=a},{"../../heap":87,"../../is":89}],12:[function(e,t,n){"use strict";var r=e("../../is"),i=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var a,o,s;r.plainObject(t)&&!r.elementOrCollection(t)&&(a=t,t=a.roots||a.root,n=a.visit,i=a.directed,o=a.std,s=a.thisArg),i=2!==arguments.length||r.fn(n)?i:n,n=r.fn(n)?n:function(){};for(var u,l=this._private.cy,c=t=r.string(t)?this.filter(t):t,d=[],f=[],h={},p={},v={},g=0,y=this.nodes(),m=this.edges(),b=0;b<c.length;b++)c[b].isNode()&&(d.unshift(c[b]),e.bfs&&(v[c[b].id()]=!0,f.push(c[b])),p[c[b].id()]=0);for(;0!==d.length;){var c=e.bfs?d.shift():d.pop();if(e.dfs){if(v[c.id()])continue;v[c.id()]=!0,f.push(c)}var x,w=p[c.id()],_=h[c.id()],E=null==_?void 0:_.connectedNodes().not(c)[0];if(x=o?n.call(s,c,_,E,g++,w):n.call(c,g++,w,c,_,E),x===!0){u=c;break}if(x===!1)break;for(var k=c.connectedEdges(i?function(){return this.data("source")===c.id()}:void 0).intersect(m),b=0;b<k.length;b++){var S=k[b],T=S.connectedNodes(function(){return this.id()!==c.id()}).intersect(y);0===T.length||v[T.id()]||(T=T[0],d.push(T),e.bfs&&(v[T.id()]=!0,f.push(T)),h[T.id()]=S,p[T.id()]=p[c.id()]+1)}}for(var P=[],b=0;b<f.length;b++){var C=f[b],D=h[C.id()];D&&P.push(D),P.push(C)}return{path:l.collection(P,{unique:!0}),found:l.collection(u)}}},a={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};a.bfs=a.breadthFirstSearch,a.dfs=a.depthFirstSearch,t.exports=a},{"../../is":89}],13:[function(e,t,n){"use strict";var r=e("../../is"),i={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),n=e.harmonic;void 0===n&&(n=!0);for(var i={},a=0,o=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),u=0;u<o.length;u++){for(var l=0,c=0;c<o.length;c++)if(u!=c){var d=s.distance(o[u],o[c]);l+=n?1/d:d}n||(l=1/l),l>a&&(a=l),i[o[u].id()]=l}return{closeness:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return i[e]/a}}},closenessCentrality:function(e){if(e=e||{},null!=e.root){if(r.string(e.root))var t=this.filter(e.root)[0];else var t=e.root[0];if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(){return 1};if(null!=e.directed&&r.bool(e.directed))var i=e.directed;else var i=!1;var a=e.harmonic;void 0===a&&(a=!0);for(var o=this.dijkstra({root:t,weight:n,directed:i}),s=0,u=this.nodes(),l=0;l<u.length;l++)if(u[l].id()!=t.id()){var c=o.distanceTo(u[l]);s+=a?1/c:c}return a?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,t.exports=i},{"../../is":89}],14:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../util"),a={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var n=e.directed;else var n=!1;var a=this.nodes(),o=a.length;if(n){for(var s={},u={},l=0,c=0,d=0;o>d;d++){var f=a[d],h=this.degreeCentrality(i.extend({},e,{root:f}));l<h.indegree&&(l=h.indegree),c<h.outdegree&&(c=h.outdegree),s[f.id()]=h.indegree,u[f.id()]=h.outdegree}return{indegree:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return s[e]/l},outdegree:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return u[e]/c}}}for(var p={},v=0,d=0;o>d;d++){var f=a[d],h=this.degreeCentrality(i.extend({},e,{root:f}));v<h.degree&&(v=h.degree),p[f.id()]=h.degree}return{degree:function(e){if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return p[e]/v}}},degreeCentrality:function(e){e=e||{};var t=this;if(null!=e&&null!=e.root){var n=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&r.fn(e.weight))var i=e.weight;else var i=function(e){return 1};if(null!=e.directed)var a=e.directed;else var a=!1;if(null!=e.alpha&&r.number(e.alpha))var o=e.alpha;else o=0;if(a){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(t),u=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(t),l=s.length,c=u.length,d=0,f=0,h=0;h<s.length;h++){var p=s[h];d+=i.apply(p,[p])}for(var h=0;h<u.length;h++){var p=u[h];f+=i.apply(p,[p])}return{indegree:Math.pow(l,1-o)*Math.pow(d,o),outdegree:Math.pow(c,1-o)*Math.pow(f,o)}}for(var v=n.connectedEdges().intersection(t),g=v.length,y=0,h=0;h<v.length;h++){var p=v[h];y+=i.apply(p,[p])}return{degree:Math.pow(g,1-o)*Math.pow(y,o)}}}};a.dc=a.degreeCentrality,a.dcn=a.degreeCentralityNormalised=a.degreeCentralityNormalized,t.exports=a},{"../../is":89,"../../util":106}],15:[function(e,t,n){"use strict";var r=e("../../is"),i=e("../../heap"),a={dijkstra:function(e,t,n){var a;r.plainObject(e)&&!r.elementOrCollection(e)&&(a=e,e=a.root,t=a.weight,n=a.directed);var o=this._private.cy;t=r.fn(t)?t:function(){return 1};for(var s=r.string(e)?this.filter(e)[0]:e[0],u={},l={},c={},d=this.edges().filter(function(){return!this.isLoop()}),f=this.nodes(),h=function(e){return u[e.id()]},p=function(e,t){u[e.id()]=t,v.updateItem(e)},v=new i(function(e,t){return h(e)-h(t)}),g=0;g<f.length;g++){var y=f[g];u[y.id()]=y.same(s)?0:1/0,v.push(y)}for(var m=function(e,r){for(var i,a=(n?e.edgesTo(r):e.edgesWith(r)).intersect(d),o=1/0,s=0;s<a.length;s++){var u=a[s],l=t.apply(u,[u]);(o>l||!i)&&(o=l,i=u)}return{edge:i,dist:o}};v.size()>0;){var b=v.pop(),x=h(b),w=b.id();if(c[w]=x,x===Math.Infinite)break;for(var _=b.neighborhood().intersect(f),g=0;g<_.length;g++){var E=_[g],k=E.id(),S=m(b,E),T=x+S.dist;T<h(E)&&(p(E,T),l[k]={node:b,edge:S.edge})}}return{distanceTo:function(e){var t=r.string(e)?f.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=r.string(e)?f.filter(e)[0]:e[0],n=[],i=t;if(t.length>0)for(n.unshift(t);l[i.id()];){var a=l[i.id()];n.unshift(a.edge),n.unshift(a.node),i=a.node}return o.collection(n)}}}};t.exports=a},{"../../heap":87,"../../is":89}],16:[function(e,t,n){"use strict";var r=e("../../is"),i={floydWarshall:function(e){e=e||{};var t=this.cy();if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(e){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,u={},l=0;s>l;l++)u[o[l].id()]=l;for(var c=[],l=0;s>l;l++){for(var d=new Array(s),f=0;s>f;f++)l==f?d[f]=0:d[f]=1/0;c.push(d)}var h=[],p=[],v=function(e){for(var t=0;s>t;t++){for(var n=new Array(s),r=0;s>r;r++)n[r]=void 0;e.push(n)}};v(h),v(p);for(var l=0;l<a.length;l++){var g=u[a[l].source().id()],y=u[a[l].target().id()],m=n.apply(a[l],[a[l]]);c[g][y]>m&&(c[g][y]=m,h[g][y]=y,p[g][y]=a[l])}if(!i)for(var l=0;l<a.length;l++){var g=u[a[l].target().id()],y=u[a[l].source().id()],m=n.apply(a[l],[a[l]]);c[g][y]>m&&(c[g][y]=m,h[g][y]=y,p[g][y]=a[l])}for(var b=0;s>b;b++)for(var l=0;s>l;l++)for(var f=0;s>f;f++)c[l][b]+c[b][f]<c[l][f]&&(c[l][f]=c[l][b]+c[b][f],h[l][f]=h[l][b]);for(var x=[],l=0;s>l;l++)x.push(o[l].id());var w={distance:function(e,n){if(r.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(r.string(n))var a=t.filter(n)[0].id();else var a=n.id();return c[u[i]][u[a]]},path:function(e,n){var i=function(e,n,r,i,a){if(e===n)return t.getElementById(i[e]);if(void 0!==r[e][n]){for(var o=[t.getElementById(i[e])],s=e;e!==n;){s=e,e=r[e][n];var u=a[s][e];o.push(u),o.push(t.getElementById(i[e]))}return o}};if(r.string(e))var a=t.filter(e)[0].id();else var a=e.id();if(r.string(n))var o=t.filter(n)[0].id();else var o=n.id();var s=i(u[a],u[o],h,x,p);return t.collection(s)}};return w}};t.exports=i},{"../../is":89}],17:[function(e,t,n){"use strict";var r=e("../../util"),i={};[e("./bfs-dfs"),e("./dijkstra"),e("./kruskal"),e("./a-star"),e("./floyd-warshall"),e("./bellman-ford"),e("./kerger-stein"),e("./page-rank"),e("./degree-centrality"),e("./closeness-centrality"),e("./betweenness-centrality")].forEach(function(e){r.extend(i,e)}),t.exports=i},{"../../util":106,"./a-star":9,"./bellman-ford":10,"./betweenness-centrality":11,"./bfs-dfs":12,"./closeness-centrality":13,"./degree-centrality":14,"./dijkstra":15,"./floyd-warshall":16,"./kerger-stein":18,"./kruskal":19,"./page-rank":20}],18:[function(e,t,n){"use strict";var r=e("../../util"),i={kargerStein:function(e){var t=this;e=e||{};var n=function(e,t,n){for(var r=n[e],i=r[1],a=r[2],o=t[i],s=t[a],u=n.filter(function(e){return t[e[1]]===o&&t[e[2]]===s?!1:t[e[1]]!==s||t[e[2]]!==o}),l=0;l<u.length;l++){var c=u[l];c[1]===s?(u[l]=c.slice(0),u[l][1]=o):c[2]===s&&(u[l]=c.slice(0),u[l][2]=o)}for(var l=0;l<t.length;l++)t[l]===s&&(t[l]=o);return u},i=function(e,t,r,a){if(a>=r)return t;var o=Math.floor(Math.random()*t.length),s=n(o,e,t);return i(e,s,r-1,a)},a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),u=s.length,l=o.length,c=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),d=Math.floor(u/Math.sqrt(2));if(2>u)return void r.error("At least 2 nodes are required for Karger-Stein algorithm");for(var f={},h=0;u>h;h++)f[s[h].id()]=h;for(var p=[],h=0;l>h;h++){var v=o[h];p.push([h,f[v.source().id()],f[v.target().id()]])}for(var g,y=1/0,m=[],h=0;u>h;h++)m.push(h);for(var b=0;c>=b;b++){var x=m.slice(0),w=i(x,p,u,d),_=x.slice(0),E=i(x,w,d,2),k=i(_,w,d,2);E.length<=k.length&&E.length<y?(y=E.length,g=[E,x]):k.length<=E.length&&k.length<y&&(y=k.length,g=[k,_])}for(var S=g[0].map(function(e){return o[e[0]]}),T=[],P=[],C=g[1][0],h=0;h<g[1].length;h++){var D=g[1][h];D===C?T.push(s[h]):P.push(s[h])}var N={cut:t.spawn(a,S),partition1:t.spawn(T),partition2:t.spawn(P)};return N}};t.exports=i},{"../../util":106}],19:[function(e,t,n){"use strict";var r=e("../../is"),i={kruskal:function(e){function t(e){for(var t=0;t<a.length;t++){var n=a[t];if(n.anySame(e))return{eles:n,index:t}}}var n=this.cy();e=r.fn(e)?e:function(){return 1};for(var i=n.collection(n,[]),a=[],o=this.nodes(),s=0;s<o.length;s++)a.push(o[s].collection());for(var u=this.edges(),l=u.toArray().sort(function(t,n){var r=e.call(t,t),i=e.call(n,n);return r-i}),s=0;s<l.length;s++){var c=l[s],d=c.source()[0],f=c.target()[0],h=t(d),p=t(f);h.index!==p.index&&(i=i.add(c),a[h.index]=h.eles.add(p.eles),a.splice(p.index,1))}return o.add(i)}};t.exports=i},{"../../is":89}],20:[function(e,t,n){"use strict";var r=e("../../is"),i={pageRank:function(e){e=e||{};var t=function(e){for(var t=e.length,n=0,r=0;t>r;r++)n+=e[r];for(var r=0;t>r;r++)e[r]=e[r]/n};if(null!=e&&null!=e.dampingFactor)var n=e.dampingFactor;else var n=.8;if(null!=e&&null!=e.precision)var i=e.precision;else var i=1e-6;if(null!=e&&null!=e.iterations)var a=e.iterations;else var a=200;if(null!=e&&null!=e.weight&&r.fn(e.weight))var o=e.weight;else var o=function(e){return 1};for(var s=this._private.cy,u=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),c=l.length,d=u.length,f={},h=0;c>h;h++)f[l[h].id()]=h;for(var p=[],v=[],g=(1-n)/c,h=0;c>h;h++){for(var y=[],m=0;c>m;m++)y.push(0);p.push(y),v.push(0)}for(var h=0;d>h;h++){var b=u[h],x=f[b.source().id()],w=f[b.target().id()],_=o.apply(b,[b]);p[w][x]+=_,v[x]+=_}for(var E=1/c+g,m=0;c>m;m++)if(0===v[m])for(var h=0;c>h;h++)p[h][m]=E;else for(var h=0;c>h;h++)p[h][m]=p[h][m]/v[m]+g;for(var k,S=[],T=[],h=0;c>h;h++)S.push(1),T.push(0);for(var P=0;a>P;P++){for(var C=T.slice(0),h=0;c>h;h++)for(var m=0;c>m;m++)C[h]+=p[h][m]*S[m];t(C),k=S,S=C;for(var D=0,h=0;c>h;h++)D+=Math.pow(k[h]-S[h],2);if(i>D)break}var N={rank:function(e){if(r.string(e))var t=s.filter(e)[0].id();else var t=e.id();return S[f[t]]}};return N}};t.exports=i},{"../../is":89}],21:[function(e,t,n){"use strict";var r=e("../define"),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};t.exports=i},{"../define":50}],22:[function(e,t,n){"use strict";var r=e("../util"),i={classes:function(e){e=e.match(/\S+/g)||[];for(var t=this,n=[],i={},a=0;a<e.length;a++){var o=e[a];i[o]=!0}for(var s=0;s<t.length;s++){for(var u=t[s],l=u._private,c=l.classes,d=!1,a=0;a<e.length;a++){var o=e[a],f=c[o];if(!f){d=!0;break}}if(!d)for(var h in c){var f=c[h],p=i[h];if(f&&!p){d=!0;break}}d&&(l.classes=r.copy(i),n.push(u))}return n.length>0&&this.spawn(n).updateStyle().trigger("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return!(null==t||!t._private.classes[e])},toggleClass:function(e,t){for(var n=e.match(/\S+/g)||[],r=this,i=[],a=0,o=r.length;o>a;a++)for(var s=r[a],u=!1,l=0;l<n.length;l++){var c=n[l],d=s._private.classes,f=d[c],h=t||void 0===t&&!f;h?(d[c]=!0,f||u||(i.push(s),u=!0)):(d[c]=!1,f&&!u&&(i.push(s),u=!0))}return i.length>0&&this.spawn(i).updateStyle().trigger("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){
var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};t.exports=i},{"../util":106}],23:[function(e,t,n){"use strict";var r={allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var n=0;n<this.length;n++){var r=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(r)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var r=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!r)return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){return e=this.cy().collection(e),this.intersect(e).length>0},allAreNeighbors:function(e){return e=this.cy().collection(e),this.neighborhood().intersect(e).length===e.length}};r.allAreNeighbours=r.allAreNeighbors,t.exports=r},{}],24:[function(e,t,n){"use strict";var r={parent:function(e){for(var t=[],n=this._private.cy,r=0;r<this.length;r++){var i=this[r],a=n.getElementById(i._private.data.parent);a.size()>0&&t.push(a)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n],i=r.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];t=t.concat(r._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(e){function t(e){for(var r=0;r<e.length;r++){var i=e[r];n.push(i),i.children().nonempty()&&t(i.children())}}var n=[];return t(this.children()),this.spawn(n,{unique:!0}).filter(e)}};r.ancestors=r.parents,t.exports=r},{}],25:[function(e,t,n){"use strict";var r,i,a=e("../define");r=i={data:a.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:a.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:a.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:a.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:a.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:a.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0}},r.attr=r.data,r.removeAttr=r.removeData,t.exports=i},{"../define":50}],26:[function(e,t,n){"use strict";function r(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(r+=e(i,s))}return r}}}function i(e,t){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](n);void 0===s||void 0!==r&&!t(s,r)||(r=s)}return r}}var a=e("../util"),o={};a.extend(o,{degree:r(function(e,t){return t.source().same(t.target())?2:1}),indegree:r(function(e,t){return t.target().same(e)?1:0}),outdegree:r(function(e,t){return t.source().same(e)?1:0})}),a.extend(o,{minDegree:i("degree",function(e,t){return t>e}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return t>e}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return t>e}),maxOutdegree:i("outdegree",function(e,t){return e>t})}),a.extend(o,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}}),t.exports=o},{"../util":106}],27:[function(e,t,n){"use strict";var r,i,a=e("../define"),o=e("../is"),s=e("../util"),u=e("../math");r=i={position:a.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()&&!e.isParent()}}),silentPosition:a.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()&&!e.isParent()}}),positions:function(e,t){if(o.plainObject(e))this.position(e);else if(o.fn(e)){for(var n=e,r=0;r<this.length;r++){var i=this[r],e=n.apply(i,[r,i]);if(e&&!i.locked()&&!i.isParent()){var a=i._private.position;a.x=e.x,a.y=e.y}}var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;t?u.trigger("position"):u.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),a=r.pan(),s=o.plainObject(e)?e:void 0,u=void 0!==s||void 0!==t&&o.string(e);if(n&&n.isNode()){if(!u){var l=n._private.position;return s={x:l.x*i+a.x,y:l.y*i+a.y},void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var n=this[c];void 0!==t?n._private.position[e]=(t-a[e])/i:void 0!==s&&(n._private.position={x:(s.x-a.x)/i,y:(s.y-a.y)/i})}this.rtrigger("position")}else if(!u)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=o.plainObject(e)?e:void 0,a=void 0!==i||void 0!==t&&o.string(e),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var u=n._private.position,l=s?n.parent():null,c=l&&l.length>0,d=c;c&&(l=l[0]);var f=d?l._private.position:{x:0,y:0};return i={x:u.x-f.x,y:u.y-f.y},void 0===e?i:i[e]}for(var h=0;h<this.length;h++){var n=this[h],l=s?n.parent():null,c=l&&l.length>0,d=c;c&&(l=l[0]);var f=d?l._private.position:{x:0,y:0};void 0!==t?n._private.position[e]=t+f[e]:void 0!==i&&(n._private.position={x:i.x+f.x,y:i.y+f.y})}this.rtrigger("position")}else if(!a)return;return this},renderedBoundingBox:function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,u=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:u,w:o-a,h:u-s}},updateCompoundBounds:function(){function e(e){var t=e._private,r=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,a=r.boundingBox({includeLabels:i,includeShadows:!1,includeOverlays:!1,useCache:!1}),o={top:e.pstyle("padding-top").pfValue,bottom:e.pstyle("padding-bottom").pfValue,left:e.pstyle("padding-left").pfValue,right:e.pstyle("padding-right").pfValue},s=t.position,u=!1;"auto"===e.pstyle("width").value&&(t.autoWidth=a.w,s.x=(a.x1+a.x2-o.left+o.right)/2,u=!0),"auto"===e.pstyle("height").value&&(t.autoHeight=a.h,s.y=(a.y1+a.y2-o.top+o.bottom)/2,u=!0),u&&n.push(e)}var t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return t.collection();for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var a=r[i];e(a)}r=r.parent()}return this.spawn(n)}};var l=function(e){return e===1/0||e===-(1/0)?0:e},c=function(e,t,n,r,i){e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2},d=function(e,t){return c(e,t.x1,t.y1,t.x2,t.y2)},f=function(e,t,n){return s.getPrefixedProperty(e,t,n)},h=function(e,t,n,r){var i,a,o=t._private,s=o.rstyle,u=s.arrowWidth/2,l=t.pstyle(n+"-arrow-shape").value;"none"!==l&&("source"===n?(i=s.srcX,a=s.srcY):"target"===n?(i=s.tgtX,a=s.tgtY):(i=s.midX,a=s.midY),c(e,i-u,a-u,i+u,a+u))},p=function(e,t,n,r){var i;i=n?n+"-":"";var a=t._private,o=a.rstyle,s=t.pstyle(i+"label").strValue;if(s){var u,l,d,h,p=t.pstyle("text-halign"),v=t.pstyle("text-valign"),g=f(o,"labelWidth",n),y=f(o,"labelHeight",n),m=f(o,"labelX",n),b=f(o,"labelY",n),x=t.pstyle(i+"text-margin-x").pfValue,w=t.pstyle(i+"text-margin-y").pfValue,_=t.isEdge(),E=t.pstyle(i+"text-rotation"),k=t.pstyle("text-shadow-blur").pfValue/2,S=t.pstyle("text-shadow-offset-x").pfValue,T=t.pstyle("text-shadow-offset-y").pfValue,P=t.pstyle("text-shadow-opacity").value,C=t.pstyle("text-outline-width").pfValue,D=y,N=g;if(_)u=m-N/2,l=m+N/2,d=b-D/2,h=b+D/2;else{switch(p.value){case"left":u=m-N,l=m;break;case"center":u=m-N/2,l=m+N/2;break;case"right":u=m,l=m+N}switch(v.value){case"top":d=b-D,h=b;break;case"center":d=b-D/2,h=b+D/2;break;case"bottom":d=b,h=b+D}}var M=_&&"autorotate"===E.strValue,I=null!=E.pfValue&&0!==E.pfValue;if(M||I){var A=M?f(a.rstyle,"labelAngle",n):E.pfValue,O=Math.cos(A),B=Math.sin(A),L=function(e,t){return e-=m,t-=b,{x:e*O-t*B+m,y:e*B+t*O+b}},j=L(u,d),z=L(u,h),R=L(l,d),q=L(l,h);u=Math.min(j.x,z.x,R.x,q.x),l=Math.max(j.x,z.x,R.x,q.x),d=Math.min(j.y,z.y,R.y,q.y),h=Math.max(j.y,z.y,R.y,q.y)}u+=x-C,l+=x+C,d+=w-C,h+=w+C,c(e,u,d,l,h),r.includeShadows&&P>0&&(u+=-k+S,l+=+k+S,d+=-k+T,h+=+k+T,c(e,u,d,l,h))}return e},v=function(e,t){var n,r,i,a,o,s,d=e._private.cy,f=d._private,v=f.styleEnabled,g={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)},y=e._private,m=v?e.pstyle("display").value:"element",b=e.isNode(),x=e.isEdge(),w="none"!==m;if(w){var _=0,E=0;v&&t.includeOverlays&&(_=e.pstyle("overlay-opacity").value,0!==_&&(E=e.pstyle("overlay-padding").value));var k=0,S=0;if(v&&(k=e.pstyle("width").pfValue,S=k/2),b&&t.includeNodes){var T=y.position;o=T.x,s=T.y;var k=e.outerWidth(),P=k/2,C=e.outerHeight(),D=C/2;n=o-P-E,r=o+P+E,i=s-D-E,a=s+D+E,c(g,n,i,r,a)}else if(x&&t.includeEdges){var N=y.rstyle||{};if(v&&(n=Math.min(N.srcX,N.midX,N.tgtX),r=Math.max(N.srcX,N.midX,N.tgtX),i=Math.min(N.srcY,N.midY,N.tgtY),a=Math.max(N.srcY,N.midY,N.tgtY),n-=S,r+=S,i-=S,a+=S,c(g,n,i,r,a)),v&&"haystack"===e.pstyle("curve-style").strValue){var M=N.haystackPts;if(n=M[0].x,i=M[0].y,r=M[1].x,a=M[1].y,n>r){var I=n;n=r,r=I}if(i>a){var I=i;i=a,a=I}c(g,n-S,i-S,r+S,a+S)}else{for(var A=N.bezierPts||N.linePts||[],O=0;O<A.length;O++){var B=A[O];n=B.x-S,r=B.x+S,i=B.y-S,a=B.y+S,c(g,n,i,r,a)}if(0===A.length){var L=y.source,j=L._private,z=j.position,R=y.target,q=R._private,F=q.position;if(n=z.x,r=F.x,i=z.y,a=F.y,n>r){var I=n;n=r,r=I}if(i>a){var I=i;i=a,a=I}n-=S,r+=S,i-=S,a+=S,c(g,n,i,r,a)}}}if(v){if(n=g.x1,r=g.x2,i=g.y1,a=g.y2,t.includeShadows&&e.pstyle("shadow-opacity").value>0){var V=e.pstyle("shadow-blur").pfValue/2,Y=e.pstyle("shadow-offset-x").pfValue,X=e.pstyle("shadow-offset-y").pfValue;c(g,n-V+Y,i-V+X,r+V+Y,a+V+X)}c(g,n-E,i-E,r+E,a+E)}v&&t.includeEdges&&x&&(h(g,e,"mid-source",t),h(g,e,"mid-target",t),h(g,e,"source",t),h(g,e,"target",t)),v&&t.includeLabels&&(p(g,e,null,t),x&&(p(g,e,"source",t),p(g,e,"target",t)))}return g.x1=l(g.x1),g.y1=l(g.y1),g.x2=l(g.x2),g.y2=l(g.y2),g.w=l(g.x2-g.x1),g.h=l(g.y2-g.y1),u.expandBoundingBox(g,1),g},g=function(e){return e?"t":"f"},y=function(e){var t="";return t+=g(e.incudeNodes),t+=g(e.includeEdges),t+=g(e.includeLabels),t+=g(e.includeShadows),t+=g(e.includeOverlays)},m=function(e,t){var n,r=e._private,i=e.cy().headless(),a=t===b?x:y(t);return t.useCache&&!i&&r.bbCache&&r.bbCache[a]?n=r.bbCache[a]:(n=v(e,t),i||(r.bbCache=r.bbCache||{},r.bbCache[a]=n)),n},b={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeShadows:!0,includeOverlays:!0,useCache:!0},x=y(b);i.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||e.useCache===!0))return void 0===e&&(e=b),m(this[0],e);var t={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)};e=e||s.staticEmptyObject();var n={includeNodes:s["default"](e.includeNodes,b.includeNodes),includeEdges:s["default"](e.includeEdges,b.includeEdges),includeLabels:s["default"](e.includeLabels,b.includeLabels),includeShadows:s["default"](e.includeShadows,b.includeShadows),includeOverlays:s["default"](e.includeOverlays,b.includeOverlays),useCache:s["default"](e.useCache,b.useCache)},r=this,i=r.cy(),a=r.cy().renderer(),o=i.styleEnabled();o&&a.recalculateRenderedStyle(r,n.useCache);for(var u=0;u<r.length;u++){var c=r[u];o&&c.isEdge()&&"bezier"===c.pstyle("curve-style").strValue&&a.recalculateRenderedStyle(c.parallelEdges(),n.useCache),d(t,m(c,n))}return t.x1=l(t.x1),t.y1=l(t.y1),t.x2=l(t.x2),t.y2=l(t.y2),t.w=l(t.x2-t.x1),t.h=l(t.y2-t.y1),t};var w=function(e){e.uppercaseName=s.capitalize(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=s.capitalize(e.outerName),r[e.name]=function(){var t=this[0],n=t._private,r=n.cy,i=r._private.styleEnabled;if(t){if(!i)return 1;var a=t.pstyle(e.name);switch(a.strValue){case"auto":return n[e.autoName]||0;case"label":return n.rstyle[e.labelName]||0;default:return a.pfValue}}},r["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private,r=n.cy,i=r._private.styleEnabled;if(t){if(i){var a=t[e.name](),o=t.pstyle("border-width").pfValue,s=t.pstyle(e.paddings[0]).pfValue+t.pstyle(e.paddings[1]).pfValue;return a+o+s}return 1}},r["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){var n=t[e.name]();return n*this.cy().zoom()}},r["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){var n=t[e.outerName]();return n*this.cy().zoom()}}};w({name:"width",paddings:["padding-left","padding-right"]}),w({name:"height",paddings:["padding-top","padding-bottom"]}),r.modelPosition=r.point=r.position,r.modelPositions=r.points=r.positions,r.renderedPoint=r.renderedPosition,r.relativePoint=r.relativePosition,r.boundingbox=r.boundingBox,r.renderedBoundingbox=r.renderedBoundingBox,t.exports=i},{"../define":50,"../is":89,"../math":91,"../util":106}],28:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),a=function(e,t,n){var a=this;if(n=!(void 0!==n&&!n),void 0===e||void 0===t||!i.core(e))return void r.error("An element must have a core reference and parameters set");var o=t.group;if(null==o&&(o=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"!==o&&"edges"!==o)return void r.error("An element must be of type `nodes` or `edges`; you specified `"+o+"`");if(this.length=1,this[0]=this,this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:o,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable?!0:!!t.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],traversalCache:{}},t.renderedPosition){var s=t.renderedPosition,u=e.pan(),l=e.zoom();this._private.position={x:(s.x-u.x)/l,y:(s.y-u.y)/l}}if(i.string(t.classes))for(var c=t.classes.split(/\s+/),d=0,f=c.length;f>d;d++){var h=c[d];h&&""!==h&&(a._private.classes[h]=!0)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),(void 0===n||n)&&this.restore()};t.exports=a},{"../is":89,"../util":106}],29:[function(e,t,n){"use strict";var r=e("../define"),i={on:r.on(),one:r.on({unbindSelfOnTrigger:!0}),once:r.on({unbindAllBindersOnTrigger:!0}),off:r.off(),trigger:r.trigger(),rtrigger:function(e,t){return 0!==this.length?(this.cy().notify({type:e,eles:this}),this.trigger(e,t),this):void 0}};r.eventAliasesOn(i),t.exports=i},{"../define":50}],30:[function(e,t,n){"use strict";var r=e("../is"),i=e("../selector"),a={nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(e){if(void 0===e)return this;if(r.string(e)||r.elementOrCollection(e))return i(e).filter(this);if(r.fn(e)){for(var t=[],n=0;n<this.length;n++){var a=this[n];e.apply(a,[n,a])&&t.push(a)}return this.spawn(t)}return this.spawn()},not:function(e){if(e){r.string(e)&&(e=this.filter(e));for(var t=[],n=0;n<this.length;n++){var i=this[n],a=e._private.ids[i.id()];a||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){var e=this._private.cy;return e.elements().not(this)},intersect:function(e){if(r.string(e)){var t=e;return this.filter(t)}for(var n=[],i=this,a=e,o=this.length<e.length,s=o?a._private.ids:i._private.ids,u=o?i:a,l=0;l<u.length;l++){var c=u[l]._private.data.id,d=s[c];d&&n.push(d)}return this.spawn(n)},xor:function(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=this,a=e,o=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id,o=t._private.ids[a];o||n.push(i)}};return o(i,a),o(a,i),this.spawn(n)},diff:function(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=[],a=[],o=this,s=e,u=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id,s=t._private.ids[o];s?a.push(i):n.push(i)}};return u(o,s,n),u(s,o,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(a,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(r.string(e)){var n=e;e=t.elements(n)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var a=0;a<e.length;a++){var o=!this._private.ids[e[a].id()];o&&i.push(e[a])}return this.spawn(i)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&r.string(e)){var i=e;e=n.elements(i)}for(var a=0;a<e.length;a++){var o=e[a],s=o._private.data.id,u=!t.ids[s];if(u){var l=this.length++;this[l]=o,t.ids[s]=o,t.indexes[s]=l}}return this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.indexes[n];if(null==r)return this;this[r]=void 0,t.ids[n]=void 0,t.indexes[n]=void 0;var i=r===this.length-1;if(this.length>1&&!i){var a=this.length-1,o=this[a],s=o._private.data.id;this[a]=void 0,this[r]=o,t.indexes[s]=r}return this.length--,this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&r.string(e)){var n=e;e=t.elements(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var a=r[i],o=t?e.apply(t,[a,i,r]):e(a,i,r);n.push(o)}return n},stdFilter:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var a=r[i],o=t?e.apply(t,[a,i,r]):e(a,i,r);o&&n.push(a)}return this.spawn(n)},max:function(e,t){for(var n,r=-(1/0),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>r&&(r=s,n=o)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);r>s&&(r=s,n=o)}return{value:r,ele:n}}},o=a;o.u=o["|"]=o["+"]=o.union=o.or=o.add,o["\\"]=o["!"]=o["-"]=o.difference=o.relativeComplement=o.subtract=o.not,o.n=o["&"]=o["."]=o.and=o.intersection=o.intersect,o["^"]=o["(+)"]=o["(-)"]=o.symmetricDifference=o.symdiff=o.xor,o.fnFilter=o.filterFn=o.stdFilter,o.complement=o.abscomp=o.absoluteComplement,t.exports=a},{"../is":89,"../selector":93}],31:[function(e,t,n){"use strict";var r={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}};t.exports=r},{}],32:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),a=e("./element"),o={generate:function(e,t,n){for(var i=null!=n?n:r.uuid();e.hasElementWithId(i);)i=r.uuid();return i}},s=function(e,t,n){if(void 0===e||!i.core(e))return void r.error("A collection must have a reference to the core");var s={},u={},l=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){l=!0;for(var c=[],d={},f=0,h=t.length;h>f;f++){var p=t[f];null==p.data&&(p.data={});var v=p.data;if(null==v.id)v.id=o.generate(e,p);else if(e.hasElementWithId(v.id)||d[v.id])continue;var g=new a(e,p,!1);c.push(g),d[v.id]=!0}t=c}}else t=[];this.length=0;for(var f=0,h=t.length;h>f;f++){var y=t[f];if(y){var m=y._private.data.id;(!n||n.unique&&!s[m])&&(s[m]=y,u[m]=this.length,this[this.length]=y,this.length++)}}this._private={cy:e,ids:s,indexes:u},l&&this.restore()},u=a.prototype=s.prototype;u.instanceString=function(){return"collection"},u.spawn=function(e,t,n){return i.core(e)||(n=t,t=e,e=this.cy()),new s(e,t,n)},u.spawnSelf=function(){return this.spawn(this)},u.cy=function(){return this._private.cy},u.element=function(){return this[0]},u.collection=function(){return i.collection(this)?this:new s(this._private.cy,[this])},u.unique=function(){return new s(this._private.cy,this,{unique:!0})},u.hasElementWithId=function(e){return!!this._private.ids[e]},u.getElementById=function(e){var t=this._private.cy,n=this._private.ids[e];return n?n:new s(t)},u.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this._private.data.id;return t._private.indexes[n]},u.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var a=t._private;if(i.plainObject(e)){n.startBatch(),e.data&&t.data(e.data),e.position&&t.position(e.position);var o=function(n,r,i){var o=e[n];null!=o&&o!==a[n]&&(o?t[r]():t[i]())};return o("removed","remove","restore"),o("selected","select","unselect"),o("selectable","selectify","unselectify"),o("locked","lock","unlock"),o("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var s={data:r.copy(a.data),position:r.copy(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,classes:null},u=[];for(var l in a.classes)a.classes[l]&&u.push(l);return s.classes=u.join(" "),s}}},u.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],r=n.json();e.push(r)}return e},u.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),o=new a(e,i,!1);t.push(o)}return new s(e,t)},u.copy=u.clone,u.restore=function(e){var t=this,n=t.cy(),a=n._private;void 0===e&&(e=!0);for(var u,l=[],c=[],d=0,f=t.length;f>d;d++){var h=t[d];h.removed()&&(h.isNode()?l.push(h):c.push(h))}u=l.concat(c);var d,p=function(e){u.splice(e,1),e--};for(d=0,f=u.length;f>d;d++){var h=u[d],v=h._private,g=v.data;if(void 0===g.id)g.id=o.generate(n,h);else if(i.number(g.id))g.id=""+g.id;else{if(i.emptyString(g.id)||!i.string(g.id)){r.error("Can not create element with invalid string ID `"+g.id+"`"),p(d);continue}if(n.hasElementWithId(g.id)){r.error("Can not create second element with ID `"+g.id+"`"),p(d);continue}}var y=g.id;if(h.isNode()){var m=h,b=v.position;null==b.x&&(b.x=0),null==b.y&&(b.y=0)}if(h.isEdge()){for(var x=h,w=["source","target"],_=w.length,E=!1,k=0;_>k;k++){var S=w[k],T=g[S];i.number(T)&&(T=g[S]=""+g[S]),null==T||""===T?(r.error("Can not create edge `"+y+"` with unspecified "+S),E=!0):n.hasElementWithId(T)||(r.error("Can not create edge `"+y+"` with nonexistant "+S+" `"+T+"`"),E=!0)}if(E){p(d);continue}var P=n.getElementById(g.source),C=n.getElementById(g.target);P._private.edges.push(x),C._private.edges.push(x),x._private.source=P,x._private.target=C}v.ids={},v.ids[y]=h,v.indexes={},v.indexes[y]=h,v.removed=!1,n.addToPool(h)}for(var d=0;d<l.length;d++){var m=l[d],g=m._private.data;i.number(g.parent)&&(g.parent=""+g.parent);var D=g.parent,N=null!=D;if(N){var M=n.getElementById(D);if(M.empty())g.parent=void 0;else{for(var I=!1,A=M;!A.empty();){if(m.same(A)){I=!0,g.parent=void 0;break}A=A.parent()}I||(M[0]._private.children.push(m),m._private.parent=M[0],a.hasCompoundNodes=!0)}}}if(u.length>0){for(var O=new s(n,u),d=0;d<O.length;d++){var h=O[d];if(!h.isNode()){for(var B=h.parallelEdges(),k=0;k<B.length;k++)B[k]._private.traversalCache=null;h.source()[0]._private.traversalCache=null,h.target()[0]._private.traversalCache=null}}var L;L=a.hasCompoundNodes?O.add(O.connectedNodes()).add(O.parent()):O,L.updateStyle(e),e?O.rtrigger("add"):O.trigger("add")}return t},u.removed=function(){var e=this[0];return e&&e._private.removed},u.inside=function(){var e=this[0];return e&&!e._private.removed},u.remove=function(e){function t(e){for(var t=e._private.edges,n=0;n<t.length;n++)i(t[n])}function n(e){for(var t=e._private.children,n=0;n<t.length;n++)i(t[n])}function i(e){var r=f[e.id()];r||(f[e.id()]=!0,e.isNode()?(d.push(e),t(e),n(e)):d.unshift(e))}function a(e,t){var n=e._private.edges;r.removeFromArray(n,t),e._private.traversalCache=null}function o(e){for(var t=e.parallelEdges(),n=0;n<t.length;n++)t[n]._private.traversalCache=null}function u(e,t){t=t[0],e=e[0];var n=e._private.children;r.removeFromArray(n,t)}var l=this,c=[],d=[],f={},h=l._private.cy;void 0===e&&(e=!0);for(var p=0,v=l.length;v>p;p++){var g=l[p];i(g)}h.removeFromPool(d);for(var p=0;p<d.length;p++){var g=d[p];if(g._private.removed=!0,c.push(g),g.isEdge()){var y=g.source()[0],m=g.target()[0];a(y,g),a(m,g),o(g)}else{var b=g.parent();0!==b.length&&u(b,g)}}var x=h._private.elements;h._private.hasCompoundNodes=!1;for(var p=0;p<x.length;p++){var g=x[p];if(g.isParent()){h._private.hasCompoundNodes=!0;break}}var w=new s(this.cy(),c);w.size()>0&&(e&&this.cy().notify({type:"remove",eles:w}),w.trigger("remove"));for(var _={},p=0;p<d.length;p++){var g=d[p],E="nodes"===g._private.group,k=g._private.data.parent;if(E&&void 0!==k&&!_[k]){_[k]=!0;var b=h.getElementById(k);b&&0!==b.length&&!b._private.removed&&0===b.children().length&&b.updateStyle()}}return new s(h,c)},u.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),a=t.hasElementWithId(r);if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var u=o[s];"edges"===u.group&&(i&&(u.data.source=n),a&&(u.data.target=r))}return t.add(o)}}else if(void 0!==e.parent){var l=e.parent,c=null===l||t.hasElementWithId(l);if(c){var o=this.jsons(),d=this.descendants(),f=d.union(d.union(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var u=o[s];"nodes"===u.group&&(u.data.parent=null===l?void 0:l)}}return t.add(o).union(f.restore())}return this},[e("./algorithms"),e("./animation"),e("./class"),e("./comparators"),e("./compounds"),e("./data"),e("./degree"),e("./dimensions"),e("./events"),e("./filter"),e("./group"),e("./index"),e("./iteration"),e("./layout"),e("./style"),e("./switch-functions"),e("./traversing")].forEach(function(e){r.extend(u,e)}),t.exports=s},{"../is":89,"../util":106,"./algorithms":17,"./animation":21,"./class":22,"./comparators":23,"./compounds":24,"./data":25,"./degree":26,"./dimensions":27,"./element":28,"./events":29,"./filter":30,"./group":31,"./index":32,"./iteration":33,"./layout":34,"./style":35,"./switch-functions":36,"./traversing":37}],33:[function(e,t,n){"use strict";var r=e("../is"),i=e("./zsort"),a={each:function(e){if(r.fn(e))for(var t=0;t<this.length;t++){var n=this[t],i=e.apply(n,[t,n]);if(i===!1)break}return this},forEach:function(e,t){if(r.fn(e))for(var n=0;n<this.length;n++){var i=this[n],a=t?e.apply(t,[i,n,this]):e(i,n,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),0>e&&(e=r+e),0>t&&(t=r+t);for(var i=e;i>=0&&t>i&&r>i;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!r.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if("nodes"===n){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:Number.MAX_VALUE}var i=t.source,a=t.target,o=i.zDepth(),s=a.zDepth();return Math.max(o,s,0)}}};t.exports=a},{"../is":89,"./zsort":38}],34:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),a={layoutPositions:function(e,t,n){var i=this.nodes(),a=this.cy();if(e.trigger({type:"layoutstart",layout:e}),e.animations=[],t.animate){for(var o=0;o<i.length;o++){var s=i[o],u=o===i.length-1,l=n.call(s,o,s),c=s.position();r.number(c.x)&&r.number(c.y)||s.silentPosition({x:0,y:0});var d=s.animation({position:l,duration:t.animationDuration,easing:t.animationEasing,step:u?function(){t.fit&&a.fit(t.eles,t.padding)}:void 0,complete:u?function(){null!=t.zoom&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),t.fit&&a.fit(t.eles,t.padding),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e})}:void 0});e.animations.push(d),d.play()}e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e})}else i.positions(n),t.fit&&a.fit(t.eles,t.padding),null!=t.zoom&&a.zoom(t.zoom),t.pan&&a.pan(t.pan),e.one("layoutready",t.ready),e.trigger({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.trigger({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.layout(i.extend({},e,{eles:this})),this},makeLayout:function(e){var t=this.cy();return t.makeLayout(i.extend({},e,{eles:this}))}};a.createLayout=a.makeLayout,t.exports=a},{"../is":89,"../util":106}],35:[function(e,t,n){"use strict";var r=e("../is"),i={updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){var n=t._private.batchStyleEles;return n.merge(this),this}var r=t.style();e=!(!e&&void 0!==e),r.apply(this);var i=this.updateCompoundBounds(),a=i.length>0?this.add(i):this;return e?a.rtrigger("style"):a.trigger("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;n.updateMappers(this);var r=this.updateCompoundBounds(),i=r.length>0?this.add(r):this;return e?i.rtrigger("style"):i.trigger("style"),this},parsedStyle:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t._private.style[e]||t.cy().style().getDefaultProperty(e):void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n){var r=n.cy().style().getRenderedStyle(n);return void 0===e?r:r[e]}},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(r.plainObject(e)){var o=e;a.applyBypass(this,o,i);var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;u.rtrigger("style")}else if(r.string(e)){if(void 0===t){var l=this[0];return l?a.getStylePropertyValue(l,e):void 0}a.applyBypass(this,e,t,i);var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;u.rtrigger("style")}else if(void 0===e){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,r=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];r.removeAllBypasses(o,n)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var o=i[a];r.removeBypasses(o,e,n)}}var s=this.updateCompoundBounds(),u=s.length>0?this.add(s):this;return u.rtrigger("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],n=e.hasCompoundNodes();if(t){if("visible"!==t.pstyle("visibility").value||"element"!==t.pstyle("display").value)return!1;if("nodes"===t._private.group){if(!n)return!0;var r=t._private.data.parent?t.parents():null;if(r)for(var i=0;i<r.length;i++){var a=r[i],o=a.pstyle("visibility").value,s=a.pstyle("display").value;if("visible"!==o||"element"!==s)return!1}return!0}var u=t._private.source,l=t._private.target;return u.visible()&&l.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;
if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],u=s.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();return t?n?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var n="auto"===t.pstyle("width").value,r="auto"===t.pstyle("height").value;return t.isParent()&&n&&r}},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};i.bypass=i.css=i.style,i.renderedCss=i.renderedStyle,i.removeBypass=i.removeCss=i.removeStyle,i.pstyle=i.parsedStyle,t.exports=i},{"../is":89}],36:[function(e,t,n){"use strict";function r(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length){var i=t[0];this.on(e.event,i)}else if(0===t.length){for(var a=0;a<this.length;a++){var o=this[a],s=!e.ableField||o._private[e.ableField],u=o._private[e.field]!=e.value;if(e.overrideAble){var l=e.overrideAble(o);if(void 0!==l&&(s=l,!l))return this}s&&(o._private[e.field]=e.value,u&&n.push(o))}var c=this.spawn(n);c.updateStyle(),c.trigger(e.event)}return this}}function i(e){a[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},a[e.on]=r({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),a[e.off]=r({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var a={};i({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"}),i({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"}),i({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"}),i({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"}),a.deselect=a.unselect,a.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0},i({field:"active",on:"activate",off:"unactivate"}),a.inactive=function(){var e=this[0];return e?!e._private.active:void 0},t.exports=a},{}],37:[function(e,t,n){"use strict";function r(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r],a=i._private[e.attr];a&&n.push(a)}return this.spawn(n,{unique:!0}).filter(t)}}function i(e){return function(t){var n=[],r=this._private.cy,i=e||{};s.string(t)&&(t=r.$(t));for(var a=this._private.ids,o=t._private.ids,u=0;u<t.length;u++)for(var l=t[u]._private.edges,c=0;c<l.length;c++){var d=l[c],f=d._private.data,h=a[f.source]&&o[f.target],p=o[f.source]&&a[f.target],v=h||p;if(v){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!h)continue;if(i.thisIsTgt&&!p)continue}n.push(d)}}return this.spawn(n,{unique:!0})}}function a(e){var t={codirected:!1};return e=o.extend({},t,e),function(t){for(var n=[],r=this.edges(),i=e,a=0;a<r.length;a++)for(var o=r[a],s=o._private,u=s.source,l=u._private.data.id,c=s.data.target,d=u._private.edges,f=0;f<d.length;f++){var h=d[f],p=h._private.data,v=p.target,g=p.source,y=v===c&&g===l,m=l===v&&c===g;(i.codirected&&y||!i.codirected&&(y||m))&&n.push(h)}return this.spawn(n,{unique:!0}).filter(t)}}var o=e("../util"),s=e("../is"),u={},l=function(e,t){return function(n,r,i,a){var o,u=n,l=this;if(null==u?o="null":s.elementOrCollection(u)&&1===u.length&&(o="#"+u.id()),1===l.length&&o){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},f=d[t]=d[t]||{},h=f[o];return h?h:f[o]=e.call(l,n,r,i,a)}return e.call(l,n,r,i,a)}},c=function(e){return function(t){for(var n=this,r=[],i=0;i<n.length;i++){var a=n[i];if(a.isNode()){for(var o=!1,s=a.connectedEdges(),u=0;u<s.length;u++){var l=s[u],c=l.source(),d=l.target();if(e.noIncomingEdges&&d===a&&c!==a||e.noOutgoingEdges&&c===a&&d!==a){o=!0;break}}o||r.push(a)}}return this.spawn(r,{unique:!0}).filter(t)}},d=function(e){return function(t){for(var n=this,r=[],i=0;i<n.length;i++){var a=n[i];if(a.isNode())for(var o=a.connectedEdges(),s=0;s<o.length;s++){var u=o[s],l=u.source(),c=u.target();e.outgoing&&l===a?(r.push(u),r.push(c)):e.incoming&&c===a&&(r.push(u),r.push(l))}}return this.spawn(r,{unique:!0}).filter(t)}},f=function(e){return function(t){for(var n=this,r=[],i={};;){var a=e.outgoing?n.outgoers():n.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var u=a[s],l=u.id();i[l]||(i[l]=!0,r.push(u),o=!0)}if(!o)break;n=a}return this.spawn(r,{unique:!0}).filter(t)}};o.extend(u,{roots:c({noIncomingEdges:!0}),leaves:c({noOutgoingEdges:!0}),outgoers:l(d({outgoing:!0}),"outgoers"),successors:f({outgoing:!0}),incomers:l(d({incoming:!0}),"incomers"),predecessors:f({incoming:!0})}),o.extend(u,{neighborhood:l(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),u.neighbourhood=u.neighborhood,u.closedNeighbourhood=u.closedNeighborhood,u.openNeighbourhood=u.openNeighborhood,o.extend(u,{source:l(function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t},"source"),target:l(function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t},"target"),sources:r({attr:"source"}),targets:r({attr:"target"})}),o.extend(u,{edgesWith:l(i(),"edgesWith",!0),edgesTo:l(i({thisIsSrc:!0}),"edgesTo",!0)}),o.extend(u,{connectedEdges:l(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:l(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:l(a(),"parallelEdges"),codirectedEdges:l(a({codirected:!0}),"codirectedEdges")}),o.extend(u,{components:function(){var e=this,t=e.cy(),n=e.spawn(),r=e.nodes().spawnSelf(),i=[],a=function(e,t){n.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return e.spawn();do{var o=t.collection();i.push(o);var s=r[0];a(s,o),e.bfs({directed:!1,roots:s,visit:function(e,t,n,r,i){a(n,o)}})}while(r.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}}),t.exports=u},{"../is":89,"../util":106}],38:[function(e,t,n){"use strict";var r=function(e,t){var n=e.cy(),r=e.pstyle("z-index").value-t.pstyle("z-index").value,i=0,a=0,o=n.hasCompoundNodes(),s=e.isNode(),u=!s,l=t.isNode(),c=!l;o&&(i=e.zDepth(),a=t.zDepth());var d=i-a,f=0===d;return f?s&&c?1:u&&l?-1:0===r?e.poolIndex()-t.poolIndex():r:d};t.exports=r},{}],39:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),a=e("../collection"),o=e("../collection/element"),s={add:function(e){var t,n=this;if(r.elementOrCollection(e)){var s=e;if(s._private.cy===n)t=s.restore();else{for(var u=[],l=0;l<s.length;l++){var c=s[l];u.push(c.json())}t=new a(n,u)}}else if(r.array(e)){var u=e;t=new a(n,u)}else if(r.plainObject(e)&&(r.array(e.nodes)||r.array(e.edges))){for(var d=e,u=[],f=["nodes","edges"],l=0,h=f.length;h>l;l++){var p=f[l],v=d[p];if(r.array(v))for(var g=0,y=v.length;y>g;g++){var m=i.extend({group:p},v[g]);u.push(m)}}t=new a(n,u)}else{var m=e;t=new o(n,m).collection()}return t},remove:function(e){if(r.elementOrCollection(e))e=e;else if(r.string(e)){var t=e;e=this.$(t)}return e.remove()},load:function(e,t,n){var a=this;a.notifications(!1);var o=a.elements();o.length>0&&o.remove(),null!=e&&(r.plainObject(e)||r.array(e))&&a.add(e),a.one("layoutready",function(e){a.notifications(!0),a.trigger(e),a.notify({type:"load",eles:a.elements()}),a.one("load",t),a.trigger("load")}).one("layoutstop",function(){a.one("done",n),a.trigger("done")});var s=i.extend({},a._private.options.layout);return s.eles=a.$(),a.layout(s),this}};t.exports=s},{"../collection":32,"../collection/element":28,"../is":89,"../util":106}],40:[function(e,t,n){"use strict";var r=e("../define"),i=e("../util"),a=e("../is"),o={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function e(){c._private.animationsRunning&&i.requestAnimationFrame(function(n){t(n),e()})}function t(e){function t(t,i){var o=t._private,s=o.animation.current,u=o.animation.queue,l=!1;if(0===s.length){var c=u.shift();c&&s.push(c)}for(var d=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n()}e.splice(0,e.length)},f=s.length-1;f>=0;f--){var h=s[f],p=h._private;p.stopped?(s.splice(f,1),p.hooked=!1,p.playing=!1,p.started=!1,d(p.frames)):(p.playing||p.applying)&&(p.playing&&p.applying&&(p.applying=!1),p.started||n(t,h,e),r(t,h,e,i),p.applying&&(p.applying=!1),d(p.frames),h.completed()&&(s.splice(f,1),p.hooked=!1,p.playing=!1,p.started=!1,d(p.completes)),l=!0)}return i||0!==s.length||0!==u.length||a.push(t),l}for(var i=c._private.aniEles,a=[],o=!1,s=0;s<i.length;s++){var u=i[s],l=t(u);o=o||l}var d=t(c,!0);if(o||d)if(i.length>0){var f=i.updateCompoundBounds().spawnSelf().merge(i);c.notify({type:"draw",eles:f})}else c.notify({type:"draw"});i.unmerge(a)}function n(e,t,n){var r=a.core(e),i=!r,o=e,s=c._private.style,u=t._private;if(i){var l=o._private.position;u.startPosition=u.startPosition||{x:l.x,y:l.y},u.startStyle=u.startStyle||s.getAnimationStartStyle(o,u.style)}if(r){var d=c._private.pan;u.startPan=u.startPan||{x:d.x,y:d.y},u.startZoom=null!=u.startZoom?u.startZoom:c._private.zoom}u.started=!0,u.startTime=n-u.progress*u.duration}function r(e,t,n,r){var i=c._private.style,s=!r,u=e._private,d=t._private,f=d.easing,p=d.startTime;if(!d.easingImpl)if(null==f)d.easingImpl=h.linear;else{var v;if(a.string(f)){var g=i.parse("transition-timing-function",f);v=g.value}else v=f;var y,m;a.string(v)?(y=v,m=[]):(y=v[1],m=v.slice(2).map(function(e){return+e})),m.length>0?("spring"===y&&m.push(d.duration),d.easingImpl=h[y].apply(null,m)):d.easingImpl=h[y]}var b,x=d.easingImpl;if(b=0===d.duration?1:(n-p)/d.duration,d.applying&&(b=d.progress),0>b?b=0:b>1&&(b=1),null==d.delay){var w=d.startPosition,_=d.position,E=u.position;_&&s&&(o(w.x,_.x)&&(E.x=l(w.x,_.x,b,x)),o(w.y,_.y)&&(E.y=l(w.y,_.y,b,x)),e.trigger("position"));var k=d.startPan,S=d.pan,T=u.pan,P=null!=S&&r;P&&(o(k.x,S.x)&&(T.x=l(k.x,S.x,b,x)),o(k.y,S.y)&&(T.y=l(k.y,S.y,b,x)),e.trigger("pan"));var C=d.startZoom,D=d.zoom,N=null!=D&&r;N&&(o(C,D)&&(u.zoom=l(C,D,b,x)),e.trigger("zoom")),(P||N)&&e.trigger("viewport");var M=d.style;if(M&&M.length>0&&s){for(var I=0;I<M.length;I++){var A=M[I],y=A.name,O=A,B=d.startStyle[y],L=l(B,O,b,x);i.overrideBypass(e,y,L)}e.trigger("style")}}return a.fn(d.step)&&d.step.apply(e,[n]),d.progress=b,b}function o(e,t){return null==e||null==t?!1:a.number(e)&&a.number(t)?!0:!(!e||!t)}function s(e,t,n){var r=1-n,i=n*n;return 3*r*r*n*e+3*r*i*t+i*n}function u(e,t){return function(n,r,i){return n+(r-n)*s(e,t,i)}}function l(e,t,n,r){0>n?n=0:n>1&&(n=1);var i,o;if(i=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e,o=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t,a.number(i)&&a.number(o))return r(i,o,n);if(a.array(i)&&a.array(o)){for(var s=[],u=0;u<o.length;u++){var l=i[u],c=o[u];if(null!=l&&null!=c){var d=r(l,c,n);e.roundValue&&(d=Math.round(d)),s.push(d)}else s.push(c)}return s}}var c=this;if(c._private.animationsRunning=!0,c.styleEnabled()){var d=c.renderer();d&&d.beforeRender?d.beforeRender(function(e,n){t(n)},d.beforeRenderPriorities.animations):e();var f=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},a=t(n,.5*r,i),o=t(n,.5*r,a),s=t(n,r,o),u=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),l=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return n.x=n.x+u*r,n.v=n.v+l*r,n}return function r(e,t,i){var a,o,s,u={x:-1,v:0,tension:null,friction:null},l=[0],c=0,d=1e-4,f=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,u.tension=e,u.friction=t,a=null!==i,a?(c=r(e,t),o=c/i*f):o=f;;)if(s=n(s||u,o),l.push(1+s.x),c+=16,!(Math.abs(s.x)>d&&Math.abs(s.v)>d))break;return a?function(e){return l[e*(l.length-1)|0]}:c}}(),h={linear:function(e,t,n){return e+(t-e)*n},ease:u(.25,.1,.25,1),"ease-in":u(.42,0,1,1),"ease-out":u(0,0,.58,1),"ease-in-out":u(.42,0,.58,1),"ease-in-sine":u(.47,0,.745,.715),"ease-out-sine":u(.39,.575,.565,1),"ease-in-out-sine":u(.445,.05,.55,.95),"ease-in-quad":u(.55,.085,.68,.53),"ease-out-quad":u(.25,.46,.45,.94),"ease-in-out-quad":u(.455,.03,.515,.955),"ease-in-cubic":u(.55,.055,.675,.19),"ease-out-cubic":u(.215,.61,.355,1),"ease-in-out-cubic":u(.645,.045,.355,1),"ease-in-quart":u(.895,.03,.685,.22),"ease-out-quart":u(.165,.84,.44,1),"ease-in-out-quart":u(.77,0,.175,1),"ease-in-quint":u(.755,.05,.855,.06),"ease-out-quint":u(.23,1,.32,1),"ease-in-out-quint":u(.86,0,.07,1),"ease-in-expo":u(.95,.05,.795,.035),"ease-out-expo":u(.19,1,.22,1),"ease-in-out-expo":u(1,0,0,1),"ease-in-circ":u(.6,.04,.98,.335),"ease-out-circ":u(.075,.82,.165,1),"ease-in-out-circ":u(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return h.linear;var r=f(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":function(e,t,n,r){return u(e,t,n,r)}}}}};t.exports=o},{"../define":50,"../is":89,"../util":106}],41:[function(e,t,n){"use strict";var r=e("../define"),i={on:r.on(),one:r.on({unbindSelfOnTrigger:!0}),once:r.on({unbindAllBindersOnTrigger:!0}),off:r.off(),trigger:r.trigger()};r.eventAliasesOn(i),t.exports=i},{"../define":50}],42:[function(e,t,n){"use strict";var r={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};r.jpeg=r.jpg,t.exports=r},{}],43:[function(e,t,n){"use strict";var r=e("../window"),i=e("../util"),a=e("../collection"),o=e("../is"),s=e("../promise"),u=e("../define"),l=function(e){var t=this;e=i.extend({},e);var n=e.container;n&&!o.htmlElement(n)&&o.htmlElement(n[0])&&(n=n[0]);var u=n?n._cyreg:null;u=u||{},u&&u.cy&&(u.cy.destroy(),u={});var l=u.readies=u.readies||[];n&&(n._cyreg=u),u.cy=t;var c=void 0!==r&&void 0!==n&&!e.headless,d=e;d.layout=i.extend({name:c?"grid":"null"},d.layout),d.renderer=i.extend({name:c?"canvas":"null"},d.renderer);var f=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},h=this._private={container:n,ready:!1,initrender:!1,options:d,elements:new a(this),listeners:[],aniEles:new a(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,d.zoomingEnabled),userZoomingEnabled:f(!0,d.userZoomingEnabled),panningEnabled:f(!0,d.panningEnabled),userPanningEnabled:f(!0,d.userPanningEnabled),boxSelectionEnabled:f(!0,d.boxSelectionEnabled),autolock:f(!1,d.autolock,d.autolockNodes),autoungrabify:f(!1,d.autoungrabify,d.autoungrabifyNodes),autounselectify:f(!1,d.autounselectify),styleEnabled:void 0===d.styleEnabled?c:d.styleEnabled,zoom:o.number(d.zoom)?d.zoom:1,pan:{x:o.plainObject(d.pan)&&o.number(d.pan.x)?d.pan.x:0,y:o.plainObject(d.pan)&&o.number(d.pan.y)?d.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1},p=d.selectionType;void 0===p||"additive"!==p&&"single"!==p?h.selectionType="single":h.selectionType=p,o.number(d.minZoom)&&o.number(d.maxZoom)&&d.minZoom<d.maxZoom?(h.minZoom=d.minZoom,h.maxZoom=d.maxZoom):o.number(d.minZoom)&&void 0===d.maxZoom?h.minZoom=d.minZoom:o.number(d.maxZoom)&&void 0===d.minZoom&&(h.maxZoom=d.maxZoom);var v=function(e,t){var n=e.some(o.promise);return n?s.all(e).then(t):void t(e)};t.initRenderer(i.extend({hideEdgesOnViewport:d.hideEdgesOnViewport,textureOnViewport:d.textureOnViewport,wheelSensitivity:o.number(d.wheelSensitivity)&&d.wheelSensitivity>0?d.wheelSensitivity:1,motionBlur:void 0===d.motionBlur?!1:d.motionBlur,motionBlurOpacity:void 0===d.motionBlurOpacity?.05:d.motionBlurOpacity,pixelRatio:o.number(d.pixelRatio)&&d.pixelRatio>0?d.pixelRatio:void 0,desktopTapThreshold:void 0===d.desktopTapThreshold?4:d.desktopTapThreshold,touchTapThreshold:void 0===d.touchTapThreshold?8:d.touchTapThreshold},d.renderer)),v([d.style,d.elements],function(e){var n=e[0],r=e[1];h.styleEnabled&&t.setStyle(n),d.initrender&&(t.on("initrender",d.initrender),t.on("initrender",function(){h.initrender=!0})),t.load(r,function(){t.startAnimationLoop(),h.ready=!0,o.fn(d.ready)&&t.on("ready",d.ready);for(var e=0;e<l.length;e++){var n=l[e];t.on("ready",n)}u&&(u.readies=[]),t.trigger("ready")},d.done)})},c=l.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},ready:function(e){return this.isReady()?this.trigger("ready",[],e):this.on("ready",e),this},initrender:function(){return this._private.initrender},destroy:function(){var e=this;e.stopAnimationLoop(),e.notify({type:"destroy"});var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);return e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(e){var t=this,n=t._private;if(o.plainObject(e)){if(t.startBatch(),e.elements){var r={},a=function(e,n){for(var a=0;a<e.length;a++){var o=e[a],s=o.data.id,u=t.getElementById(s);r[s]=!0,0!==u.length?u.json(o):n?t.add(i.extend({group:n},o)):t.add(o)}};if(o.array(e.elements))a(e.elements);else for(var s=["nodes","edges"],u=0;u<s.length;u++){var l=s[u],c=e.elements[l];o.array(c)&&a(c,l)}t.elements().stdFilter(function(e){return!r[e.id()]}).remove()}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],u=0;u<d.length;u++){var f=d[u];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}if(void 0===e){var h={};return h.elements={},t.elements().each(function(e,t){var n=t.group();h.elements[n]||(h.elements[n]=[]),h.elements[n].push(t.json())}),this._private.styleEnabled&&(h.style=t.style().json()),h.zoomingEnabled=t._private.zoomingEnabled,h.userZoomingEnabled=t._private.userZoomingEnabled,h.zoom=t._private.zoom,h.minZoom=t._private.minZoom,h.maxZoom=t._private.maxZoom,h.panningEnabled=t._private.panningEnabled,h.userPanningEnabled=t._private.userPanningEnabled,h.pan=i.copy(t._private.pan),h.boxSelectionEnabled=t._private.boxSelectionEnabled,h.renderer=i.copy(t._private.options.renderer),h.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport,h.textureOnViewport=t._private.options.textureOnViewport,h.wheelSensitivity=t._private.options.wheelSensitivity,h.motionBlur=t._private.options.motionBlur,h}},scratch:u.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:u.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),[e("./add-remove"),e("./animation"),e("./events"),e("./export"),e("./layout"),e("./notification"),e("./renderer"),e("./search"),e("./style"),e("./viewport")].forEach(function(e){i.extend(c,e)}),t.exports=l},{"../collection":32,"../define":50,"../is":89,"../promise":92,"../util":106,"../window":113,"./add-remove":39,"./animation":40,"./events":41,"./export":42,"./layout":44,"./notification":45,"./renderer":46,"./search":47,"./style":48,"./viewport":49}],44:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),a={layout:function(e){var t=this._private.prevLayout=null==e?this._private.prevLayout:this.makeLayout(e);return t.run(),this},makeLayout:function(e){var t=this;if(null==e)return void r.error("Layout options must be specified to make a layout");if(null==e.name)return void r.error("A `name` must be specified to make a layout");var n=e.name,a=t.extension("layout",n);if(null==a)return void r.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?");var o;o=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var s=new a(r.extend({},e,{cy:t,eles:o}));return s}};a.createLayout=a.makeLayout,t.exports=a},{"../is":89,"../util":106}],45:[function(e,t,n){"use strict";var r={notify:function(e){var t=this._private;if(t.batchingNotify){var n=t.batchNotifyEles,r=t.batchNotifyTypes;return e.eles&&n.merge(e.eles),void(r.ids[e.type]||(r.push(e.type),r.ids[e.type]=!0))}if(t.notificationsEnabled){var i=this.renderer();i.notify(e)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:void(t.notificationsEnabled=!!e)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n in e){var r=e[n],i=t.getElementById(n);i.data(r)}})}};t.exports=r},{}],46:[function(e,t,n){"use strict";var r=e("../util"),i={renderTo:function(e,t,n,r){var i=this._private.renderer;return i.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.trigger("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null==n)return void r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name);var i=r.extend({},e,{cy:t});t._private.renderer=new n(i)},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,t.exports=i},{"../util":106}],47:[function(e,t,n){"use strict";var r=e("../is"),i=e("../collection"),a={collection:function(e,t){return r.string(e)?this.$(e):r.elementOrCollection(e)?e.collection():r.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t}};a.elements=a.filter=a.$,t.exports=a},{"../collection":32,"../is":89}],48:[function(e,t,n){"use strict";var r=e("../is"),i=e("../style"),a={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return r.stylesheet(e)?t.style=e.generateStyle(this):r.array(e)?t.style=i.fromJson(this,e):r.string(e)?t.style=i.fromString(this,e):t.style=i(this),t.style}};t.exports=a},{"../is":89,"../style":98}],49:[function(e,t,n){"use strict";var r=e("../is"),i={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,i,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(r.string(o[0]))return e=o[0],s[e];if(r.plainObject(o[0])){if(!this._private.panningEnabled)return this;n=o[0],i=n.x,a=n.y,r.number(i)&&(s.x=i),r.number(a)&&(s.y=a),this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[0],t=o[1],"x"!==e&&"y"!==e||!r.number(t)||(s[e]=t),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e){var t,n,i,a,o,s=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:r.plainObject(s[0])&&(i=s[0],a=i.x,o=i.y,r.number(a)&&(u.x+=a),r.number(o)&&(u.y+=o),this.trigger("pan viewport"));break;case 2:t=s[0],n=s[1],"x"!==t&&"y"!==t||!r.number(n)||(u[t]+=n),this.trigger("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.trigger("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(r.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(r.string(e)){var i=e;e=this.$(i)}else if(r.boundingBox(e)){var a=e;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else r.elementOrCollection(e)||(e=this.elements());n=n||e.boundingBox();var o,s=this.width(),u=this.height();if(t=r.number(t)?t:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){o=Math.min((s-2*t)/n.w,(u-2*t)/n.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var l={x:(s-o*(n.x1+n.x2))/2,y:(u-o*(n.y1+n.y2))/2};return{zoom:o,pan:l}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(r.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(r.number(e)&&(this._private.maxZoom=e),this)},zoom:function(e){var t,n;if(void 0===e)return this._private.zoom;if(r.number(e))n=e;else if(r.plainObject(e)){if(n=e.level,e.position){var i=e.position,a=this._private.pan,o=this._private.zoom;t={x:i.x*o+a.x,y:i.y*o+a.y}}else e.renderedPosition&&(t=e.renderedPosition);if(t&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!r.number(n)||t&&(!r.number(t.x)||!r.number(t.y)))return this;if(n=n>this._private.maxZoom?this._private.maxZoom:n,n=n<this._private.minZoom?this._private.minZoom:n,t){var s=this._private.pan,u=this._private.zoom,l=n,c={x:-l/u*(t.x-s.x)+t.x,y:-l/u*(t.y-s.y)+t.y};this._private.zoom=n,this._private.pan=c;var d=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(d?" pan ":"")+" viewport ")}else this._private.zoom=n,this.trigger("zoom viewport");return this.notify({type:"viewport"}),this},viewport:function(e){var t=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;if(r.number(e.zoom)||(n=!1),r.plainObject(e.pan)||(i=!1),!n&&!i)return this;if(n){var u=e.zoom;u<t.minZoom||u>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=u,a.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;r.number(l.x)&&(t.pan.x=l.x,s=!1),r.number(l.y)&&(t.pan.y=l.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.trigger(a.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.trigger("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(r.string(e)){var n=e;e=this.elements(n)}else r.elementOrCollection(e)||(e=this.elements());var i=e.boundingBox(),a=this.width(),o=this.height();t=void 0===t?this._private.zoom:t;var s={x:(a-t*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2};return s}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?{width:t.clientWidth,height:t.clientHeight}:{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};i.centre=i.center,i.autolockNodes=i.autolock,i.autoungrabifyNodes=i.autoungrabify,t.exports=i},{"../is":89}],50:[function(e,t,n){"use strict";var r=e("./util"),i=e("./is"),a=e("./selector"),o=e("./promise"),s=e("./event"),u=e("./animation"),l={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};return e=r.extend({},t,e),function(t,n){var r=e,a=this,o=void 0!==a.length,s=o?a:[a],u=o?a[0]:a;if(i.string(t)){if(r.allowGetting&&void 0===n){var l;return u&&(l=u._private[r.field][t]),l}if(r.allowSetting&&void 0!==n){var c=!r.immutableKeys[t];if(c){for(var d=0,f=s.length;f>d;d++)r.canSet(s[d])&&(s[d]._private[r.field][t]=n);r.updateStyle&&a.updateStyle(),r.onSet(a),r.settingTriggersEvent&&a[r.triggerFnName](r.settingEvent)}}}else if(r.allowSetting&&i.plainObject(t)){var h,p,v=t;for(h in v){p=v[h];var c=!r.immutableKeys[h];if(c)for(var d=0,f=s.length;f>d;d++)r.canSet(s[d])&&(s[d]._private[r.field][h]=p)}r.updateStyle&&a.updateStyle(),r.onSet(a),r.settingTriggersEvent&&a[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&i.fn(t)){var g=t;a.on(r.bindingEvent,g)}else if(r.allowGetting&&void 0===t){var l;return u&&(l=u._private[r.field]),l}return a}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=r.extend({},t,e),function(t){var n=e,r=this,a=void 0!==r.length,o=a?r:[r];if(i.string(t)){for(var s=t.split(/\s+/),u=s.length,l=0;u>l;l++){var c=s[l];if(!i.emptyString(c)){var d=!n.immutableKeys[c];if(d)for(var f=0,h=o.length;h>f;f++)o[f]._private[n.field][c]=void 0}}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var f=0,h=o.length;h>f;f++){var p=o[f]._private[n.field];for(var c in p){var v=!n.immutableKeys[c];v&&(p[c]=void 0)}}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}},event:{regex:/(\w+)(\.(?:\w+|\*))?/,universalNamespace:".*",optionalTypeRegex:/(\w+)?(\.(?:\w+|\*))?/,falseCallback:function(){return!1}},on:function(e){var t={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};return e=r.extend({},t,e),
function(t,n,r,o){var s=this,u=void 0!==s.length,c=u?s:[s],d=i.string(t),f=e;if(i.plainObject(n)?(o=r,r=n,n=void 0):(i.fn(n)||n===!1)&&(o=n,r=void 0,n=void 0),(i.fn(r)||r===!1)&&(o=r,r=void 0),!i.fn(o)&&o!==!1&&d)return s;if(d){var h={};h[t]=o,t=h}for(var p in t)if(o=t[p],o===!1&&(o=l.event.falseCallback),i.fn(o)){p=p.split(/\s+/);for(var v=0;v<p.length;v++){var g=p[v];if(!i.emptyString(g)){var y=g.match(l.event.regex);if(y)for(var m=y[1],b=y[2]?y[2]:void 0,x={callback:o,data:r,delegated:!!n,selector:n,selObj:new a(n),type:m,namespace:b,unbindSelfOnTrigger:f.unbindSelfOnTrigger,unbindAllBindersOnTrigger:f.unbindAllBindersOnTrigger,binders:c},w=0;w<c.length;w++){var _=c[w]._private=c[w]._private||{};_.listeners=_.listeners||[],_.listeners.push(x)}}}}return s}},eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.removeListener=t.unlisten=t.unbind=t.off,t.emit=t.trigger,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new o(function(e,t){var i=function(t){n.off.apply(n,o),e(t)},a=r.concat([i]),o=a.concat([]);n.on.apply(n,a)})}},off:function(e){var t={};return e=r.extend({},t,e),function(e,t,n){var r=this,a=void 0!==r.length,o=a?r:[r],s=i.string(e);if(0===arguments.length){for(var u=0;u<o.length;u++)o[u]._private=o[u]._private||{},y.listeners=[];return r}if((i.fn(t)||t===!1)&&(n=t,t=void 0),s){var c={};c[e]=n,e=c}for(var d in e){n=e[d],n===!1&&(n=l.event.falseCallback),d=d.split(/\s+/);for(var f=0;f<d.length;f++){var h=d[f];if(!i.emptyString(h)){var p=h.match(l.event.optionalTypeRegex);if(p)for(var v=p[1]?p[1]:void 0,g=p[2]?p[2]:void 0,u=0;u<o.length;u++)for(var y=o[u]._private=o[u]._private||{},m=y.listeners=y.listeners||[],b=0;b<m.length;b++){var x=m[b],w=!g||g===x.namespace,_=!v||x.type===v,E=!n||n===x.callback,k=w&&_&&E;k&&(m.splice(b,1),b--)}}}}return r}},trigger:function(e){var t={};return e=r.extend({},t,e),function(t,n,r){var a=this,o=void 0!==a.length,u=o?a:[a],c=i.string(t),d=i.plainObject(t),f=i.event(t),h=this._private=this._private||{},p=h.cy||(i.core(this)?this:null),v=p?p.hasCompoundNodes():!1;if(c){var g=t.split(/\s+/);t=[];for(var y=0;y<g.length;y++){var m=g[y];if(!i.emptyString(m)){var b=m.match(l.event.regex),x=b[1],w=b[2]?b[2]:void 0;t.push({type:x,namespace:w})}}}else if(d){var _=t;t=[_]}n?i.array(n)||(n=[n]):n=[];for(var y=0;y<t.length;y++)for(var E=t[y],k=0;k<u.length;k++){var m,S=u[k],h=S._private=S._private||{},T=h.listeners=h.listeners||[],P=i.element(S),C=P||e.layout;if(f?(m=E,m.cyTarget=m.cyTarget||S,m.cy=m.cy||p):m=new s(E,{cyTarget:S,cy:p,namespace:E.namespace}),E.layout&&(m.layout=E.layout),e.layout&&(m.layout=S),m.cyPosition){var D=m.cyPosition,N=p.zoom(),M=p.pan();m.cyRenderedPosition={x:D.x*N+M.x,y:D.y*N+M.y}}r&&(T=[{namespace:m.namespace,type:m.type,callback:r}]);for(var I=0;I<T.length;I++){var A=T[I],O=!A.namespace||A.namespace===m.namespace||A.namespace===l.event.universalNamespace,B=A.type===m.type,L=A.delegated?S!==m.cyTarget&&i.element(m.cyTarget)&&A.selObj.matches(m.cyTarget):!0,j=O&&B&&L;if(j){var z=[m];if(z=z.concat(n),A.data?m.data=A.data:m.data=void 0,(A.unbindSelfOnTrigger||A.unbindAllBindersOnTrigger)&&(T.splice(I,1),I--),A.unbindAllBindersOnTrigger)for(var R=A.binders,q=0;q<R.length;q++){var F=R[q];if(F&&F!==S)for(var V=F._private.listeners,Y=0;Y<V.length;Y++){var X=V[Y];X===A&&(V.splice(Y,1),Y--)}}var $=A.delegated?m.cyTarget:S,W=A.callback.apply($,z);(W===!1||m.isPropagationStopped())&&(C=!1,W===!1&&(m.stopPropagation(),m.preventDefault()))}}if(C){var U=v?S._private.parent:null,H=null!=U&&0!==U.length;H?(U=U[0],U.trigger(m)):p.trigger(m)}}return a}},animated:function(e){var t={};return e=r.extend({},t,e),function(){var e=this,t=void 0!==e.length,n=t?e:[e],r=this._private.cy||this;if(!r.styleEnabled())return!1;var i=n[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(e){var t={};return e=r.extend({},t,e),function(){var e=this,t=void 0!==e.length,n=t?e:[e],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){var a=n[i];a._private.animation.queue=[]}return this}},delay:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this._private.cy||this;return n.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this._private.cy||this;return n.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this,i=void 0!==n.length,a=i?n:[n],o=this._private.cy||this,s=!i,l=!s;if(!o.styleEnabled())return this;var c=o.style();switch(e=r.extend({},e,t),void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}var d=!0;if(e)for(var f in e){d=!1;break}if(d)return new u(a[0],e);if(l&&(e.style=c.getPropsList(e.style||e.css),e.css=void 0),e.renderedPosition&&l){var h=e.renderedPosition,p=o.pan(),v=o.zoom();e.position={x:(h.x-p.x)/v,y:(h.y-p.y)/v}}if(e.panBy&&s){var g=e.panBy,y=o.pan();e.pan={x:y.x+g.x,y:y.y+g.y}}var m=e.center||e.centre;if(m&&s){var b=o.getCenterPan(m.eles,e.zoom);b&&(e.pan=b)}if(e.fit&&s){var x=e.fit,w=o.getFitViewport(x.eles||x.boundingBox,x.padding);w&&(e.pan=w.pan,e.zoom=w.zoom)}return new u(a[0],e)}},animate:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this,i=void 0!==n.length,a=i?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;t&&(e=r.extend({},e,t));for(var s=0;s<a.length;s++){var u=a[s],l=u.animated()&&(void 0===e.queue||e.queue),c=u.animation(e,l?{queue:!0}:void 0);c.play()}return this}},stop:function(e){var t={};return e=r.extend({},t,e),function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o],u=s._private,l=u.animation.current,c=0;c<l.length;c++){var d=l[c],f=d._private;t&&(f.duration=0)}e&&(u.animation.queue=[]),t||(u.animation.current=[])}return a.notify({eles:this,type:"draw"}),this}}};t.exports=l},{"./animation":8,"./event":51,"./is":89,"./promise":92,"./selector":93,"./util":106}],51:[function(e,t,n){"use strict";function r(){return!1}function i(){return!0}var a=function(e,t){return this instanceof a?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?i:r):this.type=e,t&&(this.type=void 0!==t.type?t.type:this.type,this.cy=t.cy,this.cyTarget=t.cyTarget,this.cyPosition=t.cyPosition,this.cyRenderedPosition=t.cyRenderedPosition,this.namespace=t.namespace,this.layout=t.layout,this.data=t.data,this.message=t.message),void(this.timeStamp=e&&e.timeStamp||Date.now())):new a(e,t)};a.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=i;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=i;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},t.exports=a},{}],52:[function(e,t,n){"use strict";function r(e,t,n){var r=n;if("core"===e)c.prototype[t]=n;else if("collection"===e)l.prototype[t]=n;else if("layout"===e){for(var a=function(e){this.options=e,n.call(this,e),f.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[]},o=a.prototype=Object.create(n.prototype),d=[],p=0;p<d.length;p++){var v=d[p];o[v]=o[v]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this}),o.stop||(o.stop=function(){var e=this.options;if(e&&e.animate)for(var t=this.animations,n=0;n<t.length;n++)t[n].stop();return this.trigger("layoutstop"),this}),o.destroy||(o.destroy=function(){return this}),o.on=u.on({layout:!0}),o.one=u.on({layout:!0,unbindSelfOnTrigger:!0}),o.once=u.on({layout:!0,unbindAllBindersOnTrigger:!0}),o.off=u.off({layout:!0}),o.trigger=u.trigger({layout:!0}),u.eventAliasesOn(o),r=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var g=i("renderer","base"),y=g.prototype,m=n,b=n.prototype,x=function(){g.apply(this,arguments),m.apply(this,arguments)},w=x.prototype;for(var _ in y){var E=y[_],k=null!=b[_];if(k)return void s.error("Can not register renderer `"+t+"` since it overrides `"+_+"` in its prototype");w[_]=E}for(var _ in b)w[_]=b[_];y.clientFunctions.forEach(function(e){w[e]=w[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=x}return s.setMap({map:h,keys:[e,t],value:r})}function i(e,t){return s.getMap({map:h,keys:[e,t]})}function a(e,t,n,r,i){return s.setMap({map:p,keys:[e,t,n,r],value:i})}function o(e,t,n,r){return s.getMap({map:p,keys:[e,t,n,r]})}var s=e("./util"),u=e("./define"),l=e("./collection"),c=e("./core"),d=e("./extensions"),f=e("./is"),h={},p={},v=function(){return 2===arguments.length?i.apply(null,arguments):3===arguments.length?r.apply(null,arguments):4===arguments.length?o.apply(null,arguments):5===arguments.length?a.apply(null,arguments):void s.error("Invalid extension access syntax")};c.prototype.extension=v,d.forEach(function(e){e.extensions.forEach(function(t){r(e.type,t.name,t.impl)})}),t.exports=v},{"./collection":32,"./core":43,"./define":50,"./extensions":53,"./is":89,"./util":106}],53:[function(e,t,n){"use strict";t.exports=[{type:"layout",extensions:e("./layout")},{type:"renderer",extensions:e("./renderer")}]},{"./layout":59,"./renderer":84}],54:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},s,e)}var i=e("../../util"),a=e("../../math"),o=e("../../is"),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,s=i.nodes().not(":parent"),u=i,l=a.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.elementOrCollection(n.roots))e=n.roots;else if(o.array(n.roots)){for(var c=[],d=0;d<n.roots.length;d++){var f=n.roots[d],h=r.getElementById(f);c.push(h)}e=r.collection(c)}else if(o.string(n.roots))e=r.$(n.roots);else if(n.directed)e=s.roots();else{for(var p=[],v=s;v.length>0;){var g=r.collection();i.bfs({roots:v[0],visit:function(e,t,n,r,i){g=g.add(n)},directed:!1}),v=v.not(g),p.push(g)}e=r.collection();for(var d=0;d<p.length;d++){var y=p[d],m=y.maxDegree(!1),b=y.filter(function(){return this.degree(!1)===m});e=e.add(b)}}var x=[],w={},_={},E={},k={},S={};u.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var a=this[0],o=a.id();if(x[t]||(x[t]=[]),x[t].push(a),w[o]=!0,_[o]=t,E[o]=i,k[o]=r,i){var s=i.id(),u=S[s]=S[s]||[];u.push(n)}}});for(var T=[],d=0;d<s.length;d++){var h=s[d];w[h.id()]||T.push(h)}for(var P=3*T.length,C=0;0!==T.length&&P>C;){for(var D=T.shift(),N=D.neighborhood().nodes(),M=!1,d=0;d<N.length;d++){var I=_[N[d].id()];if(void 0!==I){x[I].push(D),M=!0;break}}M||T.push(D),C++}for(;0!==T.length;){var D=T.shift(),M=!1;M||(0===x.length&&x.push([]),x[0].push(D))}var A=function(){for(var e=0;e<x.length;e++)for(var t=x[e],n=0;n<t.length;n++){var r=t[n];r._private.scratch.breadthfirst={depth:e,index:n}}};A();for(var O=function(e){for(var t,n=e.connectedEdges(function(){return this.data("target")===e.id()}),r=e._private.scratch.breadthfirst,i=0,a=0;a<n.length;a++){var o=n[a],s=o.source()[0],u=s._private.scratch.breadthfirst;r.depth<=u.depth&&i<u.depth&&(i=u.depth,t=s)}return t},B=0;B<n.maximalAdjustments;B++){for(var L=x.length,j=[],d=0;L>d;d++)for(var I=x[d],z=I.length,R=0;z>R;R++){var h=I[R],q=h._private.scratch.breadthfirst,F=O(h);F&&(q.intEle=F,j.push(h))}for(var d=0;d<j.length;d++){var h=j[d],q=h._private.scratch.breadthfirst,F=q.intEle,V=F._private.scratch.breadthfirst;x[q.depth].splice(q.index,1);for(var Y=V.depth+1;Y>x.length-1;)x.push([]);x[Y].push(h),q.depth=Y,q.index=x[Y].length-1}A()}var X=0;if(n.avoidOverlap){for(var d=0;d<s.length;d++){var $=s[d],W=$.boundingBox(),U=W.w,H=W.h;X=Math.max(X,U,H)}X*=n.spacingFactor}for(var G={},Z=function(e){if(G[e.id()])return G[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent"),r=0,i=0,a=0;a<n.length;a++){var o=n[a],s=o._private.scratch.breadthfirst,u=s.index,l=s.depth,c=x[l].length;(t>l||0===t)&&(r+=u/c,i++)}return i=Math.max(1,i),r/=i,0===i&&(r=void 0),G[e.id()]=r,r},K=function(e,t){var n=Z(e),r=Z(t);return n-r},Q=0;3>Q;Q++){for(var d=0;d<x.length;d++)x[d]=x[d].sort(K);A()}for(var J=0,d=0;d<x.length;d++)J=Math.max(x[d].length,J);for(var ee={x:l.x1+l.w/2,y:l.x1+l.h/2},te=function(e,t){var r=e._private.scratch.breadthfirst,i=r.depth,a=r.index,o=x[i].length,s=Math.max(l.w/(o+1),X),u=Math.max(l.h/(x.length+1),X),c=Math.min(l.w/2/x.length,l.h/2/x.length);if(c=Math.max(c,X),n.circle){if(n.circle){var d=c*i+c-(x.length>0&&x[0].length<=3?c/2:0),f=2*Math.PI/x[i].length*a;return 0===i&&1===x[0].length&&(d=1),{x:ee.x+d*Math.cos(f),y:ee.y+d*Math.sin(f)}}return{x:ee.x+(a+1-(o+1)/2)*s,y:(i+1)*u}}var h={x:ee.x+(a+1-(o+1)/2)*s,y:(i+1)*u};return t?h:h},ne={},d=x.length-1;d>=0;d--)for(var I=x[d],R=0;R<I.length;R++){var D=I[R];ne[D.id()]=te(D,d===x.length-1)}return s.layoutPositions(this,n,function(){return ne[this.id()]}),this},t.exports=r},{"../../is":89,"../../math":91,"../../util":106}],55:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},s,e)}var i=e("../../util"),a=e("../../math"),o=e("../../is"),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=r.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var u,l=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c={x:l.x1+l.w/2,y:l.y1+l.h/2},d=void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep,f=d/Math.max(1,s.length-1),h=0,p=0;p<s.length;p++){var v=s[p],g=v.boundingBox(),y=g.w,m=g.h;h=Math.max(h,y,m)}if(u=o.number(t.radius)?t.radius:s.length<=1?0:Math.min(l.h,l.w)/2-h,s.length>1&&t.avoidOverlap){h*=1.75;var b=Math.cos(f)-Math.cos(0),x=Math.sin(f)-Math.sin(0),w=Math.sqrt(h*h/(b*b+x*x));u=Math.max(w,u)}var _=function(e,n){var r=t.startAngle+e*f*(i?1:-1),a=u*Math.cos(r),o=u*Math.sin(r),s={x:c.x+a,y:c.y+o};return s};return s.layoutPositions(this,t,_),this},t.exports=r},{"../../is":89,"../../math":91,"../../util":106}],56:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,o=i.nodes().not(":parent"),s=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},l=[],c=t.startAngle,d=0,f=0;f<o.length;f++){var h,p=o[f];h=t.concentric.apply(p,[p]),l.push({value:h,node:p}),p._private.scratch.concentric=h}o.updateStyle();for(var f=0;f<o.length;f++){var p=o[f],v=p.boundingBox();d=Math.max(d,v.w,v.h)}l.sort(function(e,t){return t.value-e.value});for(var g=t.levelWidth(o),y=[[]],m=y[0],f=0;f<l.length;f++){var b=l[f];if(m.length>0){var x=Math.abs(m[0].value-b.value);x>=g&&(m=[],y.push(m))}m.push(b)}var w=d+t.minNodeSpacing;if(!t.avoidOverlap){var _=y.length>0&&y[0].length>1,E=Math.min(s.w,s.h)/2-w,k=E/(y.length+_?1:0);w=Math.min(w,k)}for(var S=0,f=0;f<y.length;f++){var T=y[f],P=void 0===t.sweep?2*Math.PI-2*Math.PI/T.length:t.sweep,C=T.dTheta=P/Math.max(1,T.length-1);if(T.length>1&&t.avoidOverlap){var D=Math.cos(C)-Math.cos(0),N=Math.sin(C)-Math.sin(0),M=Math.sqrt(w*w/(D*D+N*N));S=Math.max(M,S)}T.r=S,S+=w}if(t.equidistant){for(var I=0,S=0,f=0;f<y.length;f++){var T=y[f],A=T.r-S;I=Math.max(I,A)}S=0;for(var f=0;f<y.length;f++){var T=y[f];0===f&&(S=T.r),T.r=S,S+=I}}for(var O={},f=0;f<y.length;f++)for(var T=y[f],C=T.dTheta,S=T.r,B=0;B<T.length;B++){var b=T[B],c=t.startAngle+(n?1:-1)*C*B,L={x:u.x+S*Math.cos(c),y:u.y+S*Math.sin(c)};O[b.node.id()]=L}return o.layoutPositions(this,t,function(){var e=this.id();return O[e]}),this},t.exports=r},{"../../math":91,"../../util":106}],57:[function(e,t,n){"use strict";function r(e){this.options=a.extend({},l,e),this.options.layout=this}var i,a=e("../../util"),o=e("../../math"),s=e("../../thread"),u=e("../../is"),l={ready:function(){},stop:function(){},animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,componentSpacing:100,nodeRepulsion:function(e){return 4e5},nodeOverlap:10,idealEdgeLength:function(e){return 10},edgeElasticity:function(e){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0};r.prototype.run=function(){var e=this.options,t=e.cy,n=this,r=this.thread;r&&!r.stopped()||(r=this.thread=s({disabled:!e.useMultitasking})),n.stopped=!1,n.trigger({type:"layoutstart",layout:n}),i=!0===e.debug;var o=c(t,n,e);i&&h(o),p(o,t);var u=Date.now(),l=!1,d=function(n){n=n||{},l&&!n.next||!n.force&&Date.now()-u<e.animationThreshold||(l=!0,a.requestAnimationFrame(function(){v(o,t,e),!0===e.fit&&t.fit(e.padding),l=!1,n.next&&n.next()}))};r.on("message",function(e){var t=e.message;o.layoutNodes=t,d()}),r.pass({layoutInfo:o,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run(function(e){var t,n=e.layoutInfo,r=e.options,i=!1,a=function(e,t,n){o(e,t),c(e,t),d(e,t),f(e,t),h(e,t)},o=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,a=0;i>a;a++)for(var o=e.layoutNodes[e.idToIndex[r[a]]],u=a+1;i>u;u++){var l=e.layoutNodes[e.idToIndex[r[u]]];s(o,l,e,t)}},s=function(e,t,n,r){var i=e.cmptId,a=t.cmptId;if(i===a||n.isCompound){var o=t.positionX-e.positionX,s=t.positionY-e.positionY;if(0!==o||0!==s){var c=u(e,t,o,s);if(c>0)var d=r.nodeOverlap*c,f=Math.sqrt(o*o+s*s),h=d*o/f,p=d*s/f;else var v=l(e,o,s),g=l(t,-1*o,-1*s),y=g.x-v.x,m=g.y-v.y,b=y*y+m*m,f=Math.sqrt(b),d=(e.nodeRepulsion+t.nodeRepulsion)/b,h=d*y/f,p=d*m/f;e.isLocked||(e.offsetX-=h,e.offsetY-=p),t.isLocked||(t.offsetX+=h,t.offsetY+=p)}}},u=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(r>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},l=function(e,t,n){var r=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=n/t,u=a/o,l={};do{if(0===t&&n>0){l.x=r,l.y=i+a/2;break}if(0===t&&0>n){l.x=r,l.y=i+a/2;break}if(t>0&&s>=-1*u&&u>=s){l.x=r+o/2,l.y=i+o*n/2/t;break}if(0>t&&s>=-1*u&&u>=s){l.x=r-o/2,l.y=i-o*n/2/t;break}if(n>0&&(-1*u>=s||s>=u)){l.x=r+a*t/2/n,l.y=i+a/2;break}if(0>n&&(-1*u>=s||s>=u)){l.x=r-a*t/2/n,l.y=i-a/2;break}}while(!1);return l},c=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],a=e.layoutNodes[i],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],u=s.positionX-a.positionX,c=s.positionY-a.positionY;if(0===u&&0===c)return;var d=l(a,u,c),f=l(s,-1*u,-1*c),h=f.x-d.x,p=f.y-d.y,v=Math.sqrt(h*h+p*p),g=Math.pow(r.idealLength-v,2)/r.elasticity;if(0!==v)var y=g*h/v,m=g*p/v;else var y=0,m=0;a.isLocked||(a.offsetX+=y,a.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}},d=function(e,t){for(var n=1,r=0;r<e.graphSet.length;r++){var i=e.graphSet[r],a=i.length;if(0===r)var o=e.clientHeight/2,s=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],l=e.layoutNodes[e.idToIndex[u.parentId]],o=l.positionX,s=l.positionY;for(var c=0;a>c;c++){var d=e.layoutNodes[e.idToIndex[i[c]]];if(!d.isLocked){var f=o-d.positionX,h=s-d.positionY,p=Math.sqrt(f*f+h*h);if(p>n){var v=t.gravity*f/p,g=t.gravity*h/p;d.offsetX+=v,d.offsetY+=g}}}}},f=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;i>=r;){var a=n[r++],o=e.idToIndex[a],s=e.layoutNodes[o],u=s.children;if(0<u.length&&!s.isLocked){for(var l=s.offsetX,c=s.offsetY,d=0;d<u.length;d++){var f=e.layoutNodes[e.idToIndex[u[d]]];f.offsetX+=l,f.offsetY+=c,n[++i]=u[d]}s.offsetX=0,s.offsetY=0}}},h=function(e,t){for(var n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];0<r.children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];if(!(0<r.children.length||r.isLocked)){var i=p(r.offsetX,r.offsetY,e.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,v(r,e)}}for(var n=0;n<e.nodeSize;n++){var r=e.layoutNodes[n];0<r.children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},p=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else var i={x:e,y:t};return i},v=function(e,t){var n=e.parentId;if(null!=n){var r=t.layoutNodes[t.idToIndex[n]],i=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,i=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,i=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,i=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,i=!0),i?v(r,t):void 0}},g=function(e,t){for(var r=n.layoutNodes,i=[],a=0;a<r.length;a++){var o=r[a],s=o.cmptId,u=i[s]=i[s]||[];u.push(o)}for(var l=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-(1/0),c.y1=1/0,c.y2=-(1/0);for(var d=0;d<c.length;d++){var f=c[d];c.x1=Math.min(c.x1,f.positionX-f.width/2),c.x2=Math.max(c.x2,f.positionX+f.width/2),c.y1=Math.min(c.y1,f.positionY-f.height/2),c.y2=Math.max(c.y2,f.positionY+f.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var h=0,p=0,v=0,g=0,y=Math.sqrt(l)*n.clientWidth/n.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var d=0;d<c.length;d++){var f=c[d];f.isLocked||(f.positionX+=h,f.positionY+=p)}h+=c.w+t.componentSpacing,v+=c.w+t.componentSpacing,g=Math.max(g,c.h),v>y&&(p+=g+t.componentSpacing,h=0,v=0,g=0)}}},y=function(e){return i?!1:(a(n,r,e),n.temperature=n.temperature*r.coolingFactor,!(n.temperature<r.minTemp))},m=0;do{for(var b=0;b<r.refresh&&m<r.numIter;){var t=y(m);if(!t)break;b++,m++}r.animate&&broadcast(n.layoutNodes)}while(t&&m+1<r.numIter);return g(n,r),n}).then(function(e){o.layoutNodes=e.layoutNodes,r.stop(),f()});var f=function(){d({force:!0,next:function(){n.one("layoutstop",e.stop),n.trigger({type:"layoutstop",layout:n})}})};return this},r.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.trigger("layoutstop"),this},r.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:o.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},s=n.eles.components(),l={},c=0;c<s.length;c++)for(var f=s[c],h=0;h<f.length;h++){var p=f[h];l[p.id()]=c}for(var c=0;c<a.nodeSize;c++){var v=i[c],g=v.boundingBox(),y={};y.isLocked=v.locked(),y.id=v.data("id"),y.parentId=v.data("parent"),y.cmptId=l[v.id()],y.children=[],y.positionX=v.position("x"),y.positionY=v.position("y"),y.offsetX=0,y.offsetY=0,y.height=g.w,y.width=g.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(v.style("padding-left")),y.padRight=parseFloat(v.style("padding-right")),y.padTop=parseFloat(v.style("padding-top")),y.padBottom=parseFloat(v.style("padding-bottom")),y.nodeRepulsion=u.fn(n.nodeRepulsion)?n.nodeRepulsion.call(v,v):n.nodeRepulsion,a.layoutNodes.push(y),a.idToIndex[y.id]=c}for(var m=[],b=0,x=-1,w=[],c=0;c<a.nodeSize;c++){var v=a.layoutNodes[c],_=v.parentId;null!=_?a.layoutNodes[a.idToIndex[_]].children.push(v.id):(m[++x]=v.id,w.push(v.id))}for(a.graphSet.push(w);x>=b;){var E=m[b++],k=a.idToIndex[E],p=a.layoutNodes[k],S=p.children;if(S.length>0){a.graphSet.push(S);for(var c=0;c<S.length;c++)m[++x]=S[c]}}for(var c=0;c<a.graphSet.length;c++)for(var T=a.graphSet[c],h=0;h<T.length;h++){var P=a.idToIndex[T[h]];a.indexToGraph[P]=c}for(var c=0;c<a.edgeSize;c++){var C=r[c],D={};D.id=C.data("id"),D.sourceId=C.data("source"),D.targetId=C.data("target");var N=u.fn(n.idealEdgeLength)?n.idealEdgeLength.call(C,C):n.idealEdgeLength,M=u.fn(n.edgeElasticity)?n.edgeElasticity.call(C,C):n.edgeElasticity,I=a.idToIndex[D.sourceId],A=a.idToIndex[D.targetId],O=a.indexToGraph[I],B=a.indexToGraph[A];if(O!=B){for(var L=d(D.sourceId,D.targetId,a),j=a.graphSet[L],z=0,y=a.layoutNodes[I];-1===j.indexOf(y.id);)y=a.layoutNodes[a.idToIndex[y.parentId]],z++;for(y=a.layoutNodes[A];-1===j.indexOf(y.id);)y=a.layoutNodes[a.idToIndex[y.parentId]],z++;N*=z*n.nestingFactor}D.idealLength=N,D.elasticity=M,a.layoutEdges.push(D)}return a},d=function(e,t,n){var r=f(e,t,0,n);return 2>r.count?0:r.graph},f=function(e,t,n,r){var i=r.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:n};for(var a=0,o=0;o<i.length;o++){var s=i[o],u=r.idToIndex[s],l=r.layoutNodes[u].children;if(0!==l.length){var c=r.indexToGraph[r.idToIndex[l[0]]],d=f(e,t,c,r);if(0!==d.count){if(1!==d.count)return d;if(a++,2===a)break}}}return{count:a,graph:n}},h=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],r="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(r)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var r="IndexToGraph",t=0;t<e.indexToGraph.length;t++)r+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(r),r="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];r+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(r),r="nodeSize: "+e.nodeSize,r+="\nedgeSize: "+e.edgeSize,r+="\ntemperature: "+e.temperature,console.debug(r)}},p=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*n,a.positionY=Math.random()*r)}},v=function(e,t,n){var r=n.layout,i=n.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};n.boundingBox&&(i.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,n.positionX),o.x2=Math.max(o.x2,n.positionX),o.y1=Math.min(o.y1,n.positionY),o.y2=Math.max(o.y2,n.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),i.positions(function(t,r){var i=e.layoutNodes[e.idToIndex[r.data("id")]];if(n.boundingBox){var s=(i.positionX-o.x1)/o.w,u=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+u*a.h}}return{x:i.positionX,y:i.positionY}}),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.trigger({type:"layoutready",layout:this}))};t.exports=r},{"../../is":89,"../../math":91,"../../thread":104,"../../util":106}],58:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)i.layoutPositions(this,t,function(){return{x:o.x1,y:o.y1}});else{var s=i.size(),u=Math.sqrt(s*o.h/o.w),l=Math.round(u),c=Math.round(o.w/o.h*u),d=function(e){if(null==e)return Math.min(l,c);var t=Math.min(l,c);t==l?l=e:c=e},f=function(e){if(null==e)return Math.max(l,c);var t=Math.max(l,c);t==l?l=e:c=e},h=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=p)l=h,c=p;else if(null!=h&&null==p)l=h,c=Math.ceil(s/l);else if(null==h&&null!=p)c=p,l=Math.ceil(s/c);else if(c*l>s){var v=d(),g=f();(v-1)*g>=s?d(v-1):(g-1)*v>=s&&f(g-1)}else for(;s>c*l;){var v=d(),g=f();(g+1)*v>=s?f(g+1):d(v+1)}var y=o.w/c,m=o.h/l;if(t.condense&&(y=0,m=0),t.avoidOverlap)for(var b=0;b<i.length;b++){var x=i[b],w=x._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var _=x.boundingBox(),E=t.avoidOverlapPadding,k=_.w+E,S=_.h+E;y=Math.max(y,k),m=Math.max(m,S)}for(var T={},P=function(e,t){return!!T["c-"+e+"-"+t]},C=function(e,t){T["c-"+e+"-"+t]=!0},D=0,N=0,M=function(){N++,N>=c&&(N=0,D++)},I={},b=0;b<i.length;b++){var x=i[b],A=t.position(x);if(A&&(void 0!==A.row||void 0!==A.col)){var w={row:A.row,col:A.col};if(void 0===w.col)for(w.col=0;P(w.row,w.col);)w.col++;else if(void 0===w.row)for(w.row=0;P(w.row,w.col);)w.row++;I[x.id()]=w,C(w.row,w.col)}}var O=function(e,t){var n,r;if(t.locked()||t.isFullAutoParent())return!1;var i=I[t.id()];if(i)n=i.col*y+y/2+o.x1,r=i.row*m+m/2+o.y1;else{for(;P(D,N);)M();n=N*y+y/2+o.x1,r=D*m+m/2+o.y1,C(D,N),M()}return{x:n,y:r}};i.layoutPositions(this,t,O)}return this},t.exports=r},{"../../math":91,"../../util":106}],59:[function(e,t,n){"use strict";t.exports=[{name:"breadthfirst",impl:e("./breadthfirst")},{name:"circle",impl:e("./circle")},{name:"concentric",impl:e("./concentric")},{name:"cose",impl:e("./cose")},{name:"grid",impl:e("./grid")},{name:"null",impl:e("./null")},{name:"preset",impl:e("./preset")},{name:"random",impl:e("./random")}]},{"./breadthfirst":54,"./circle":55,"./concentric":56,"./cose":57,"./grid":58,"./null":60,"./preset":61,"./random":62}],60:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=e("../../util"),a={ready:function(){},stop:function(){}};r.prototype.run=function(){var e=this.options,t=e.eles,n=this;e.cy;return n.trigger("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.trigger("layoutready"),n.one("layoutstop",e.stop),n.trigger("layoutstop"),this},r.prototype.stop=function(){return this},t.exports=r},{"../../util":106}],61:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../is"),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions.apply(e,[e]);var n=t.positions[e._private.data.id];return null==n?null:n}var t=this.options,n=t.eles,r=n.nodes(),i=a.fn(t.positions);return r.layoutPositions(this,t,function(t,n){var r=e(n);return n.locked()||null==r?!1:r}),this},t.exports=r},{"../../is":89,"../../util":106}],62:[function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};r.prototype.run=function(){
var e=this.options,t=e.cy,n=e.eles,r=n.nodes().not(":parent"),i=a.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),o=function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};return r.layoutPositions(this,e,o),this},t.exports=r},{"../../math":91,"../../util":106}],63:[function(e,t,n){"use strict";var r=e("../../../math"),i=e("../../../is"),a=e("../../../util"),o={};o.arrowShapeWidth=.3,o.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,a){var o=i.x-n/2-a,s=i.x+n/2+a,u=i.y-n/2-a,l=i.y+n/2+a,c=e>=o&&s>=e&&t>=u&&l>=t;return c},o=function(e,t,n,r,i){var a=e*Math.cos(r)-t*Math.sin(r),o=e*Math.sin(r)+t*Math.cos(r),s=a*n,u=o*n,l=s+i.x,c=u+i.y;return{x:l,y:c}},s=function(e,t,n,r){for(var i=[],a=0;a<e.length;a+=2){var s=e[a],u=e[a+1];i.push(o(s,u,t,n,r))}return i},u=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},l=function(o,l){i.string(l)&&(l=e[l]),e[o]=a.extend({name:o,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,i,a,o){var l=u(s(this.points,n+2*o,i,a)),c=r.pointInsidePolygonPoints(e,t,l);return c},roughCollide:n,draw:function(e,n,r,i){var a=s(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:function(e){return 2*e.pstyle("width").pfValue}},l)};l("none",{collide:a.falsify,roughCollide:a.falsify,draw:a.noop,spacing:a.zeroify,gap:a.zeroify}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,r,i){var a=s(this.points,n,r,i),u=this.controlPoint,l=o(u[0],u[1],n,r,i);t.arrowShapeImpl(this.name)(e,a,l)},gap:function(e){return e.pstyle("width").pfValue}}),l("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,i,a,o){var l=u(s(this.points,n+2*o,i,a)),c=u(s(this.pointsTee,n+2*o,i,a)),d=r.pointInsidePolygonPoints(e,t,l)||r.pointInsidePolygonPoints(e,t,c);return d},draw:function(e,n,r,i){var a=s(this.points,n,r,i),o=s(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,a,o)}}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return e.pstyle("width").pfValue}}),l("circle",{radius:.15,collide:function(e,t,n,r,i,a){var o=i,s=Math.pow(o.x-e,2)+Math.pow(o.y-t,2)<=Math.pow((n+2*a)*this.radius,2);return s},draw:function(e,n,r,i){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue)*this.radius}}),l("inhibitor",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),l("tee","inhibitor"),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue}})},t.exports=o},{"../../../is":89,"../../../math":91,"../../../util":106}],64:[function(e,t,n){"use strict";function r(e,t,n){for(var r=function(e,t,n,r){return i.qbezierAt(e,t,n,r)},a=t._private,o=a.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var u=e.bezierProjPcts[s];o.push({x:r(n[0],n[2],n[4],u),y:r(n[1],n[3],n[5],u)})}}var i=e("../../../math"),a=e("../../../is"),o=e("../../../util"),s=e("../../../collection/zsort"),u={};u.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,r=function(e,n){t.merge(e);for(var r=0;r<e.length;r++){var i=e[r],a=i._private,o=a.rstyle;o.clean=!1,a.bbCache=null;var s=o.dirtyEvents=o.dirtyEvents||{length:0};s[n.type]||(s[n.type]=!0,s.length++)}};n.binder(e).on("position.* style.* free.*","node",function(t){var n=t.cyTarget;if(r(n,t),r(n.connectedEdges(),t),e.hasCompoundNodes()){var i=n.parents();r(i,t),r(i.connectedEdges(),t)}}).on("add.* background.*","node",function(e){var t=e.cyTarget;r(t,e)}).on("add.* style.*","edge",function(e){var t=e.cyTarget;r(t,e),r(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.cyTarget,n=t.parallelEdges(),i=0;i<n.length;i++){var a=n[i];a.removed()||r(a,e)}});var i=function(r){if(r){var i=n.onUpdateEleCalcsFns;if(i)for(var a=0;a<i.length;a++){var o=i[a];o(r,t)}n.recalculateRenderedStyle(t);for(var a=0;a<t.length;a++)t[a]._private.rstyle.dirtyEvents=null;t=e.collection()}};n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},u.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},u.recalculateRenderedStyle=function(e,t){var n=[],r=[];void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=e[i],o=a._private,s=o.rstyle;if(!t||!s.clean){if("nodes"===o.group){var u=o.position;r.push(a),s.nodeX=u.x,s.nodeY=u.y,s.nodeW=a.pstyle("width").pfValue,s.nodeH=a.pstyle("height").pfValue}else n.push(a);s.clean=!0}}this.recalculateEdgeProjections(n),this.recalculateLabelProjections(r,n);for(var i=0;i<n.length;i++){var a=n[i],o=a._private,s=o.rstyle,l=o.rscratch;s.srcX=l.arrowStartX,s.srcY=l.arrowStartY,s.tgtX=l.arrowEndX,s.tgtY=l.arrowEndY,s.midX=l.midX,s.midY=l.midY}},u.projectIntoViewport=function(e,t){var n=this.findContainerClientCoords(),r=n[0],i=n[1],a=e-r,o=t-i;return a-=this.cy.pan().x,o-=this.cy.pan().y,a/=this.cy.zoom(),o/=this.cy.zoom(),[a,o]},u.findContainerClientCoords=function(){var e=this.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]},u.invalidateContainerClientCoordsCache=function(){this.containerBB=null},u.findNearestElement=function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},u.findNearestElements=function(e,t,n,r){function a(e,t){if(e.isNode()){if(f)return;f=e,g.push(e)}if(e.isEdge()&&(null==t||_>t))if(d){if(d.pstyle("z-index").value===e.pstyle("z-index").value)for(var n=0;n<g.length;n++)if(g[n].isEdge()){g[n]=e,d=e,_=null!=t?t:_;break}}else g.push(e),d=e,_=null!=t?t:_}function s(r){var i=r._private;if("no"!==r.pstyle("events").strValue){var o=r.outerWidth()+2*x,s=r.outerHeight()+2*x,u=o/2,l=s/2,c=i.position;if(c.x-u<=e&&e<=c.x+u&&c.y-l<=t&&t<=c.y+l){var d=!n||r.visible()&&!r.transparent();if(n&&!d)return;var f=p.nodeShapes[h.getNodeShape(r)];f.checkPoint(e,t,0,o,s,c.x,c.y)&&a(r,0)}}}function u(r){var o=r._private;if("no"!==r.pstyle("events").strValue){var u,l,c=o.rscratch,d=r.pstyle("width").pfValue/2+b,f=d*d,v=2*d,y=o.source,x=o.target,w=!1,_=function(){if(void 0!==l)return l;if(!n)return l=!0,!0;var e=r.visible()&&!r.transparent();return e?(l=!0,!0):(l=!1,!1)};if("segments"===c.edgeType||"straight"===c.edgeType||"haystack"===c.edgeType)for(var E=c.allpts,k=0;k+3<E.length;k+=2)(w=i.inLineVicinity(e,t,E[k],E[k+1],E[k+2],E[k+3],v))&&_()&&f>(u=i.sqdistToFiniteLine(e,t,E[k],E[k+1],E[k+2],E[k+3]))&&a(r,u);else if("bezier"===c.edgeType||"multibezier"===c.edgeType||"self"===c.edgeType||"compound"===c.edgeType)for(var E=c.allpts,k=0;k+5<c.allpts.length;k+=4)(w=i.inBezierVicinity(e,t,E[k],E[k+1],E[k+2],E[k+3],E[k+4],E[k+5],v))&&_()&&f>(u=i.sqdistToQuadraticBezier(e,t,E[k],E[k+1],E[k+2],E[k+3],E[k+4],E[k+5]))&&a(r,u);if(w&&_())for(var y=y||o.source,x=x||o.target,S=r.pstyle("width").pfValue,T=h.getArrowWidth(S),P=[{name:"source",x:c.arrowStartX,y:c.arrowStartY,angle:c.srcArrowAngle},{name:"target",x:c.arrowEndX,y:c.arrowEndY,angle:c.tgtArrowAngle},{name:"mid-source",x:c.midX,y:c.midY,angle:c.midsrcArrowAngle},{name:"mid-target",x:c.midX,y:c.midY,angle:c.midtgtArrowAngle}],k=0;k<P.length;k++){var C=P[k],D=p.arrowShapes[r.pstyle(C.name+"-arrow-shape").value];if(D.roughCollide(e,t,T,C.angle,{x:C.x,y:C.y},b)&&D.collide(e,t,T,C.angle,{x:C.x,y:C.y},b)){a(r);break}}m&&g.length>0&&(s(y),s(x))}}function l(e,t,n){return o.getPrefixedProperty(e,t,n)}function c(n,r){var o,s=n._private,u=w;if(o=r?r+"-":"","no"!==n.pstyle("text-events").strValue){var c=n.pstyle(o+"text-rotation");if("autorotate"===c.strValue||0!==c.pfValue){var d=s.rstyle,f=n.pstyle("text-border-width").pfValue,h=l(d,"labelWidth",r)+f/2+2*u,p=l(d,"labelHeight",r)+f/2+2*u,v=l(d,"labelX",r),g=l(d,"labelY",r),y=l(s.rscratch,"labelAngle",r),m=Math.cos(y),b=Math.sin(y),x=function(e,t){return e-=v,t-=g,{x:e*m-t*b+v,y:e*b+t*m+g}},_=v-h/2,E=v+h/2,k=g-p/2,S=g+p/2,T=x(_,k),P=x(_,S),C=x(E,k),D=x(E,S),N=[T.x,T.y,C.x,C.y,D.x,D.y,P.x,P.y];i.pointInsidePolygonPoints(e,t,N)&&a(n)}else{var M=n.boundingBox({includeLabels:!0,includeNodes:!1,includeEdges:!1});M.x1-=u,M.y1-=u,M.x2+=u,M.y2+=u,M.w=M.x2-M.x1,M.h=M.y2-M.y1,i.inBoundingBox(M,e,t)&&a(n)}}}for(var d,f,h=this,p=this,v=p.getCachedZSortedEles(),g=[],y=p.cy.zoom(),m=p.cy.hasCompoundNodes(),b=(r?24:8)/y,x=(r?8:2)/y,w=(r?8:2)/y,_=1/0,E=v.length-1;E>=0;E--){var k=v[E];k.isNode()?(s(k),c(k)):(u(k),c(k),c(k,"source"),c(k,"target"))}return g},u.getAllInBox=function(e,t,n,r){var a=this.getCachedZSortedEles(),o=a.nodes,s=a.edges,u=[],l=Math.min(e,n),c=Math.max(e,n),d=Math.min(t,r),f=Math.max(t,r);e=l,n=c,t=d,r=f;for(var h=i.makeBoundingBox({x1:e,y1:t,x2:n,y2:r}),p=0;p<o.length;p++){var v=o[p],g=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1,includeShadows:!1});i.boundingBoxesIntersect(h,g)&&u.push(o[p])}for(var y=0;y<s.length;y++){var m=s[y],b=m._private,x=b.rscratch;if((null==x.startX||null==x.startY||i.inBoundingBox(h,x.startX,x.startY))&&(null==x.endX||null==x.endY||i.inBoundingBox(h,x.endX,x.endY)))if("bezier"===x.edgeType||"multibezier"===x.edgeType||"self"===x.edgeType||"compound"===x.edgeType||"segments"===x.edgeType||"haystack"===x.edgeType){for(var w=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,_=!0,p=0;p<w.length;p++)if(!i.pointInBoundingBox(h,w[p])){_=!1;break}_&&u.push(m)}else"haystack"!==x.edgeType&&"straight"!==x.edgeType||u.push(m)}return u},u.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(e.isParent())return"rectangle"===n||"roundrectangle"===n?n:"rectangle";if("polygon"===n){var r=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(r).name}return n},u.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)},u.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;e.drag=[],e.nondrag=[];for(var t,n=0;n<e.length;n++){var r=e[n],i=r._private.rscratch;i.isGrabTarget&&!r.isParent()?t=r:i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}t&&e.drag.push(t)},u.getCachedZSortedEles=function(e){var t=this.cy.elements(),n=[];if(e||!this.cachedZSortedEles){var n=[];n.nodes=[],n.edges=[];for(var r=0;r<t.length;r++){var i=t[r];(i.animated()||i.visible()&&!i.transparent())&&(n.push(i),i.isNode()?n.nodes.push(i):n.edges.push(i))}n.sort(s),this.cachedZSortedEles=n,this.updateCachedGrabbedEles()}else n=this.cachedZSortedEles;return n},u.projectLines=function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if("multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var a=(t.rstyle.bezierPts=[],0);a+5<n.allpts.length;a+=4)r(this,e,n.allpts.slice(a,a+6));else if("segments"===i)for(var o=t.rstyle.linePts=[],a=0;a+1<n.allpts.length;a+=2)o.push({x:n.allpts[a],y:n.allpts[a+1]});else if("haystack"===i){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue)*this.arrowShapeWidth},u.projectBezier=u.projectLines,u.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!a.emptyString(t)){var n,r,i=e._private,o=e.width(),s=e.height(),u=e.pstyle("padding-left").pfValue,l=e.pstyle("padding-right").pfValue,c=e.pstyle("padding-top").pfValue,d=e.pstyle("padding-bottom").pfValue,f=i.position,h=e.pstyle("text-halign").strValue,p=e.pstyle("text-valign").strValue,v=i.rscratch,g=i.rstyle;switch(h){case"left":n=f.x-o/2-u;break;case"right":n=f.x+o/2+l;break;default:n=f.x}switch(p){case"top":r=f.y-s/2-c;break;case"bottom":r=f.y+s/2+d;break;default:r=f.y}v.labelX=n,v.labelY=r,g.labelX=n,g.labelY=r,this.applyLabelDimensions(e)}},u.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,a=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:r.midX,y:r.midY};var u=function(e,t,r){o.setPrefixedProperty(n.rscratch,e,t,r),o.setPrefixedProperty(n.rstyle,e,t,r)};u("labelX",null,t.x),u("labelY",null,t.y);var l=function(){function e(e,t,n,r,a){var o=i.dist(t,n),s=e.segments[e.segments.length-1],u={p0:t,p1:n,t0:r,t1:a,startDist:s?s.startDist+s.length:0,length:o};e.segments.push(u),e.length+=o}if(l.cache)return l.cache;for(var t=[],o=0;o+5<r.allpts.length;o+=4){var s={x:r.allpts[o],y:r.allpts[o+1]},u={x:r.allpts[o+2],y:r.allpts[o+3]},c={x:r.allpts[o+4],y:r.allpts[o+5]};t.push({p0:s,p1:u,p2:c,startDist:0,length:0,segments:[]})}for(var d=n.rstyle.bezierPts,f=a.bezierProjPcts.length,o=0;o<t.length;o++){var h=t[o],p=t[o-1];p&&(h.startDist=p.startDist+p.length),e(h,h.p0,d[o*f],0,a.bezierProjPcts[0]);for(var v=0;f-1>v;v++)e(h,d[o*f+v],d[o*f+v+1],a.bezierProjPcts[v],a.bezierProjPcts[v+1]);e(h,d[o*f+f-1],h.p2,a.bezierProjPcts[f-1],1)}return l.cache=t},c=function(n){var a,o="source"===n;if(s[n]){var c=e.pstyle(n+"-text-offset").pfValue,d=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan(r/n)},f=function(e,t,n,r){var a=i.bound(0,r-.001,1),o=i.bound(0,r+.001,1),s=i.qbezierPtAt(e,t,n,a),u=i.qbezierPtAt(e,t,n,o);return d(s,u)};switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var h,p=l(),v=0,g=0,y=0;y<p.length;y++){for(var m=p[o?y:p.length-1-y],b=0;b<m.segments.length;b++){var x=m.segments[o?b:m.segments.length-1-b],w=y===p.length-1&&b===m.segments.length-1;if(v=g,g+=x.length,g>=c||w){h={cp:m,segment:x};break}}if(h)break}var m=h.cp,x=h.segment,_=(c-v)/x.length,E=x.t1-x.t0,k=o?x.t0+E*_:x.t1-E*_;k=i.bound(0,k,1),t=i.qbezierPtAt(m.p0,m.p1,m.p2,k),a=f(m.p0,m.p1,m.p2,k,t);break;case"straight":case"segments":case"haystack":for(var S,T,P,C,D=0,N=r.allpts.length,y=0;N>y+3&&(o?(P={x:r.allpts[y],y:r.allpts[y+1]},C={x:r.allpts[y+2],y:r.allpts[y+3]}):(P={x:r.allpts[N-2-y],y:r.allpts[N-1-y]},C={x:r.allpts[N-4-y],y:r.allpts[N-3-y]}),S=i.dist(P,C),T=D,D+=S,!(D>=c));y+=2);var M=c-T,k=M/S;k=i.bound(0,k,1),t=i.lineAt(P,C,k),a=d(P,C)}u("labelX",n,t.x),u("labelY",n,t.y),u("labelAutoAngle",n,a)}};c("source"),c("target"),this.applyLabelDimensions(e)}},u.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},u.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);o.setPrefixedProperty(n.rstyle,"labelWidth",t,i.width),o.setPrefixedProperty(n.rscratch,"labelWidth",t,i.width),o.setPrefixedProperty(n.rstyle,"labelHeight",t,i.height),o.setPrefixedProperty(n.rscratch,"labelHeight",t,i.height)},u.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,a=e.pstyle("text-transform").value,s=function(e,r){return r?(o.setPrefixedProperty(n.rscratch,e,t,r),r):o.getPrefixedProperty(n.rscratch,e,t)};if("none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase())),"wrap"===e.pstyle("text-wrap").value){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var l=i.split("\n"),c=e.pstyle("text-max-width").pfValue,d=[],f=0;f<l.length;f++){var h=l[f],p=this.calculateLabelDimensions(e,h,"line="+h),v=p.width;if(v>c){for(var g=h.split(/\s+/),y="",m=0;m<g.length;m++){var b=g[m],x=0===y.length?b:y+" "+b,w=this.calculateLabelDimensions(e,x,"testLine="+x),_=w.width;c>=_?y+=b+" ":(d.push(y),y=b+" ")}y.match(/^\s+$/)||d.push(y)}else d.push(h)}s("labelWrapCachedLines",d),i=s("labelWrapCachedText",d.join("\n")),s("labelWrapKey",u)}return i},u.calculateLabelDimensions=function(e,t,n){var r=this,i=e._private.labelKey;n&&(i+="$@$"+n);var a=r.labelDimCache||(r.labelDimCache={});if(a[i])return a[i];var o=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=this.labelCalcDiv;c||(c=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(c));var d=c.style;return d.fontFamily=u,d.fontStyle=o,d.fontSize=s,d.fontWeight=l,d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none",d.padding="0",d.lineHeight="1","wrap"===e.pstyle("text-wrap").value?d.whiteSpace="pre":d.whiteSpace="normal",c.textContent=t,a[i]={width:c.clientWidth,height:c.clientHeight},a[i]},u.recalculateLabelProjections=function(e,t){for(var n=0;n<e.length;n++)this.recalculateNodeLabelProjection(e[n]);for(var n=0;n<t.length;n++)this.recalculateEdgeLabelProjections(t[n])},u.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},u.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,n=this,r=n.cy,o=r.hasCompoundNodes(),s={},u=[],l=[],c=0;c<e.length;c++){var d=e[c],f=d._private,h=f.data,p=d.pstyle("curve-style").value,v="unbundled-bezier"===p||"segments"===p;if("none"!==d.pstyle("display").value)if("haystack"!==p){var g=h.source,y=h.target;t=g>y?y+"$-$"+g:g+"$-$"+y,v&&(t="unbundled$-$"+h.id),null==s[t]&&(s[t]=[],u.push(t)),s[t].push(d),v&&(s[t].hasUnbundled=!0)}else l.push(d)}for(var m,b,x,w,_,E,k,S,T,P,C,D,N,M,I=0;I<u.length;I++){t=u[I];var A=s[t];if(A.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),m=A[0]._private.source,b=A[0]._private.target,x=m._private,w=b._private,x.data.id>w.data.id){var O=m;m=b,b=O}if(_=x.position,E=w.position,k=m.outerWidth(),S=m.outerHeight(),T=b.outerWidth(),P=b.outerHeight(),C=n.nodeShapes[this.getNodeShape(m)],D=n.nodeShapes[this.getNodeShape(b)],M=!1,A.length>1&&m!==b||A.hasUnbundled){var B=C.intersectLine(_.x,_.y,k,S,E.x,E.y,0),L=D.intersectLine(E.x,E.y,T,P,_.x,_.y,0),j={x1:B[0],x2:L[0],y1:B[1],y2:L[1]},z={x1:_.x,x2:E.x,y1:_.y,y2:E.y},R=L[1]-B[1],q=L[0]-B[0],F=Math.sqrt(q*q+R*R),V={x:q,y:R},Y={x:V.x/F,y:V.y/F};N={x:-Y.y,y:Y.x},(D.checkPoint(B[0],B[1],0,T,P,E.x,E.y)||C.checkPoint(L[0],L[1],0,k,S,_.x,_.y))&&(N={},M=!0)}for(var d,X,$,c=0;c<A.length;c++){d=A[c],X=d._private,$=X.rscratch;var W=$.lastEdgeIndex,U=c,H=$.lastNumEdges,G=A.length,p=d.pstyle("curve-style").value,Z=d.pstyle("control-point-distances"),K=d.pstyle("control-point-weights"),Q=Z&&K?Math.min(Z.value.length,K.value.length):1,J=d.pstyle("control-point-step-size").pfValue,ee=Z?Z.pfValue[0]:void 0,te=K.value[0],v="unbundled-bezier"===p||"segments"===p,ne=X.source!==m;ne&&v&&(ee*=-1);var re=$.lastSrcCtlPtX,ie=_.x,ae=$.lastSrcCtlPtY,oe=_.y,se=$.lastSrcCtlPtW,ue=m.outerWidth(),le=$.lastSrcCtlPtH,ce=m.outerHeight(),de=$.lastTgtCtlPtX,fe=E.x,he=$.lastTgtCtlPtY,pe=E.y,ve=$.lastTgtCtlPtW,ge=b.outerWidth(),ye=$.lastTgtCtlPtH,me=b.outerHeight(),be=$.lastW,xe=d.pstyle("control-point-step-size").pfValue,we=d.pstyle("edge-distances").value;if(M?$.badBezier=!0:$.badBezier=!1,re!==ie||ae!==oe||se!==ue||le!==ce||de!==fe||he!==pe||ve!==ge||ye!==me||be!==xe||!(W===U&&H===G||v)){if($.lastSrcCtlPtX=ie,$.lastSrcCtlPtY=oe,$.lastSrcCtlPtW=ue,$.lastSrcCtlPtH=ce,$.lastTgtCtlPtX=fe,$.lastTgtCtlPtY=pe,$.lastTgtCtlPtW=ge,$.lastTgtCtlPtH=me,$.lastEdgeIndex=U,$.lastNumEdges=G,$.lastWidth=xe,m===b){$.edgeType="self";var _e=c,Ee=J;v&&(_e=0,Ee=ee),$.ctrlpts=[_.x,_.y-(1+Math.pow(S,1.12)/100)*Ee*(_e/3+1),_.x-(1+Math.pow(k,1.12)/100)*Ee*(_e/3+1),_.y]}else if(o&&(m.isParent()||m.isChild()||b.isParent()||b.isChild())&&(m.parents().anySame(b)||b.parents().anySame(m))){$.edgeType="compound",$.badBezier=!1;var _e=c,Ee=J;v&&(_e=0,Ee=ee);var ke=50,Se={x:_.x-k/2,y:_.y-S/2},Te={x:E.x-T/2,y:E.y-P/2},Pe={x:Math.min(Se.x,Te.x),y:Math.min(Se.y,Te.y)},Ce=.5,De=Math.max(Ce,Math.log(.01*k)),Ne=Math.max(Ce,Math.log(.01*T));$.ctrlpts=[Pe.x,Pe.y-(1+Math.pow(ke,1.12)/100)*Ee*(_e/3+1)*De,Pe.x-(1+Math.pow(ke,1.12)/100)*Ee*(_e/3+1)*Ne,Pe.y]}else if("segments"===p){$.edgeType="segments",$.segpts=[];for(var Me=d.pstyle("segment-weights").pfValue,Ie=d.pstyle("segment-distances").pfValue,Ae=Math.min(Me.length,Ie.length),Oe=0;Ae>Oe;Oe++){var Be=Me[Oe],Le=Ie[Oe],je=1-Be,ze=Be,Re="node-position"===we?z:j,qe={x:Re.x1*je+Re.x2*ze,y:Re.y1*je+Re.y2*ze};$.segpts.push(qe.x+N.x*Le,qe.y+N.y*Le)}}else if(A.length%2!==1||c!==Math.floor(A.length/2)||v){var Fe=v;$.edgeType=Fe?"multibezier":"bezier",$.ctrlpts=[];for(var Ve=0;Q>Ve;Ve++){var Ye,Xe=(.5-A.length/2+c)*J,$e=i.signum(Xe);Fe&&(ee=Z?Z.pfValue[Ve]:J,te=K.value[Ve]),Ye=v?ee:void 0!==ee?$e*ee:void 0;var We=void 0!==Ye?Ye:Xe,je=!ne||v?1-te:te,ze=!ne||v?te:1-te,Re="node-position"===we?z:j,qe={x:Re.x1*je+Re.x2*ze,y:Re.y1*je+Re.y2*ze};$.ctrlpts.push(qe.x+N.x*We,qe.y+N.y*We)}}else $.edgeType="straight";this.findEndpoints(d);var Ue=!a.number($.startX)||!a.number($.startY),He=!a.number($.arrowStartX)||!a.number($.arrowStartY),Ge=!a.number($.endX)||!a.number($.endY),Ze=!a.number($.arrowEndX)||!a.number($.arrowEndY),Ke=3,Qe=this.getArrowWidth(d.pstyle("width").pfValue)*this.arrowShapeWidth,Je=Ke*Qe;if("bezier"===$.edgeType){var et=i.dist({x:$.ctrlpts[0],y:$.ctrlpts[1]},{x:$.startX,y:$.startY}),tt=Je>et,nt=i.dist({x:$.ctrlpts[0],y:$.ctrlpts[1]},{x:$.endX,y:$.endY}),rt=Je>nt,it=!1;if(Ue||He||tt){it=!0;var at={x:$.ctrlpts[0]-_.x,y:$.ctrlpts[1]-_.y},ot=Math.sqrt(at.x*at.x+at.y*at.y),st={x:at.x/ot,y:at.y/ot},ut=Math.max(k,S),lt={x:$.ctrlpts[0]+2*st.x*ut,y:$.ctrlpts[1]+2*st.y*ut},ct=C.intersectLine(_.x,_.y,k,S,lt.x,lt.y,0);tt?($.ctrlpts[0]=$.ctrlpts[0]+st.x*(Je-et),$.ctrlpts[1]=$.ctrlpts[1]+st.y*(Je-et)):($.ctrlpts[0]=ct[0]+st.x*Je,$.ctrlpts[1]=ct[1]+st.y*Je)}if(Ge||Ze||rt){it=!0;var at={x:$.ctrlpts[0]-E.x,y:$.ctrlpts[1]-E.y},ot=Math.sqrt(at.x*at.x+at.y*at.y),st={x:at.x/ot,y:at.y/ot},ut=Math.max(k,S),lt={x:$.ctrlpts[0]+2*st.x*ut,y:$.ctrlpts[1]+2*st.y*ut},dt=D.intersectLine(E.x,E.y,T,P,lt.x,lt.y,0);rt?($.ctrlpts[0]=$.ctrlpts[0]+st.x*(Je-nt),$.ctrlpts[1]=$.ctrlpts[1]+st.y*(Je-nt)):($.ctrlpts[0]=dt[0]+st.x*Je,$.ctrlpts[1]=dt[1]+st.y*Je)}it&&this.findEndpoints(d)}if("multibezier"===$.edgeType||"bezier"===$.edgeType||"self"===$.edgeType||"compound"===$.edgeType){$.allpts=[],$.allpts.push($.startX,$.startY);for(var Ve=0;Ve+1<$.ctrlpts.length;Ve+=2)$.allpts.push($.ctrlpts[Ve],$.ctrlpts[Ve+1]),Ve+3<$.ctrlpts.length&&$.allpts.push(($.ctrlpts[Ve]+$.ctrlpts[Ve+2])/2,($.ctrlpts[Ve+1]+$.ctrlpts[Ve+3])/2);$.allpts.push($.endX,$.endY);var ft,ht;$.ctrlpts.length/2%2===0?(ft=$.allpts.length/2-1,$.midX=$.allpts[ft],$.midY=$.allpts[ft+1]):(ft=$.allpts.length/2-3,ht=.5,$.midX=i.qbezierAt($.allpts[ft],$.allpts[ft+2],$.allpts[ft+4],ht),$.midY=i.qbezierAt($.allpts[ft+1],$.allpts[ft+3],$.allpts[ft+5],ht))}else if("straight"===$.edgeType)$.allpts=[$.startX,$.startY,$.endX,$.endY],$.midX=($.startX+$.endX+$.arrowStartX+$.arrowEndX)/4,$.midY=($.startY+$.endY+$.arrowStartY+$.arrowEndY)/4;else if("segments"===$.edgeType)if($.allpts=[],$.allpts.push($.startX,$.startY),$.allpts.push.apply($.allpts,$.segpts),$.allpts.push($.endX,$.endY),$.segpts.length%4===0){var pt=$.segpts.length/2,vt=pt-2;$.midX=($.segpts[vt]+$.segpts[pt])/2,$.midY=($.segpts[vt+1]+$.segpts[pt+1])/2}else{var vt=$.segpts.length/2-1;$.midX=$.segpts[vt],$.midY=$.segpts[vt+1]}this.projectLines(d),this.calculateArrowAngles(d),this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}}}for(var c=0;c<l.length;c++){var d=l[c],f=d._private,gt=f.rscratch,$=gt;if(!gt.haystack){var yt=2*Math.random()*Math.PI;gt.source={x:Math.cos(yt),y:Math.sin(yt)};var yt=2*Math.random()*Math.PI;gt.target={x:Math.cos(yt),y:Math.sin(yt)}}var m=f.source,b=f.target,_=m._private.position,E=b._private.position,k=m.width(),T=b.width(),S=m.height(),P=b.height(),ut=d.pstyle("haystack-radius").value,mt=ut/2;$.haystackPts=$.allpts=[$.source.x*k*mt+_.x,$.source.y*S*mt+_.y,$.target.x*T*mt+E.x,$.target.y*P*mt+E.y],$.midX=($.allpts[0]+$.allpts[2])/2,$.midY=($.allpts[1]+$.allpts[3])/2,gt.edgeType="haystack",gt.haystack=!0,this.projectLines(d),this.calculateArrowAngles(d),this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}return s}};var l=function(e,t){return Math.atan2(t,e)-Math.PI/2};u.calculateArrowAngles=function(e){var t,n,r,a,o,s,u=e._private.rscratch,c="haystack"===u.edgeType,d="multibezier"===u.edgeType,f="segments"===u.edgeType,h="compound"===u.edgeType,p="self"===u.edgeType,v=e._private.source._private.position,g=e._private.target._private.position;c?(r=u.haystackPts[0],a=u.haystackPts[1],o=u.haystackPts[2],s=u.haystackPts[3]):(r=u.arrowStartX,a=u.arrowStartY,o=u.arrowEndX,s=u.arrowEndY),t=v.x-r,n=v.y-a,u.srcArrowAngle=l(t,n);var y=u.midX,m=u.midY;if(c&&(y=(r+o)/2,m=(a+s)/2),t=o-r,n=s-a,p)t=-1,n=1;else if(f){var b=u.allpts;if(b.length/2%2===0){var x=b.length/2,w=x-2;t=b[x]-b[w],n=b[x+1]-b[w+1]}else{var x=b.length/2-1,w=x-2,_=x+2;t=b[x]-b[w],n=b[x+1]-b[w+1]}}else if(d||h){var E,k,S,T,b=u.allpts,P=u.ctrlpts;if(P.length/2%2===0){var C=b.length/2-1,D=C+2,N=D+2;E=i.qbezierAt(b[C],b[D],b[N],0),k=i.qbezierAt(b[C+1],b[D+1],b[N+1],0),S=i.qbezierAt(b[C],b[D],b[N],1e-4),T=i.qbezierAt(b[C+1],b[D+1],b[N+1],1e-4)}else{var D=b.length/2-1,C=D-2,N=D+2;E=i.qbezierAt(b[C],b[D],b[N],.4999),k=i.qbezierAt(b[C+1],b[D+1],b[N+1],.4999),S=i.qbezierAt(b[C],b[D],b[N],.5),T=i.qbezierAt(b[C+1],b[D+1],b[N+1],.5)}t=S-E,n=T-k}if(u.midtgtArrowAngle=l(t,n),u.midDispX=t,u.midDispY=n,t*=-1,n*=-1,f){var b=u.allpts;if(b.length/2%2===0);else{var x=b.length/2-1,_=x+2;t=-(b[_]-b[x]),n=-(b[_+1]-b[x+1])}}u.midsrcArrowAngle=l(t,n),t=g.x-o,n=g.y-s,u.tgtArrowAngle=l(t,n)},u.calculateLabelAngles=function(e){var t=e._private,n=t.rscratch,r=e.isEdge(),i=e.pstyle("text-rotation"),a=i.strValue;"none"===a?n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=0:r&&"autorotate"===a?(n.labelAngle=Math.atan(n.midDispY/n.midDispX),n.sourceLabelAngle=n.sourceLabelAutoAngle,n.targetLabelAngle=n.targetLabelAutoAngle):"autorotate"===a?n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=0:n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=i.pfValue},u.findEndpoints=function(e){var t,n,r,o=this,s=e.source()[0],u=e.target()[0],l=s._private,c=u._private,d=l.position,f=c.position,h=e.pstyle("target-arrow-shape").value,p=e.pstyle("source-arrow-shape").value,v=e._private.rscratch,g=v.edgeType,y="bezier"===g||"multibezier"===g||"self"===g||"compound"===g,m="bezier"!==g,b="straight"===g||"segments"===g,x="segments"===g;if(y){var w=[v.ctrlpts[0],v.ctrlpts[1]],_=m?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:w;n=_,r=w}else if(b){var E=x?v.segpts.slice(0,2):[f.x,f.y],k=x?v.segpts.slice(v.segpts.length-2):[d.x,d.y];n=k,r=E}t=o.nodeShapes[this.getNodeShape(u)].intersectLine(f.x,f.y,u.outerWidth(),u.outerHeight(),n[0],n[1],0);var S=i.shortenIntersection(t,n,o.arrowShapes[h].spacing(e)),T=i.shortenIntersection(t,n,o.arrowShapes[h].gap(e));v.endX=T[0],v.endY=T[1],v.arrowEndX=S[0],v.arrowEndY=S[1],t=o.nodeShapes[this.getNodeShape(s)].intersectLine(d.x,d.y,s.outerWidth(),s.outerHeight(),r[0],r[1],0);var P=i.shortenIntersection(t,r,o.arrowShapes[p].spacing(e)),C=i.shortenIntersection(t,r,o.arrowShapes[p].gap(e));v.startX=C[0],v.startY=C[1],v.arrowStartX=P[0],v.arrowStartY=P[1],b&&(a.number(v.startX)&&a.number(v.startY)&&a.number(v.endX)&&a.number(v.endY)?v.badLine=!1:v.badLine=!0)},u.getArrowWidth=u.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[e];return n?n:(n=Math.max(Math.pow(13.37*e,.9),29),t[e]=n,n)},t.exports=u},{"../../../collection/zsort":38,"../../../is":89,"../../../math":91,"../../../util":106}],65:[function(e,t,n){"use strict";var r={};r.getCachedImage=function(e,t){var n=this,r=n.imageCache=n.imageCache||{};if(r[e]&&r[e].image)return r[e].image;var i=r[e]=r[e]||{},a=i.image=new Image;return a.addEventListener("load",t),a.crossOrigin="Anonymous",a.src=e,a},t.exports=r},{}],66:[function(e,t,n){"use strict";var r=e("../../../is"),i=e("../../../util"),a=function(e){this.init(e)},o=a,s=o.prototype;s.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],s.init=function(e){var t=this;t.options=e,t.cy=e.cy,t.container=e.cy.container(),t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners(),t.load()},s.notify=function(e){var t,n=this;t=r.array(e.type)?e.type:[e.type];for(var i={},a=0;a<t.length;a++){var o=t[a];i[o]=!0}return i.destroy?void n.destroy():((i.add||i.remove||i.load||i.style)&&n.updateCachedZSortedEles(),i.viewport&&n.redrawHint("select",!0),(i.load||i.resize)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),void this.redraw())},s.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(a){}},[e("./arrow-shapes"),e("./coord-ele-math"),e("./images"),e("./load-listeners"),e("./node-shapes"),e("./redraw")].forEach(function(e){i.extend(s,e)}),t.exports=o},{"../../../is":89,"../../../util":106,"./arrow-shapes":63,"./coord-ele-math":64,"./images":65,"./load-listeners":67,"./node-shapes":68,"./redraw":69}],67:[function(e,t,n){"use strict";var r=e("../../../is"),i=e("../../../util"),a=e("../../../math"),o=e("../../../event"),s={};s.registerBinding=function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},s.binder=function(e){var t=this,n=function(){var n=arguments;return t.bindings.push({target:e,args:n}),(e.on||e.addEventListener).apply(e,n),this};return{on:n,addEventListener:n,addListener:n,bind:n}},s.nodeIsDraggable=function(e){return!(!e||!e.isNode()||0===e.pstyle("opacity").value||"visible"!=e.pstyle("visibility").value||"element"!=e.pstyle("display").value||e.locked()||!e.grabbable())},s.load=function(){var e=this,t=function(t,n,r,a){null==t&&(t=e.cy);for(var s=0;s<n.length;s++){var u=n[s],l=new o(r,i.extend({type:u},a));t.trigger(l)}},n=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},s=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;n&&i<n.length;i++){var t=n[i];if(t.isNode()&&t.isParent()){r=!1;break}}else r=!0;return r},u=function(t){var n;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var r=0;r<t.addToList.length;r++){var i=t.addToList[r];t.addToList.hasId[i.id()]=!0}}n=t.addToList.hasId}return n||{}},l=function(e){e[0]._private.grabbed=!0},c=function(e){e[0]._private.grabbed=!1},d=function(e){e[0]._private.rscratch.inDragLayer=!0},f=function(e){e[0]._private.rscratch.inDragLayer=!1},h=function(e){e[0]._private.rscratch.isGrabTarget=!0},p=function(e){e[0]._private.rscratch.isGrabTarget=!1},v=function(e,t){var n=u(t);n[e.id()]||(t.addToList.push(e),n[e.id()]=!0,l(e))},g=function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(d),
n.connectedEdges().forEach(d)),t.addToList&&n.forEach(function(e){v(e,t)})}},y=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(d),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(d)),n.addToList&&t.forEach(function(e){v(e,n)}),g(t,n),x(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},m=y,b=function(t){t&&(t.hasId={},e.getCachedZSortedEles().forEach(function(e){c(e),f(e),p(e)}),e.updateCachedGrabbedEles())},x=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(d),r.forEach(d)),t.addToList&&r.forEach(function(e){v(e,t)})}}},w="undefined"!=typeof MutationObserver;w?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n],i=r.removedNodes;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var _=i.debounce(function(){e.cy.invalidateSize(),e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);w&&(e.styleObserver=new MutationObserver(_),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",_);for(var E=function(t){e.registerBinding(t,"scroll",function(t){e.invalidateContainerClientCoordsCache()})},k=e.cy.container();E(k),k.parentNode;)k=k.parentNode;e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var S=function(){return 0!==e.selection[4]};e.registerBinding(e.container,"mousedown",function(n){n.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=n.which;var r=e.cy,i=[n.clientX,n.clientY],a=e.projectIntoViewport(i[0],i[1]),s=e.selection,u=e.findNearestElements(a[0],a[1],!0,!1),l=u[0],c=e.dragData.possibleDragElements;e.hoverData.mdownPos=a,e.hoverData.mdownGPos=i;var d=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.trigger(new o(n,{type:"taphold",cyPosition:{x:a[0],y:a[1]}})):r.trigger(new o(n,{type:"taphold",cyPosition:{x:a[0],y:a[1]}}))}},e.tapholdDuration)};if(3==n.which){e.hoverData.cxtStarted=!0;var f=new o(n,{type:"cxttapstart",cyPosition:{x:a[0],y:a[1]}});l?(l.activate(),l.trigger(f),e.hoverData.down=l):r.trigger(f),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==n.which){if(l&&l.activate(),null!=l&&e.nodeIsDraggable(l)){var p=new o(n,{type:"grab",cyPosition:{x:a[0],y:a[1]}});if(h(l),l.selected()){if(l.selected()){c=e.dragData.possibleDragElements=[];var v=r.$(function(){return this.isNode()&&this.selected()&&e.nodeIsDraggable(this)});y(v,{addToList:c}),l.trigger(p)}}else c=e.dragData.possibleDragElements=[],m(l,{addToList:c}),l.trigger(p);e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=l,e.hoverData.downs=u,e.hoverData.downTime=(new Date).getTime(),t(l,["mousedown","tapstart","vmousedown"],n,{cyPosition:{x:a[0],y:a[1]}}),null==l?(s[4]=1,e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()):l.isEdge()&&(s[4]=1),d()}s[0]=s[2]=a[0],s[1]=s[3]=a[1]},!1),e.registerBinding(window,"mousemove",function(i){var u=!1,l=e.hoverData.capture;if(!l){var c=e.findContainerClientCoords();if(!(i.clientX>c[0]&&i.clientX<c[0]+e.canvasWidth&&i.clientY>c[1]&&i.clientY<c[1]+e.canvasHeight))return;for(var d=e.container,f=i.target,h=f.parentNode,p=!1;h;){if(h===d){p=!0;break}h=h.parentNode}if(!p)return}var v=e.cy,g=v.zoom(),m=[i.clientX,i.clientY],b=e.projectIntoViewport(m[0],m[1]),x=e.hoverData.mdownPos,w=e.hoverData.mdownGPos,_=e.selection,E=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(E=e.findNearestElement(b[0],b[1],!0,!1));var k,S=e.hoverData.last,T=e.hoverData.down,P=[b[0]-_[2],b[1]-_[3]],C=e.dragData.possibleDragElements;if(w){var D=m[0]-w[0],N=D*D,M=m[1]-w[1],I=M*M,A=N+I;k=A>=e.desktopTapThreshold2}var O=n(i);k&&(e.hoverData.tapholdCancelled=!0);var B=function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(P[0]),t.push(P[1])):(t[0]+=P[0],t[1]+=P[1])};if(u=!0,t(E,["mousemove","vmousemove","tapdrag"],i,{cyPosition:{x:b[0],y:b[1]}}),3===e.hoverData.which){if(k){var L=new o(i,{type:"cxtdrag",cyPosition:{x:b[0],y:b[1]}});T?T.trigger(L):v.trigger(L),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&E===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.trigger(new o(i,{type:"cxtdragout",cyPosition:{x:b[0],y:b[1]}})),e.hoverData.cxtOver=E,E&&E.trigger(new o(i,{type:"cxtdragover",cyPosition:{x:b[0],y:b[1]}})))}}else if(e.hoverData.dragging){if(u=!0,v.panningEnabled()&&v.userPanningEnabled()){var j;if(e.hoverData.justStartedPan){var z=e.hoverData.mdownPos;j={x:(b[0]-z[0])*g,y:(b[1]-z[1])*g},e.hoverData.justStartedPan=!1}else j={x:P[0]*g,y:P[1]*g};v.panBy(j),e.hoverData.dragged=!0}b=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=_[4]||null!=T&&!T.isEdge()){if(T&&T.isEdge()&&T.active()&&T.unactivate(),E!=S&&(S&&t(S,["mouseout","tapdragout"],i,{cyPosition:{x:b[0],y:b[1]}}),E&&t(E,["mouseover","tapdragover"],i,{cyPosition:{x:b[0],y:b[1]}}),e.hoverData.last=E),T&&e.nodeIsDraggable(T))if(k){var R=!e.dragData.didDrag;R&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var q=[];e.hoverData.draggingEles||y(v.collection(C),{inDragLayer:!0});for(var F=0;F<C.length;F++){var V=C[F];if(e.nodeIsDraggable(V)&&V.grabbed()){var Y=V._private.position;if(q.push(V),r.number(P[0])&&r.number(P[1])){var X=!V.isParent();if(X&&(Y.x+=P[0],Y.y+=P[1]),R){var $=e.hoverData.dragDelta;X&&$&&r.number($[0])&&r.number($[1])&&(Y.x+=$[0],Y.y+=$[1])}}}}e.hoverData.draggingEles=!0;var W=v.collection(q);W.updateCompoundBounds(),W.trigger("position drag"),e.redrawHint("drag",!0),e.redraw()}else B();u=!0}else if(k){if(e.hoverData.dragging||!v.boxSelectionEnabled()||!O&&v.panningEnabled()&&v.userPanningEnabled()){if(!e.hoverData.selecting&&v.panningEnabled()&&v.userPanningEnabled()){var U=s(T,e.hoverData.downs);U&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,_[4]=0,e.data.bgActivePosistion=a.array2point(x),e.redrawHint("select",!0),e.redraw())}}else e.data.bgActivePosistion=void 0,e.hoverData.selecting||v.trigger("boxstart"),e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw();T&&T.isEdge()&&T.active()&&T.unactivate()}return _[2]=b[0],_[3]=b[1],u?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0},!1),e.registerBinding(window,"mouseup",function(r){var i=e.hoverData.capture;if(i){e.hoverData.capture=!1;var a=e.cy,s=e.projectIntoViewport(r.clientX,r.clientY),u=e.selection,l=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,d=e.hoverData.down,f=n(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,d&&d.unactivate(),3===e.hoverData.which){var h=new o(r,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});if(d?d.trigger(h):a.trigger(h),!e.hoverData.cxtDragged){var p=new o(r,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});d?d.trigger(p):a.trigger(p)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(null!=d||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||n(r)||(a.$(function(){return this.selected()}).unselect(),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=[]),t(l,["mouseup","tapend","vmouseup"],r,{cyPosition:{x:s[0],y:s[1]}}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||t(d,["click","tap","vclick"],r,{cyPosition:{x:s[0],y:s[1]}}),l!=d||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===a.selectionType()||f?l.selected()?l.unselect():l.select():f||(a.$(":selected").unmerge(l).unselect(),l.select())),e.redrawHint("eles",!0)),e.hoverData.selecting){var v=a.collection(e.getAllInBox(u[0],u[1],u[2],u[3]));e.redrawHint("select",!0),v.length>0&&e.redrawHint("eles",!0),a.trigger("boxend");var g=function(e){return e.selectable()&&!e.selected()};"additive"===a.selectionType()?v.trigger("box").stdFilter(g).select().trigger("boxselect"):(f||a.$(":selected").unmerge(v).unselect(),v.trigger("box").stdFilter(g).select().trigger("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!u[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var y=d&&d.grabbed();b(c),y&&d.trigger("free")}}u[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var T=function(t){if(!e.scrollingPage){var n=e.cy,r=e.projectIntoViewport(t.clientX,t.clientY),i=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||S())return void t.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var a=t.deltaY/-250||t.wheelDeltaY/1e3||t.wheelDelta/1e3;a*=e.wheelSensitivity;var o=1===t.deltaMode;o&&(a*=33),n.zoom({level:n.zoom()*Math.pow(10,a),renderedPosition:{x:i[0],y:i[1]}})}}};e.registerBinding(e.container,"wheel",T,!0),e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(new o(t,{type:"mouseout",cyPosition:{x:n[0],y:n[1]}}))},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(new o(t,{type:"mouseover",cyPosition:{x:n[0],y:n[1]}}))},!1);var P,C,D,N,M,I,A,O,B,L,j,z,R,q,F=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},V=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};e.registerBinding(e.container,"touchstart",q=function(n){e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(n.touches[0]){var s=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(n.touches[1]){var s=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(n.touches[2]){var s=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);i[4]=s[0],i[5]=s[1]}if(n.touches[1]){b(e.dragData.touchDragEles);var u=e.findContainerClientCoords();B=u[0],L=u[1],j=u[2],z=u[3],P=n.touches[0].clientX-B,C=n.touches[0].clientY-L,D=n.touches[1].clientX-B,N=n.touches[1].clientY-L,R=P>=0&&j>=P&&D>=0&&j>=D&&C>=0&&z>=C&&N>=0&&z>=N;var l=r.pan(),c=r.zoom();M=F(P,C,D,N),I=V(P,C,D,N),A=[(P+D)/2,(C+N)/2],O=[(A[0]-l.x)/c,(A[1]-l.y)/c];var d=200,f=d*d;if(f>I&&!n.touches[2]){var p=e.findNearestElement(i[0],i[1],!0,!0),v=e.findNearestElement(i[2],i[3],!0,!0);return p&&p.isNode()?(p.activate().trigger(new o(n,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),e.touchData.start=p):v&&v.isNode()?(v.activate().trigger(new o(n,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),e.touchData.start=v):(r.trigger(new o(n,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}})),e.touchData.start=null),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var g=e.findNearestElements(i[0],i[1],!0,!0),x=g[0];if(null!=x&&(x.activate(),e.touchData.start=x,e.touchData.starts=g,e.nodeIsDraggable(x))){var w=e.dragData.touchDragEles=[];if(e.redrawHint("eles",!0),e.redrawHint("drag",!0),x.selected()){var _=r.$(function(){return this.selected()&&e.nodeIsDraggable(this)});y(_,{addToList:w})}else m(x,{addToList:w});h(x),x.trigger(new o(n,{type:"grab",cyPosition:{x:i[0],y:i[1]}}))}t(x,["touchstart","tapstart","vmousedown"],n,{cyPosition:{x:i[0],y:i[1]}}),null==x&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.startPosition=[];for(var E=0;E<i.length;E++)a[E]=i[E],e.touchData.startPosition[E]=i[E];e.touchData.startGPosition=[n.touches[0].clientX,n.touches[0].clientY],e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved!==!1||e.pinching||e.touchData.selecting||(t(e.touchData.start,["taphold"],n,{cyPosition:{x:i[0],y:i[1]}}),e.touchData.start||r.$(":selected").unselect())},e.tapholdDuration)}},!1);var Y;e.registerBinding(window,"touchmove",Y=function(n){var i=e.selection,u=e.touchData.capture,l=e.cy,c=e.touchData.now,d=e.touchData.earlier,f=l.zoom();if(n.touches[0]){var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=h[0],c[1]=h[1]}if(n.touches[1]){var h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=h[0],c[3]=h[1]}if(n.touches[2]){var h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=h[0],c[5]=h[1]}var p;if(u&&n.touches[0]){for(var v=[],g=0;g<c.length;g++)v[g]=c[g]-d[g];var m=e.touchData.startGPosition,x=n.touches[0].clientX-m[0],w=x*x,_=n.touches[0].clientY-m[1],E=_*_,k=w+E;p=k>=e.touchTapThreshold2}if(u&&e.touchData.cxt){n.preventDefault();var S=n.touches[0].clientX-B,T=n.touches[0].clientY-L,A=n.touches[1].clientX-B,j=n.touches[1].clientY-L,z=V(S,T,A,j),q=z/I,Y=150,X=Y*Y,$=1.5,W=$*$;if(q>=W||z>=X){e.touchData.cxt=!1,e.touchData.start&&(e.touchData.start.unactivate(),e.touchData.start=null),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var U=new o(n,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}});e.touchData.start?e.touchData.start.trigger(U):l.trigger(U)}}if(u&&e.touchData.cxt){var U=new o(n,{type:"cxtdrag",cyPosition:{x:c[0],y:c[1]}});e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.trigger(U):l.trigger(U),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var H=e.findNearestElement(c[0],c[1],!0,!0);e.touchData.cxtOver&&H===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.trigger(new o(n,{type:"cxtdragout",cyPosition:{x:c[0],y:c[1]}})),e.touchData.cxtOver=H,H&&H.trigger(new o(n,{type:"cxtdragover",cyPosition:{x:c[0],y:c[1]}})))}else if(u&&n.touches[2]&&l.boxSelectionEnabled())n.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||l.trigger("boxstart"),e.touchData.selecting=!0,e.redrawHint("select",!0),i&&0!==i.length&&void 0!==i[0]?(i[2]=(c[0]+c[2]+c[4])/3,i[3]=(c[1]+c[3]+c[5])/3):(i[0]=(c[0]+c[2]+c[4])/3,i[1]=(c[1]+c[3]+c[5])/3,i[2]=(c[0]+c[2]+c[4])/3+1,i[3]=(c[1]+c[3]+c[5])/3+1),i[4]=1,e.touchData.selecting=!0,e.redraw();else if(u&&n.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){n.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var G=e.dragData.touchDragEles;if(G){e.redrawHint("drag",!0);for(var Z=0;Z<G.length;Z++)G[Z]._private.grabbed=!1,G[Z]._private.rscratch.inDragLayer=!1}var S=n.touches[0].clientX-B,T=n.touches[0].clientY-L,A=n.touches[1].clientX-B,j=n.touches[1].clientY-L,K=F(S,T,A,j),Q=K/M;if(1!=Q&&R){var J=S-P,ee=T-C,te=A-D,ne=j-N,re=(J+te)/2,ie=(ee+ne)/2,ae=l.zoom(),oe=ae*Q,se=l.pan(),ue=O[0]*ae+se.x,le=O[1]*ae+se.y,ce={x:-oe/ae*(ue-se.x-re)+ue,y:-oe/ae*(le-se.y-ie)+le};if(e.touchData.start){var G=e.dragData.touchDragEles;b(G),e.redrawHint("drag",!0),e.redrawHint("eles",!0),e.touchData.start.trigger("free").unactivate()}l.viewport({zoom:oe,pan:ce,cancelOnFailedZoom:!0}),M=K,P=S,C=T,D=A,N=j,e.pinching=!0}if(n.touches[0]){var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=h[0],c[1]=h[1]}if(n.touches[1]){var h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=h[0],c[3]=h[1]}if(n.touches[2]){var h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=h[0],c[5]=h[1]}}else if(u&&n.touches[0]){var H,de=e.touchData.start,fe=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(H=e.findNearestElement(c[0],c[1],!0,!0)),null!=de&&n.preventDefault(),null!=de&&e.nodeIsDraggable(de))if(p){var G=e.dragData.touchDragEles,he=!e.dragData.didDrag;he&&y(l.collection(G),{inDragLayer:!0});for(var pe=0;pe<G.length;pe++){var ve=G[pe];if(e.nodeIsDraggable(ve)&&ve.grabbed()){e.dragData.didDrag=!0;var ge=ve._private.position,ye=!ve.isParent();if(ye&&r.number(v[0])&&r.number(v[1])&&(ge.x+=v[0],ge.y+=v[1]),he){e.redrawHint("eles",!0);var me=e.touchData.dragDelta;ye&&r.number(me[0])&&r.number(me[1])&&(ge.x+=me[0],ge.y+=me[1])}}}var be=l.collection(G);be.updateCompoundBounds(),be.trigger("position drag"),e.hoverData.draggingEles=!0,e.redrawHint("drag",!0),e.touchData.startPosition[0]==d[0]&&e.touchData.startPosition[1]==d[1]&&e.redrawHint("eles",!0),e.redraw()}else{var me=e.touchData.dragDelta=e.touchData.dragDelta||[];0===me.length?(me.push(v[0]),me.push(v[1])):(me[0]+=v[0],me[1]+=v[1])}t(de||H,["touchmove","tapdrag","vmousemove"],n,{cyPosition:{x:c[0],y:c[1]}}),H!=fe&&(fe&&fe.trigger(new o(n,{type:"tapdragout",cyPosition:{x:c[0],y:c[1]}})),H&&H.trigger(new o(n,{type:"tapdragover",cyPosition:{x:c[0],y:c[1]}}))),e.touchData.last=H;for(var Z=0;Z<c.length;Z++)c[Z]&&e.touchData.startPosition[Z]&&p&&(e.touchData.singleTouchMoved=!0);if(u&&(null==de||de.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()){var xe=s(de,e.touchData.starts);xe&&(n.preventDefault(),e.swipePanning?l.panBy({x:v[0]*f,y:v[1]*f}):p&&(e.swipePanning=!0,l.panBy({x:x*f,y:_*f}),de&&(de.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=a.array2point(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=h[0],c[1]=h[1]}}for(var g=0;g<c.length;g++)d[g]=c[g]},!1);var X;e.registerBinding(window,"touchcancel",X=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()});var $;if(e.registerBinding(window,"touchend",$=function(n){var r=e.touchData.start,i=e.touchData.capture;if(i){e.touchData.capture=!1,n.preventDefault();var a=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var s=e.cy,u=s.zoom(),l=e.touchData.now,c=e.touchData.earlier;if(n.touches[0]){var d=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=d[0],l[1]=d[1]}if(n.touches[1]){var d=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=d[0],l[3]=d[1]}if(n.touches[2]){var d=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=d[0],l[5]=d[1]}r&&r.unactivate();var f;if(e.touchData.cxt){if(f=new o(n,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}}),r?r.trigger(f):s.trigger(f),!e.touchData.cxtDragged){var h=new o(n,{type:"cxttap",cyPosition:{x:l[0],y:l[1]}});r?r.trigger(h):s.trigger(h)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!n.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var p=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));a[0]=void 0,a[1]=void 0,a[2]=void 0,a[3]=void 0,a[4]=0,e.redrawHint("select",!0),s.trigger("boxend");var v=function(e){return e.selectable()&&!e.selected()};p.trigger("box").stdFilter(v).select().trigger("boxselect"),p.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),n.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=r){var y=r._private.grabbed;b(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),y&&r.trigger("free"),t(r,["touchend","tapend","vmouseup"],n,{cyPosition:{x:l[0],y:l[1]}}),r.unactivate(),e.touchData.start=null}else{var m=e.findNearestElement(l[0],l[1],!0,!0);t(m,["touchend","tapend","vmouseup"],n,{cyPosition:{x:l[0],y:l[1]}})}var x=e.touchData.startPosition[0]-l[0],w=x*x,_=e.touchData.startPosition[1]-l[1],E=_*_,k=w+E,S=k*u*u;null!=r&&!e.dragData.didDrag&&r._private.selectable&&S<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved||t(r,["tap","vclick"],n,{cyPosition:{x:l[0],y:l[1]}}),e.touchData.singleTouchMoved=!0}for(var T=0;T<l.length;T++)c[T]=l[T];e.dragData.didDrag=!1,0===n.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),n.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var W=[],U=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},H=function(e){return{event:e,touch:U(e)}},G=function(e){W.push(H(e))},Z=function(e){for(var t=0;t<W.length;t++){var n=W[t];if(n.event.pointerId===e.pointerId)return void W.splice(t,1)}},K=function(e){var t=W.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=U(e)},Q=function(e){e.touches=W.map(function(e){return e.touch})};e.registerBinding(e.container,"pointerdown",function(e){"mouse"!==e.pointerType&&(e.preventDefault(),G(e),Q(e),q(e))}),e.registerBinding(e.container,"pointerup",function(e){"mouse"!==e.pointerType&&(Z(e),Q(e),$(e))}),e.registerBinding(e.container,"pointercancel",function(e){"mouse"!==e.pointerType&&(Z(e),Q(e),X(e))}),e.registerBinding(e.container,"pointermove",function(e){"mouse"!==e.pointerType&&(e.preventDefault(),K(e),Q(e),Y(e))})}},t.exports=s},{"../../../event":51,"../../../is":89,"../../../math":91,"../../../util":106}],68:[function(e,t,n){"use strict";var r=e("../../../math"),i={};i.registerNodeShapes=function(){function e(e,i){return t[e]={name:e,points:i,draw:function(e,t,r,i,a){n.nodeShapeImpl("polygon")(e,t,r,i,a,this.points)},intersectLine:function(e,t,n,i,a,o,s){return r.polygonIntersectLine(a,o,this.points,e,t,n/2,i/2,s)},checkPoint:function(n,i,a,o,s,u,l){return r.pointInsidePolygon(n,i,t[e].points,u,l,o,s,[0,-1],a)}}}var t=this.nodeShapes={},n=this;t.ellipse={name:"ellipse",draw:function(e,t,r,i,a){n.nodeShapeImpl(this.name)(e,t,r,i,a)},intersectLine:function(e,t,n,i,a,o,s){return r.intersectLineEllipse(a,o,e,t,n/2+s,i/2+s)},checkPoint:function(e,t,n,r,i,a,o){return e-=a,t-=o,e/=r/2+n,t/=i/2+n,1>=e*e+t*t}},e("triangle",r.generateUnitNgonPointsFitToSquare(3,0)),e("square",r.generateUnitNgonPointsFitToSquare(4,0)),t.rectangle=t.square,t.roundrectangle={name:"roundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,i,a){n.nodeShapeImpl(this.name)(e,t,r,i,a)},intersectLine:function(e,t,n,i,a,o,s){return r.roundRectangleIntersectLine(a,o,e,t,n,i,s)},checkPoint:function(e,t,n,i,a,o,s){var u=r.getRoundRectangleRadius(i,a);if(r.pointInsidePolygon(e,t,this.points,o,s,i,a-2*u,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,o,s,i-2*u,a,[0,-1],n))return!0;var l=function(e,t,n,r,i,a,o){return e-=n,t-=r,e/=i/2+o,t/=a/2+o,1>=e*e+t*t};return l(e,t,o-i/2+u,s-a/2+u,2*u,2*u,n)?!0:l(e,t,o+i/2-u,s-a/2+u,2*u,2*u,n)?!0:l(e,t,o+i/2-u,s+a/2-u,2*u,2*u,n)?!0:!!l(e,t,o-i/2+u,s+a/2-u,2*u,2*u,n)}},e("diamond",[0,1,1,0,0,-1,-1,0]),e("pentagon",r.generateUnitNgonPointsFitToSquare(5,0)),e("hexagon",r.generateUnitNgonPointsFitToSquare(6,0)),e("heptagon",r.generateUnitNgonPointsFitToSquare(7,0)),e("octagon",r.generateUnitNgonPointsFitToSquare(8,0));var i=new Array(20),a=r.generateUnitNgonPoints(5,0),o=r.generateUnitNgonPoints(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var u=0;u<o.length/2;u++)o[2*u]*=s,o[2*u+1]*=s;for(var u=0;5>u;u++)i[4*u]=a[2*u],i[4*u+1]=a[2*u+1],i[4*u+2]=o[2*u],i[4*u+3]=o[2*u+1];i=r.fitPolygonToSquare(i),e("star",i),e("vee",[-1,-1,0,-.333,1,-1,0,1]),e("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),t.makePolygon=function(n){var r,i=n.join("$"),a="polygon-"+i;return(r=t[a])?r:e(a,n)}},t.exports=i},{"../../../math":91}],69:[function(e,t,n){"use strict";var r=e("../../../util"),i={};i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},i.redraw=function(e){e=e||r.staticEmptyObject();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},i.beforeRender=function(e,t){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})},i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var t=function(t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)},n=function(i){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){t(!0,i);var a=r.performanceNow();e.render(e.renderOptions);var o=e.lastDrawTime=r.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-a),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=o-a;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else t(!1,i);e.skipFrame=!1,r.requestAnimationFrame(n)}};r.requestAnimationFrame(n)}},t.exports=i},{"../../../util":106}],70:[function(e,t,n){"use strict";var r,i={};i.arrowShapeImpl=function(e){return(r||(r={polygon:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}},"triangle-backcurve":function(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];0===i&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(e,t,n){for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}var o=n,s=n[0];e.moveTo(s.x,s.y);for(var i=0;i<o.length;i++){var a=o[i];e.lineTo(a.x,a.y)}},circle:function(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}}))[e]},t.exports=i},{}],71:[function(e,t,n){"use strict";var r={};r.drawEdge=function(e,t,n,r,i){var a=t._private.rscratch,o=this.usePaths();if(!(a.badBezier||a.badLine||isNaN(a.allpts[0])||t.pstyle("width").pfValue<=0)){var s;n&&(s=n,e.translate(-s.x1,-s.y1));var u=t.pstyle("overlay-padding").pfValue,l=t.pstyle("overlay-opacity").value,c=t.pstyle("overlay-color").value;if(i){if(0===l)return;this.strokeStyle(e,c[0],c[1],c[2],l),e.lineCap="round","self"!=a.edgeType||o||(e.lineCap="butt")}else{var d=t.pstyle("line-color").value;this.strokeStyle(e,d[0],d[1],d[2],t.pstyle("opacity").value),e.lineCap="butt"}var f=t.pstyle("width").pfValue+(i?2*u:0),h=i?"solid":t.pstyle("line-style").value;e.lineWidth=f;var p=t.pstyle("shadow-blur").pfValue,v=t.pstyle("shadow-opacity").value,g=t.pstyle("shadow-color").value,y=t.pstyle("shadow-offset-x").pfValue,m=t.pstyle("shadow-offset-y").pfValue;this.shadowStyle(e,g,i?0:v,p,y,m),this.drawEdgePath(t,e,a.allpts,h,f),this.drawArrowheads(e,t,i),this.shadowStyle(e,"transparent",0),i||this.drawEdge(e,t,!1,r,!0),this.drawElementText(e,t,r),n&&e.translate(s.x1,s.y1)}},r.drawEdgePath=function(e,t,n,r,i){var a,o=e._private.rscratch,s=t,u=!1,l=this.usePaths();if(l){var c=n.join("$"),d=o.pathCacheKey&&o.pathCacheKey===c;d?(a=t=o.pathCache,u=!0):(a=t=new Path2D,o.pathCacheKey=c,o.pathCache=a)}if(s.setLineDash)switch(r){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([6,3]);break;case"solid":s.setLineDash([])}if(!u)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":if(!o.badBezier)for(var f=2;f+3<n.length;f+=4)t.quadraticCurveTo(n[f],n[f+1],n[f+2],n[f+3]);break;case"straight":case"segments":case"haystack":if(!o.badLine)for(var f=2;f+1<n.length;f+=2)t.lineTo(n[f],n[f+1])}t=s,l?t.stroke(a):t.stroke(),t.setLineDash&&t.setLineDash([])},r.drawArrowheads=function(e,t,n){if(!n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle)}},r.drawArrowhead=function(e,t,n,r,i,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(a)||null==a)){var o=this,s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var u=e.globalCompositeOperation,l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("opacity").value;"half-triangle-overshot"===s&&(c="hollow",l="hollow"),1===d&&"hollow"!==c||(e.globalCompositeOperation="destination-out",o.fillStyle(e,255,255,255,1),o.strokeStyle(e,255,255,255,1),o.drawArrowShape(t,n,e,l,t.pstyle("width").pfValue,t.pstyle(n+"-arrow-shape").value,r,i,a),e.globalCompositeOperation=u);var f=t.pstyle(n+"-arrow-color").value;o.fillStyle(e,f[0],f[1],f[2],d),o.strokeStyle(e,f[0],f[1],f[2],d),o.drawArrowShape(t,n,e,c,t.pstyle("width").pfValue,t.pstyle(n+"-arrow-shape").value,r,i,a)}}},r.drawArrowShape=function(e,t,n,r,i,a,o,s,u){var l,c=this,d=this.usePaths(),f=e._private.rscratch,h=!1,p=n,v={x:o,y:s},g=this.getArrowWidth(i),y=c.arrowShapes[a];if(d){var m=g+"$"+a+"$"+u+"$"+o+"$"+s;f.arrowPathCacheKey=f.arrowPathCacheKey||{},f.arrowPathCache=f.arrowPathCache||{};var b=f.arrowPathCacheKey[t]===m;b?(l=n=f.arrowPathCache[t],h=!0):(l=n=new Path2D,f.arrowPathCacheKey[t]=m,f.arrowPathCache[t]=l)}n.beginPath&&n.beginPath(),h||y.draw(n,g,u,v),!y.leavePathOpen&&n.closePath&&n.closePath(),n=p,"filled"!==r&&"both"!==r||(d?n.fill(l):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=y.matchEdgeWidth?i:1,n.lineJoin="miter",d?n.stroke(l):n.stroke())},t.exports=r},{}],72:[function(e,t,n){"use strict";var r=e("../../../math"),i={};i.drawElement=function(e,t,n,r){var i=this;t.isNode()?i.drawNode(e,t,n,r):i.drawEdge(e,t,n,r)},i.drawCachedElement=function(e,t,n,i){var a=this,o=t.boundingBox();if(!i||r.boundingBoxesIntersect(o,i)){var s=a.data.eleTxrCache.getElement(t,o,n);s?e.drawImage(s.texture.canvas,s.x,0,s.width,s.height,o.x1,o.y1,o.w,o.h):a.drawElement(e,t)}},i.drawElements=function(e,t){for(var n=this,r=0;r<t.length;r++){var i=t[r];n.drawElement(e,i)}},i.drawCachedElements=function(e,t,n,r){for(var i=this,a=0;a<t.length;a++){var o=t[a];i.drawCachedElement(e,o,n,r)}},i.drawCachedNodes=function(e,t,n,r){for(var i=this,a=0;a<t.length;a++){var o=t[a];o.isNode()&&i.drawCachedElement(e,o,n,r)}},i.drawLayeredElements=function(e,t,n,r){var i=this,a=i.data.lyrTxrCache.getLayers(t,n);if(a)for(var o=0;o<a.length;o++){var s=a[o],u=s.bb;e.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(e,t,n,r)},t.exports=i},{"../../../math":91}],73:[function(e,t,n){"use strict";var r={};r.safeDrawImage=function(e,t,n,r,i,a,o,s,u,l){var c=this;try{e.drawImage(t,n,r,i,a,o,s,u,l)}catch(d){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.drawingImage=!0,c.redraw()}},r.drawInscribedImage=function(e,t,n){var r=this,i=n._private.position.x,a=n._private.position.y,o=n.pstyle("background-fit").value,s=n.pstyle("background-position-x"),u=n.pstyle("background-position-y"),l=n.pstyle("background-repeat").value,c=n.width(),d=n.height(),f=n._private.rscratch,h=n.pstyle("background-clip").value,p="node"===h,v=n.pstyle("background-image-opacity").value,g=t.width||t.cachedW,y=t.height||t.cachedH;null!=g&&null!=y||(document.body.appendChild(t),g=t.cachedW=t.width||t.offsetWidth,y=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var m=g,b=y,x=n.pstyle("background-width");"auto"!==x.value&&(m="%"===x.units?x.value/100*c:x.pfValue);
var w=n.pstyle("background-height");if("auto"!==w.value&&(b="%"===w.units?w.value/100*d:w.pfValue),0!==m&&0!==b){if("contain"===o){var _=Math.min(c/m,d/b);m*=_,b*=_}else if("cover"===o){var _=Math.max(c/m,d/b);m*=_,b*=_}var E=i-c/2;E+="%"===s.units?(c-m)*s.value/100:s.pfValue;var k=a-d/2;k+="%"===u.units?(d-b)*u.value/100:u.pfValue,f.pathCache&&(E-=i,k-=a,i=0,a=0);var S=e.globalAlpha;if(e.globalAlpha=v,"no-repeat"===l)p&&(e.save(),f.pathCache?e.clip(f.pathCache):(r.nodeShapes[r.getNodeShape(n)].draw(e,i,a,c,d),e.clip())),r.safeDrawImage(e,t,0,0,g,y,E,k,m,b),p&&e.restore();else{var T=e.createPattern(t,l);e.fillStyle=T,r.nodeShapes[r.getNodeShape(n)].draw(e,i,a,c,d),e.translate(E,k),e.fill(),e.translate(-E,-k)}e.globalAlpha=S}},t.exports=r},{}],74:[function(e,t,n){"use strict";function r(e,t,n,r,i,a){var a=a||5;e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill()}var i=e("../../../util"),a=e("../../../math"),o={};o.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(a.log2(n*r));t=Math.pow(2,i)}var o=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(s>o)},o.drawElementText=function(e,t,n){var r=this;if(void 0===n){if(!r.eleTextBiggerThanMin(t))return}else if(!n)return;if(t.isNode()){var i=t.pstyle("label");if(!i||!i.value)return;var a=t.pstyle("text-halign").strValue,o=t.pstyle("text-valign").strValue;switch(a){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}switch(o){case"top":e.textBaseline="bottom";break;case"bottom":e.textBaseline="top";break;default:e.textBaseline="middle"}}else{var i=t.pstyle("label"),s=t.pstyle("source-label"),u=t.pstyle("target-label");if(!(i&&i.value||s&&s.value||u&&u.value))return;e.textAlign="center",e.textBaseline="middle"}r.drawText(e,t),t.isEdge()&&(r.drawText(e,t,"source"),r.drawText(e,t,"target"))},o.drawNodeText=o.drawEdgeText=o.drawElementText,o.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},o.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*n,u=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,d=t.pstyle("text-shadow-blur").pfValue,f=t.pstyle("text-shadow-opacity").value,h=t.pstyle("text-shadow-color").value,p=t.pstyle("text-shadow-offset-x").pfValue,v=t.pstyle("text-shadow-offset-y").pfValue,g=t._private.fontKey,y=this.getFontCache(e);y.key!==g&&(e.font=r+" "+o+" "+i+" "+a,y.key=g),e.lineJoin="round",this.fillStyle(e,l[0],l[1],l[2],s),this.strokeStyle(e,c[0],c[1],c[2],u),this.shadowStyle(e,h,f,d,p,v)},o.drawText=function(e,t,n){var a=t._private,o=a.rscratch,s=t.effectiveOpacity();if(0!==s&&0!==t.pstyle("text-opacity").value){var u=i.getPrefixedProperty(o,"labelX",n),l=i.getPrefixedProperty(o,"labelY",n),c=this.getLabelText(t,n);if(null!=c&&""!==c&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(e,t);var d=n?n+"-":"",f=i.getPrefixedProperty(o,"labelWidth",n),h=i.getPrefixedProperty(o,"labelHeight",n),p=i.getPrefixedProperty(o,"labelAngle",n),v=t.pstyle(d+"text-margin-x").pfValue,g=t.pstyle(d+"text-margin-y").pfValue,y=t.isEdge(),m=t.isNode(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;y&&(b="center",x="center"),u+=v,l+=g;var w,_=t.pstyle("text-rotation");if(w="autorotate"===_.strValue?y?p:0:"none"===_.strValue?0:_.pfValue,0!==w){var E=u,k=l;e.translate(E,k),e.rotate(w),u=0,l=0}if(m){var S=t.pstyle("padding-left").pfValue,T=t.pstyle("padding-right").pfValue,P=t.pstyle("padding-top").pfValue,C=t.pstyle("padding-bottom").pfValue;u+=S/2,u-=T/2,l+=P/2,l-=C/2}var D=t.pstyle("text-background-opacity").value,N=t.pstyle("text-border-opacity").value,M=t.pstyle("text-border-width").pfValue;if(D>0||M>0&&N>0){var I=f,A=h,O=u;b&&("center"==b?O-=I/2:"left"==b&&(O-=I));var B=l;if(m?"top"==x?B-=A:"center"==x&&(B-=A/2):B-=A/2,D>0){var L=e.fillStyle,j=t.pstyle("text-background-color").value;e.fillStyle="rgba("+j[0]+","+j[1]+","+j[2]+","+D*s+")";var z=t.pstyle("text-background-shape").strValue;"roundrectangle"==z?r(e,O,B,I,A,2):e.fillRect(O,B,I,A),e.fillStyle=L}if(M>0&&N>0){var R=e.strokeStyle,q=e.lineWidth,F=t.pstyle("text-border-color").value,V=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+N*s+")",e.lineWidth=M,e.setLineDash)switch(V){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=M/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(O,B,I,A),"double"===V){var Y=M/2;e.strokeRect(O+Y,B+Y,I-2*Y,A-2*Y)}e.setLineDash&&e.setLineDash([]),e.lineWidth=q,e.strokeStyle=R}}var X=2*t.pstyle("text-outline-width").pfValue;if(X>0&&(e.lineWidth=X),"wrap"===t.pstyle("text-wrap").value){var $=o.labelWrapCachedLines,W=h/$.length;switch(x){case"top":l-=($.length-1)*W;break;case"bottom":break;default:case"center":l-=($.length-1)*W/2}for(var U=0;U<$.length;U++)X>0&&e.strokeText($[U],u,l),e.fillText($[U],u,l),l+=W}else X>0&&e.strokeText(c,u,l),e.fillText(c,u,l);0!==w&&(e.rotate(-w),e.translate(-E,-k)),this.shadowStyle(e,"transparent",0)}}},t.exports=o},{"../../../math":91,"../../../util":106}],75:[function(e,t,n){"use strict";var r=e("../../../is"),i={};i.drawNode=function(e,t,n,i){var a,o,s=this,u=t._private.rscratch,l=t._private,c=c||l.position;if(r.number(c.x)&&r.number(c.y)){var d,f=this.usePaths(),h=!1,p=t.effectiveOpacity();if(0!==p){a=t.width()+t.pstyle("padding-left").pfValue+t.pstyle("padding-right").pfValue,o=t.height()+t.pstyle("padding-top").pfValue+t.pstyle("padding-bottom").pfValue,e.lineWidth=t.pstyle("border-width").pfValue;var v;n&&(v=n,e.translate(-v.x1,-v.y1));var g,y=t.pstyle("background-image"),m=y.value[2]||y.value[1];if(void 0!==m){g=this.getCachedImage(m,function(){t.trigger("background"),s.redrawHint("eles",!0),s.redrawHint("drag",!0),s.drawingImage=!0,s.redraw()});var b=l.backgrounding;l.backgrounding=!g.complete,b!==l.backgrounding&&t.updateStyle(!1)}var x=t.pstyle("background-color").value,w=t.pstyle("border-color").value,_=t.pstyle("border-style").value;this.fillStyle(e,x[0],x[1],x[2],t.pstyle("background-opacity").value*p),this.strokeStyle(e,w[0],w[1],w[2],t.pstyle("border-opacity").value*p);var E=t.pstyle("shadow-blur").pfValue,k=t.pstyle("shadow-opacity").value,S=t.pstyle("shadow-color").value,T=t.pstyle("shadow-offset-x").pfValue,P=t.pstyle("shadow-offset-y").pfValue;if(this.shadowStyle(e,S,k,E,T,P),e.lineJoin="miter",e.setLineDash)switch(_){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var C=t.pstyle("shape").strValue;if(f){var D=C+"$"+a+"$"+o;e.translate(c.x,c.y),u.pathCacheKey===D?(d=u.pathCache,h=!0):(d=new Path2D,u.pathCacheKey=D,u.pathCache=d)}if(!h){var N=c;f&&(N={x:0,y:0}),s.nodeShapes[this.getNodeShape(t)].draw(d||e,N.x,N.y,a,o)}f?e.fill(d):e.fill(),this.shadowStyle(e,"transparent",0),void 0!==m&&g.complete&&this.drawInscribedImage(e,g,t);var M=t.pstyle("background-blacken").value,I=t.pstyle("border-width").pfValue;if(this.hasPie(t)&&(this.drawPie(e,t,p),0===M&&0===I||f||s.nodeShapes[this.getNodeShape(t)].draw(e,c.x,c.y,a,o)),M>0?(this.fillStyle(e,0,0,0,M),f?e.fill(d):e.fill()):0>M&&(this.fillStyle(e,255,255,255,-M),f?e.fill(d):e.fill()),I>0&&(f?e.stroke(d):e.stroke(),"double"===_)){e.lineWidth=t.pstyle("border-width").pfValue/3;var A=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(d):e.stroke(),e.globalCompositeOperation=A}f&&e.translate(-c.x,-c.y),e.setLineDash&&e.setLineDash([]),s.drawElementText(e,t,i);var O=t.pstyle("overlay-padding").pfValue,B=t.pstyle("overlay-opacity").value,L=t.pstyle("overlay-color").value;B>0&&(this.fillStyle(e,L[0],L[1],L[2],B),s.nodeShapes.roundrectangle.draw(e,t._private.position.x,t._private.position.y,a+2*O,o+2*O),e.fill()),n&&e.translate(v.x1,v.y1)}}},i.hasPie=function(e){return e=e[0],e._private.hasPie},i.drawPie=function(e,t,n,r){t=t[0];var i=t._private,a=t.cy().style(),o=t.pstyle("pie-size"),s=t.width(),u=t.height(),r=r||i.position,l=r.x,c=r.y,d=Math.min(s,u)/2,f=0,h=this.usePaths();h&&(l=0,c=0),"%"===o.units?d=d*o.value/100:void 0!==o.pfValue&&(d=o.pfValue/2);for(var p=1;p<=a.pieBackgroundN;p++){var v=t.pstyle("pie-"+p+"-background-size").value,g=t.pstyle("pie-"+p+"-background-color").value,y=t.pstyle("pie-"+p+"-background-opacity").value*n,m=v/100;m+f>1&&(m=1-f);var b=1.5*Math.PI+2*Math.PI*f,x=2*Math.PI*m,w=b+x;0===v||f>=1||f+m>1||(e.beginPath(),e.moveTo(l,c),e.arc(l,c,d,b,w),e.closePath(),this.fillStyle(e,g[0],g[1],g[2],y),e.fill(),f+=m)}},t.exports=i},{"../../../is":89}],76:[function(e,t,n){"use strict";var r={},i=e("../../../util"),a=100;r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if(t=n[i],t.context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.shadowStyle=function(e,t,n,r,i,a){var o=this.cy.zoom();n>0?(e.shadowBlur=r*o,e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+n+")",e.shadowOffsetX=i*o,e.shadowOffsetY=a*o):(e.shadowBlur=0,e.shadowColor="transparent",e.shadowOffsetX=0,e.shadowOffsetY=0)},r.matchCanvasSize=function(e){var t=this,n=t.data,r=e.clientWidth,i=e.clientHeight,a=t.getPixelRatio(),o=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=o);var s,u=r*a,l=i*a;if(u!==t.canvasWidth||l!==t.canvasHeight){t.fontCaches=null;var c=n.canvasContainer;c.style.width=r+"px",c.style.height=i+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)s=n.canvases[d],s.width===u&&s.height===l||(s.width=u,s.height=l,s.style.width=r+"px",s.style.height=i+"px");for(var d=0;d<t.BUFFER_COUNT;d++)s=n.bufferCanvases[d],s.width===u&&s.height===l||(s.width=u,s.height=l,s.style.width=r+"px",s.style.height=i+"px");t.textureMult=1,1>=a&&(s=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,s.width=u*t.textureMult,s.height=l*t.textureMult),t.canvasWidth=u,t.canvasHeight=l}},r.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(e){function t(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,c.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function n(e,n){var i,a,s,d;c.clearingMotionBlur||e!==h.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]&&e!==h.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]?(i=T,a=k,s=c.canvasWidth,d=c.canvasHeight):(i={x:S.x*y,y:S.y*y},a=E*y,s=c.canvasWidth*y,d=c.canvasHeight*y),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?t(e,0,0,s,d):r||void 0!==n&&!n||e.clearRect(0,0,s,d),o||(e.translate(i.x,i.y),e.scale(a,a)),l&&e.translate(l.x,l.y),u&&e.scale(u,u)}e=e||i.staticEmptyObject();var r=e.forcedContext,o=e.drawAllLayers,s=e.drawOnlyNodeLayer,u=e.forcedZoom,l=e.forcedPan,c=this,d=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,f=c.cy,h=c.data,p=h.canvasNeedsRedraw,v=c.textureOnViewport&&!r&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),g=void 0!==e.motionBlur?e.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=f.hasCompoundNodes(),b=c.hoverData.draggingEles,x=!(!c.hoverData.selecting&&!c.touchData.selecting);g=g&&!r&&c.motionBlurEnabled&&!x;var w=g;r||(c.prevPxRatio!==d&&(c.invalidateContainerClientCoordsCache(),c.matchCanvasSize(c.container),c.redrawHint("eles",!0),c.redrawHint("drag",!0)),c.prevPxRatio=d),!r&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),g&&(null==c.mbFrames&&(c.mbFrames=0),c.drawingImage||c.mbFrames++,c.mbFrames<3&&(w=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1),c.textureDrawLastFrame&&!v&&(p[c.NODE]=!0,p[c.SELECT_BOX]=!0);var _=f.style()._private.coreStyle,E=f.zoom(),k=void 0!==u?u:E,S=f.pan(),T={x:S.x,y:S.y},P={zoom:E,pan:{x:S.x,y:S.y}},C=c.prevViewport,D=void 0===C||P.zoom!==C.zoom||P.pan.x!==C.pan.x||P.pan.y!==C.pan.y;D||b&&!m||(c.motionBlurPxRatio=1),l&&(T=l),k*=d,T.x*=d,T.y*=d;var N=c.getCachedZSortedEles();if(v||(c.textureDrawLastFrame=!1),v){c.textureDrawLastFrame=!0;var M;if(!c.textureCache){c.textureCache={},M=c.textureCache.bb=f.elements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[c.TEXTURE_BUFFER];var I=c.data.bufferContexts[c.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:d*c.textureMult});var P=c.textureCache.viewport={zoom:f.zoom(),pan:f.pan(),width:c.canvasWidth,height:c.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}p[c.DRAG]=!1,p[c.NODE]=!1;var A=h.contexts[c.NODE],O=c.textureCache.texture,P=c.textureCache.viewport;M=c.textureCache.bb,A.setTransform(1,0,0,1,0,0),g?t(A,0,0,P.width,P.height):A.clearRect(0,0,P.width,P.height);var B=_["outside-texture-bg-color"].value,L=_["outside-texture-bg-opacity"].value;c.fillStyle(A,B[0],B[1],B[2],L),A.fillRect(0,0,P.width,P.height);var E=f.zoom();n(A,!1),A.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d),A.drawImage(O,P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d)}else c.textureOnViewport&&!r&&(c.textureCache=null);var j=f.extent(),z=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,R=c.hideEdgesOnViewport&&z,q=[];if(q[c.NODE]=!p[c.NODE]&&g&&!c.clearedForMotionBlur[c.NODE]||c.clearingMotionBlur,q[c.NODE]&&(c.clearedForMotionBlur[c.NODE]=!0),q[c.DRAG]=!p[c.DRAG]&&g&&!c.clearedForMotionBlur[c.DRAG]||c.clearingMotionBlur,q[c.DRAG]&&(c.clearedForMotionBlur[c.DRAG]=!0),p[c.NODE]||o||s||q[c.NODE]){var F=g&&!q[c.NODE]&&1!==y,A=r||(F?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]:h.contexts[c.NODE]),V=g&&!F?"motionBlur":void 0;n(A,V),R?c.drawCachedNodes(A,N.nondrag,d,j):c.drawLayeredElements(A,N.nondrag,d,j),o||g||(p[c.NODE]=!1)}if(!s&&(p[c.DRAG]||o||q[c.DRAG])){var F=g&&!q[c.DRAG]&&1!==y,A=r||(F?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]:h.contexts[c.DRAG]);n(A,g&&!F?"motionBlur":void 0),R?c.drawCachedNodes(A,N.drag,d,j):c.drawCachedElements(A,N.drag,d,j),o||g||(p[c.DRAG]=!1)}if(c.showFps||!s&&p[c.SELECT_BOX]&&!o){var A=r||h.contexts[c.SELECT_BOX];if(n(A),1==c.selection[4]&&(c.hoverData.selecting||c.touchData.selecting)){var E=c.cy.zoom(),Y=_["selection-box-border-width"].value/E;A.lineWidth=Y,A.fillStyle="rgba("+_["selection-box-color"].value[0]+","+_["selection-box-color"].value[1]+","+_["selection-box-color"].value[2]+","+_["selection-box-opacity"].value+")",A.fillRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]),Y>0&&(A.strokeStyle="rgba("+_["selection-box-border-color"].value[0]+","+_["selection-box-border-color"].value[1]+","+_["selection-box-border-color"].value[2]+","+_["selection-box-opacity"].value+")",A.strokeRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]))}if(h.bgActivePosistion&&!c.hoverData.selecting){var E=c.cy.zoom(),X=h.bgActivePosistion;A.fillStyle="rgba("+_["active-bg-color"].value[0]+","+_["active-bg-color"].value[1]+","+_["active-bg-color"].value[2]+","+_["active-bg-opacity"].value+")",A.beginPath(),A.arc(X.x,X.y,_["active-bg-size"].pfValue/E,0,2*Math.PI),A.fill()}var $=c.lastRedrawTime;if(c.showFps&&$){$=Math.round($);var W=Math.round(1e3/$);A.setTransform(1,0,0,1,0,0),A.fillStyle="rgba(255, 0, 0, 0.75)",A.strokeStyle="rgba(255, 0, 0, 0.75)",A.lineWidth=1,A.fillText("1 frame = "+$+" ms = "+W+" fps",0,20);var U=60;A.strokeRect(0,30,250,20),A.fillRect(0,30,250*Math.min(W/U,1),20)}o||(p[c.SELECT_BOX]=!1)}if(g&&1!==y){var H=h.contexts[c.NODE],G=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_NODE],Z=h.contexts[c.DRAG],K=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_DRAG],Q=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!w?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):t(e,0,0,c.canvasWidth,c.canvasHeight);var i=y;e.drawImage(n,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};(p[c.NODE]||q[c.NODE])&&(Q(H,G,q[c.NODE]),p[c.NODE]=!1),(p[c.DRAG]||q[c.DRAG])&&(Q(Z,K,q[c.DRAG]),p[c.DRAG]=!1)}c.prevViewport=P,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),g&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[c.NODE]=!1,c.clearedForMotionBlur[c.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!v,c.mbFrames=0,p[c.NODE]=!0,p[c.DRAG]=!0,c.redraw()},a)),c.drawingImage=!1,r||c.initrender||(c.initrender=!0,f.trigger("initrender")),r||f.trigger("render")},t.exports=r},{"../../../util":106}],77:[function(e,t,n){"use strict";var r=e("../../../math"),i={};i.drawPolygonPath=function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(t+o*a[2*u],n+s*a[2*u+1]);e.closePath()},i.drawRoundRectanglePath=function(e,t,n,i,a,o){var s=i/2,u=a/2,l=r.getRoundRectangleRadius(i,a);e.beginPath&&e.beginPath(),e.moveTo(t,n-u),e.arcTo(t+s,n-u,t+s,n,l),e.arcTo(t+s,n+u,t,n+u,l),e.arcTo(t-s,n+u,t-s,n,l),e.arcTo(t-s,n-u,t,n-u,l),e.lineTo(t,n-u),e.closePath()};for(var a=Math.sin(0),o=Math.cos(0),s={},u={},l=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=l)s[c]=Math.sin(c),u[c]=Math.cos(c);i.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var c,d,f=r/2,h=i/2,p=0*Math.PI;p<2*Math.PI;p+=l)c=t-f*s[p]*a+f*u[p]*o,d=n+h*u[p]*a+h*s[p]*o,0===p?e.moveTo(c,d):e.lineTo(c,d);e.closePath()},t.exports=i},{"../../../math":91}],78:[function(e,t,n){"use strict";var r=e("../../../math"),i=e("../../../util"),a=e("../../../heap"),o=e("./texture-cache-defs"),s=25,u=50,l=-4,c=2,d=3.99,f=8,h=1024,p=1024,v=1024,g=.5,y=.8,m=10,b=!1,x=!1,w=.15,_=.1,E=.9,k=.9,S=100,T=1,P={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},C=function(e){var t=this;t.renderer=e,t.onDequeues=[],t.setupDequeueing()},D=C.prototype;D.reasons=P,D.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},D.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},r=n[e]=n[e]||[];return r},D.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new a(function(e,t){return t.reqs-e.reqs});return t},D.getElementIdToQueue=function(){var e=this,t=e.eleIdToCacheQueue=e.eleIdToCacheQueue||{};return t},D.getElement=function(e,t,n,i,a){var o=this,h=this.renderer,g=e._private.rscratch,y=h.cy.zoom();if(null==i&&(i=Math.ceil(r.log2(y*n))),l>i)i=l;else if(y>=d||i>c)return null;var m=Math.pow(2,i),w=t.h*m,_=t.w*m,E=g.imgCaches=g.imgCaches||{},k=E[i];if(k)return k;var S;if(S=s>=w?s:u>=w?u:Math.ceil(w/u)*u,w>v||_>p||!b&&e.isEdge()||!x&&e.isParent())return null;var T=o.getTextureQueue(S),C=T[T.length-2],D=function(){return o.recycleTexture(S,_)||o.addTexture(S,_)};C||(C=T[T.length-1]),C||(C=D()),C.width-C.usedWidth<_&&(C=D());for(var N,M=h.eleTextBiggerThanMin(e,m),I=function(e){return e&&e.scaledLabelShown===M},A=a&&a===P.dequeue,O=a&&a===P.highQuality,B=a&&a===P.downscale,L=i+1;c>=L;L++){var j=E[L];if(j){N=j;break}}var z=N&&N.level===i+1?N:null,R=function(){C.context.drawImage(z.texture.canvas,z.x,0,z.width,z.height,C.usedWidth,0,_,w)};if(I(z))R();else if(I(N)){if(!O)return o.queueElement(e,t,N.level-1),N;for(var L=N.level;L>i;L--)z=o.getElement(e,t,n,L,P.downscale);R()}else{var q;if(!A&&!O&&!B)for(var L=i-1;L>=l;L--){var j=E[L];if(j){q=j;break}}if(I(q))return o.queueElement(e,t,i),q;C.context.translate(C.usedWidth,0),C.context.scale(m,m),h.drawElement(C.context,e,t,M),C.context.scale(1/m,1/m),C.context.translate(-C.usedWidth,0)}return k=E[i]={ele:e,x:C.usedWidth,texture:C,level:i,scale:m,width:_,height:w,scaledLabelShown:M},C.usedWidth+=Math.ceil(_+f),C.eleCaches.push(k),o.checkTextureFullness(C),k},D.invalidateElement=function(e){var t=this,n=e._private.rscratch.imgCaches;if(n)for(var r=l;c>=r;r++){var a=n[r];if(a){var o=a.texture;o.invalidatedWidth+=a.width,n[r]=null,i.removeFromArray(o.eleCaches,a),t.checkTextureUtility(o)}}},D.checkTextureUtility=function(e){e.invalidatedWidth>=g*e.width&&this.retireTexture(e)},D.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>y&&e.fullnessChecks>=m?i.removeFromArray(n,e):e.fullnessChecks++},D.retireTexture=function(e){var t=this,n=e.height,r=t.getTextureQueue(n);i.removeFromArray(r,e),e.retired=!0;for(var a=e.eleCaches,o=0;o<a.length;o++){var s=a[o],u=s.ele,l=s.level,c=u._private.rscratch.imgCaches;c&&(c[l]=null)}i.clearArray(a);var d=t.getRetiredTextureQueue(n);d.push(e)},D.addTexture=function(e,t){var n=this,r=n.getTextureQueue(e),i={};return r.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(h,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=document.createElement("canvas"),i.canvas.width=i.width,i.canvas.height=i.height,i.context=i.canvas.getContext("2d"),i},D.recycleTexture=function(e,t){for(var n=this,r=n.getTextureQueue(e),a=n.getRetiredTextureQueue(e),o=0;o<a.length;o++){var s=a[o];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,i.clearArray(s.eleCaches),s.context.clearRect(0,0,s.width,s.height),i.removeFromArray(a,s),r.push(s),s}},D.queueElement=function(e,t,n){var i=this,a=i.getElementQueue(),o=i.getElementIdToQueue(),s=e.id(),u=o[s];if(u)u.level=Math.max(u.level,n),u.reqs++,a.updateItem(u);else{var l={ele:e,bb:t,position:r.copyPosition(e.position()),level:n,reqs:1};e.isEdge()&&(l.positions={source:r.copyPosition(e.source().position()),target:r.copyPosition(e.target().position())}),a.push(l),o[s]=l}},D.dequeue=function(e,t){for(var n=this,i=n.getElementQueue(),a=n.getElementIdToQueue(),o=[],s=0;T>s&&i.size()>0;s++){var u=i.pop();a[u.ele.id()]=null,o.push(u);var l,c=u.ele;l=(!c.isEdge()||r.arePositionsSame(c.source().position(),u.positions.source)&&r.arePositionsSame(c.target().position(),u.positions.target))&&r.arePositionsSame(c.position(),u.position)?u.bb:c.boundingBox(),n.getElement(u.ele,l,e,u.level,P.dequeue)}return o},D.onDequeue=function(e){this.onDequeues.push(e)},D.offDequeue=function(e){i.removeFromArray(this.onDequeues,e)},D.setupDequeueing=o.setupDequeueing({deqRedrawThreshold:S,deqCost:w,deqAvgCost:_,deqNoDrawCost:E,deqFastCost:k,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var r=e.onDequeues[n];r(t)}},shouldRedraw:function(e,t,n,i){for(var a=0;a<t.length;a++){var o=t[a].bb;if(r.boundingBoxesIntersect(o,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),t.exports=C},{"../../../heap":87,"../../../math":91,"../../../util":106,"./texture-cache-defs":83}],79:[function(e,t,n){"use strict";var r=e("../../../is"),i={};i.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},i.bufferCanvasImage=function(e){var t=this.cy,n=t.elements(),i=n.boundingBox(),a=e.full?Math.ceil(i.w):this.container.clientWidth,o=e.full?Math.ceil(i.h):this.container.clientHeight,s=r.number(e.maxWidth)||r.number(e.maxHeight),u=this.getPixelRatio(),l=1;if(void 0!==e.scale)a*=e.scale,o*=e.scale,l=e.scale;else if(s){var c=1/0,d=1/0;r.number(e.maxWidth)&&(c=l*e.maxWidth/a),r.number(e.maxHeight)&&(d=l*e.maxHeight/o),l=Math.min(c,d),a*=l,o*=l}s||(a*=u,o*=u,l*=u);var f=document.createElement("canvas");f.width=a,f.height=o,f.style.width=a+"px",f.style.height=o+"px";var h=f.getContext("2d");if(a>0&&o>0){h.clearRect(0,0,a,o),e.bg&&(h.fillStyle=e.bg,h.rect(0,0,a,o),h.fill()),h.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)h.translate(-i.x1*l,-i.y1*l),h.scale(l,l),this.drawElements(h,p);else{var v=t.pan(),g={x:v.x*l,y:v.y*l};l*=t.zoom(),h.translate(g.x,g.y),h.scale(l,l),this.drawElements(h,p)}}return f},i.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")},i.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")},t.exports=i},{"../../../is":89}],80:[function(e,t,n){"use strict";function r(e){var t=this;t.data={canvases:new Array(l.CANVAS_LAYERS),contexts:new Array(l.CANVAS_LAYERS),canvasNeedsRedraw:new Array(l.CANVAS_LAYERS),bufferCanvases:new Array(l.BUFFER_COUNT),bufferContexts:new Array(l.CANVAS_LAYERS)},t.data.canvasContainer=document.createElement("div");var n=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);"),n.position="relative",n.zIndex="0",n.overflow="hidden";var r=e.cy.container();r.appendChild(t.data.canvasContainer),r.setAttribute("style",(r.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(var i=0;i<l.CANVAS_LAYERS;i++){var u=t.data.canvases[i]=document.createElement("canvas");t.data.contexts[i]=u.getContext("2d"),u.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(a.ms()?" -ms-touch-action: none; touch-action: none; ":"")),u.style.position="absolute",u.setAttribute("data-id","layer"+i),u.style.zIndex=String(l.CANVAS_LAYERS-i),t.data.canvasContainer.appendChild(u),t.data.canvasNeedsRedraw[i]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[l.NODE].setAttribute("data-id","layer"+l.NODE+"-node"),t.data.canvases[l.SELECT_BOX].setAttribute("data-id","layer"+l.SELECT_BOX+"-selectbox"),t.data.canvases[l.DRAG].setAttribute("data-id","layer"+l.DRAG+"-drag");for(var i=0;i<l.BUFFER_COUNT;i++)t.data.bufferCanvases[i]=document.createElement("canvas"),t.data.bufferContexts[i]=t.data.bufferCanvases[i].getContext("2d"),t.data.bufferCanvases[i].style.position="absolute",t.data.bufferCanvases[i].setAttribute("data-id","buffer"+i),t.data.bufferCanvases[i].style.zIndex=String(-i-1),t.data.bufferCanvases[i].style.visibility="hidden";t.pathsEnabled=!0,t.data.eleTxrCache=new o(t),t.data.lyrTxrCache=new s(t,t.data.eleTxrCache),t.onUpdateEleCalcs(function(e,n){for(var r=0;r<n.length;r++){var i=n[r],a=i._private.rstyle,o=a.dirtyEvents;i.isNode()&&o&&1===o.length&&o.position||t.data.eleTxrCache.invalidateElement(i)}n.length>0&&t.data.lyrTxrCache.invalidateElements(n)})}var i=e("../../../util"),a=e("../../../is"),o=e("./ele-texture-cache"),s=e("./layered-texture-cache"),u=r,l=r.prototype;l.CANVAS_LAYERS=3,l.SELECT_BOX=0,l.DRAG=1,l.NODE=2,l.BUFFER_COUNT=3,l.TEXTURE_BUFFER=0,l.MOTIONBLUR_BUFFER_NODE=1,l.MOTIONBLUR_BUFFER_DRAG=2,l.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[l.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[l.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[l.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;l.path2dEnabled=function(e){return void 0===e?this.pathsEnabled:void(this.pathsEnabled=!!e)},l.usePaths=function(){return c&&this.pathsEnabled},[e("./arrow-shapes"),e("./drawing-elements"),e("./drawing-edges"),e("./drawing-images"),e("./drawing-label-text"),e("./drawing-nodes"),e("./drawing-redraw"),e("./drawing-shapes"),e("./export-image"),e("./node-shapes")].forEach(function(e){i.extend(l,e)}),t.exports=u},{"../../../is":89,"../../../util":106,"./arrow-shapes":70,"./drawing-edges":71,"./drawing-elements":72,"./drawing-images":73,"./drawing-label-text":74,"./drawing-nodes":75,"./drawing-redraw":76,"./drawing-shapes":77,"./ele-texture-cache":78,"./export-image":79,"./layered-texture-cache":81,"./node-shapes":82}],81:[function(e,t,n){"use strict";function r(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}var i=e("../../../util"),a=e("../../../math"),o=e("../../../heap"),s=e("../../../is"),u=e("./texture-cache-defs"),l=1,c=-4,d=2,f=3.99,h=50,p=50,v=!0,g=.15,y=.1,m=.9,b=.9,x=1,w=250,_=16e6,E=!0,k=!0,S=!0,T=function(e,t){var n=this;window.cache=this;var r=n.renderer=e;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=i.performanceNow()-2*w,n.skipping=!1,r.beforeRender(function(e,t){t-n.lastInvalidationTime<=w?n.skipping=!0:n.skipping=!1});var a=function(e,t){return t.reqs-e.reqs};n.layersQueue=new o(a),n.eleTxrCache=t,n.setupEleCacheInvalidation(),n.setupDequeueing()},P=T.prototype,C=0,D=Math.pow(2,53)-1;P.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=document.createElement("canvas");a.width=r,a.height=i;var o={id:C=++C%D,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(n,n),s.translate(u,l),o},P.getLayers=function(e,t,n){var r=this,o=r.renderer,s=o.cy,u=s.zoom(),h=r.firstGet;if(r.firstGet=!1,null==n)if(n=Math.ceil(a.log2(u*t)),c>n)n=c;else if(u>=f||n>d)return null;r.validateLayersElesOrdering(n,e);var p,v,g=r.layersByLevel,y=Math.pow(2,n),m=g[n]=g[n]||[],b=r.levelIsComplete(n,e),x=function(){var t=function(t){return r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e)?(v=g[t],!0):void 0},a=function(e){if(!v)for(var r=n+e;r>=c&&d>=r&&!t(r);r+=e);};a(1),a(-1);for(var o=m.length-1;o>=0;o--){var s=m[o];s.invalid&&i.removeFromArray(m,s)}};if(b)return m;x();var w=function(){if(!p){p=a.makeBoundingBox();for(var t=0;t<e.length;t++)a.updateBoundingBox(p,e[t].boundingBox())}return p},k=function(e){e=e||{};var t=e.after;w();var i=p.w*y*(p.h*y);if(i>_)return null;var a=r.makeLayer(p,n);if(null!=t){var o=m.indexOf(t)+1;m.splice(o,0,a)}else(void 0===e.insert||e.insert)&&m.unshift(a);return a};if(r.skipping&&!h)return null;for(var S=null,T=e.length/l,P=E&&!h,C=0;C<e.length;C++){var D=e[C],N=D._private.rscratch,M=N.imgLayerCaches=N.imgLayerCaches||{},I=M[n];if(I)S=I;else{if((!S||S.eles.length>=T||l>1&&!a.boundingBoxInBoundingBox(S.bb,D.boundingBox()))&&(S=k({insert:!0,after:S}),!S))return null;v||P?r.queueLayer(S,D):r.drawEleInLayer(S,D,n,t),S.eles.push(D),M[n]=S}}return v?v:P?null:m},P.getEleLevelForLayerLevel=function(e,t){return e},P.drawEleInLayer=function(e,t,n,i){var a=this,o=this.renderer,s=e.context,u=t.boundingBox(),l=a.eleTxrCache,c=k?l.reasons.highQuality:void 0;n=a.getEleLevelForLayerLevel(n,i);var d=S?l.getElement(t,u,null,n,c):null;d?(v&&r(s,!1),s.drawImage(d.texture.canvas,d.x,0,d.width,d.height,u.x1,u.y1,u.w,u.h),v&&r(s,!0)):o.drawElement(s,t)},P.levelIsComplete=function(e,t){var n=this,r=n.layersByLevel[e];if(!r||0===r.length)return!1;for(var i=0,a=0;a<r.length;a++){var o=r[a];if(o.reqs>0)return!1;if(o.invalid)return!1;i+=o.eles.length}return i===t.length},P.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(0>a)this.invalidateLayer(i);else for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}},P.updateElementsInLayers=function(e,t){for(var n=this,r=s.element(e[0]),i=0;i<e.length;i++)for(var a=r?null:e[i],o=r?e[i]:e[i].ele,u=o._private.rscratch,l=u.imgLayerCaches=u.imgLayerCaches||{},f=c;d>=f;f++){var h=l[f];h&&(a&&n.getEleLevelForLayerLevel(h.level)!==a.level||t(h,o,a))}
},P.haveLayers=function(){for(var e=this,t=!1,n=c;d>=n;n++){var r=e.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t},P.invalidateElements=function(e){var t=this;t.lastInvalidationTime=i.performanceNow(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,n,r){t.invalidateLayer(e)})},P.invalidateLayer=function(e){if(this.lastInvalidationTime=i.performanceNow(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];i.removeFromArray(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<n.length;a++){var o=n[a]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},P.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,n,r){var i=e.replacement;if(i||(i=e.replacement=t.makeLayer(e.bb,e.level),i.replaces=e,i.eles=e.eles),!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])})},P.setupEleCacheInvalidation=function(){var e=this,t=[];if(S){var n=i.debounce(function(){e.refineElementTextures(t),t=[]},p);e.eleTxrCache.onDequeue(function(e){for(var r=0;r<e.length;r++)t.push(e[r]);n()})}},P.queueLayer=function(e,t){var n=this,r=n.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},P.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;x>i&&0!==n.size();){var a=n.peek();if(a.replacement)n.pop();else if(a.replaces&&a!==a.replaces.replacement)n.pop();else if(a.invalid)n.pop();else{var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),0===r.length&&r.push(!0),0===a.elesQueue.length&&(n.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}}return r},P.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],r=e.replaces,i=n.indexOf(r);if(!(0>i||r.invalid)){n[i]=e;for(var a=0;a<e.eles.length;a++){var o=e.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}},P.requestRedraw=i.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),P.setupDequeueing=u.setupDequeueing({deqRedrawThreshold:h,deqCost:g,deqAvgCost:y,deqNoDrawCost:m,deqFastCost:b,deq:function(e,t){return e.dequeue(t)},onDeqd:i.noop,shouldRedraw:i.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),t.exports=T},{"../../../heap":87,"../../../is":89,"../../../math":91,"../../../util":106,"./texture-cache-defs":83}],82:[function(e,t,n){"use strict";var r,i={};i.nodeShapeImpl=function(e){var t=this;return(r||(r={ellipse:function(e,n,r,i,a){t.drawEllipsePath(e,n,r,i,a)},polygon:function(e,n,r,i,a,o){t.drawPolygonPath(e,n,r,i,a,o)},roundrectangle:function(e,n,r,i,a){t.drawRoundRectanglePath(e,n,r,i,a,10)}}))[e]},t.exports=i},{}],83:[function(e,t,n){"use strict";var r=e("../../../util"),i=1e3/60;t.exports={setupDequeueing:function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var a=r.debounce(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold),o=function(o,s){for(var u=r.performanceNow(),l=n.averageRedrawTime,c=n.lastRedrawTime,d=[],f=n.cy.extent(),h=n.getPixelRatio();;){var p=r.performanceNow(),v=p-u,g=p-s;if(i>c){var y=i-(o?l:0);if(g>=e.deqFastCost*y)break}else if(o){if(v>=e.deqCost*c||v>=e.deqAvgCost*l)break}else if(g>=e.deqNoDrawCost*i)break;var m=e.deq(t,h,f);if(!(m.length>0))break;for(var b=0;b<m.length;b++)d.push(m[b])}d.length>0&&(e.onDeqd(t,d),!o&&e.shouldRedraw(t,d,h,f)&&a())},s=e.priority||r.noop;n.beforeRender(o,s(t))}}}}},{"../../../util":106}],84:[function(e,t,n){"use strict";t.exports=[{name:"null",impl:e("./null")},{name:"base",impl:e("./base")},{name:"canvas",impl:e("./canvas")}]},{"./base":66,"./canvas":80,"./null":85}],85:[function(e,t,n){"use strict";function r(e){this.options=e,this.notifications=0}var i=function(){};r.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},t.exports=r},{}],86:[function(e,t,n){"use strict";var r=e("./is"),i=e("./util"),a=e("./thread"),o=e("./promise"),s=e("./define"),u=function(t){if(!(this instanceof u))return new u(t);this._private={pass:[]};var n=4;if(r.number(t),"undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)t=navigator.hardwareConcurrency;else try{t=e("os").cpus().length}catch(i){t=n}for(var o=0;t>o;o++)this[o]=new a;this.length=t},l=u.prototype;i.extend(l,{instanceString:function(){return"fabric"},require:function(e,t){for(var n=0;n<this.length;n++){var r=this[n];r.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var n=this[t];n.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(e){var t=this._private.pass;if(!r.array(e))throw"Only arrays may be used with fabric.pass()";return t.push(e),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(e){for(var t=this,n=t._private,r=t.spreadSize(),i=n.pass.shift().concat([]),a=[],s=0;s<this.length;s++){var u=this[s],l=i.splice(0,r),c=u.pass(l).run(e);a.push(c);var d=0===i.length;if(d)break}return o.all(a).then(function(e){for(var t=[],n=0,r=0;r<e.length;r++)for(var i=e[r],a=0;a<i.length;a++){var o=i[a];t[n++]=o}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],n=resolve;resolve=function(e){t.push(e)};for(var r=0;r<e.length;r++){var i=t.length,a=_$_$_fabmap(e[r]),o=i===t.length;o&&t.push(a)}return resolve=n,t})},filter:function(e){var t=this._private,n=t.pass[0];return this.map(e).then(function(e){for(var t=[],r=0;r<n.length;r++){var i=n[r],a=e[r];a&&t.push(i)}return t})},sort:function(e){var t=this,n=this._private.pass[0].length,r=this.spreadSize();return e=e||function(e,t){return t>e?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(r,i,a){i=Math.min(i,n),a=Math.min(a,n);for(var o=r,s=i,u=[],l=o;a>l;l++){var c=t[r],d=t[i];s>r&&(i>=a||e(c,d)<=0)?(u.push(c),r++):(u.push(d),i++)}for(var l=0;l<u.length;l++){var f=o+l;t[f]=u[l]}},a=r;n>a;a*=2)for(var o=0;n>o;o+=2*a)i(o,o+a,o+2*a);return t})}});var c=function(e){return e=e||{},function(t,n){var r=this._private.pass.shift();return this.random().pass(r)[e.threadFn](t,n)}};i.extend(l,{randomMap:c({threadFn:"map"}),reduce:c({threadFn:"reduce"}),reduceRight:c({threadFn:"reduceRight"})});var d=l;d.promise=d.run,d.terminate=d.halt=d.stop,d.include=d.require,i.extend(l,{on:s.on(),one:s.on({unbindSelfOnTrigger:!0}),off:s.off(),trigger:s.trigger()}),s.eventAliasesOn(l),t.exports=u},{"./define":50,"./is":89,"./promise":92,"./thread":104,"./util":106,os:166}],87:[function(e,t,n){"use strict";(function(){var e,r,i,a,o,s,u,l,c,d,f,h,p,v,g;i=Math.floor,d=Math.min,r=function(e,t){return t>e?-1:e>t?1:0},c=function(e,t,n,a,o){var s;if(null==n&&(n=0),null==o&&(o=r),0>n)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);a>n;)s=i((n+a)/2),o(t,e[s])<0?a=s:n=s+1;return[].splice.apply(e,[n,n-n].concat(t)),t},s=function(e,t,n){return null==n&&(n=r),e.push(t),v(e,0,e.length-1,n)},o=function(e,t){var n,i;return null==t&&(t=r),n=e.pop(),e.length?(i=e[0],e[0]=n,g(e,0,t)):i=n,i},l=function(e,t,n){var i;return null==n&&(n=r),i=e[0],e[0]=t,g(e,0,n),i},u=function(e,t,n){var i;return null==n&&(n=r),e.length&&n(e[0],t)<0&&(i=[e[0],t],t=i[0],e[0]=i[1],g(e,0,n)),t},a=function(e,t){var n,a,o,s,u,l;for(null==t&&(t=r),s=function(){l=[];for(var t=0,n=i(e.length/2);n>=0?n>t:t>n;n>=0?t++:t--)l.push(t);return l}.apply(this).reverse(),u=[],a=0,o=s.length;o>a;a++)n=s[a],u.push(g(e,n,t));return u},p=function(e,t,n){var i;return null==n&&(n=r),i=e.indexOf(t),-1!==i?(v(e,0,i,n),g(e,i,n)):void 0},f=function(e,t,n){var i,o,s,l,c;if(null==n&&(n=r),o=e.slice(0,t),!o.length)return o;for(a(o,n),c=e.slice(t),s=0,l=c.length;l>s;s++)i=c[s],u(o,i,n);return o.sort(n).reverse()},h=function(e,t,n){var i,s,u,l,f,h,p,v,g,y;if(null==n&&(n=r),10*t<=e.length){if(l=e.slice(0,t).sort(n),!l.length)return l;for(u=l[l.length-1],v=e.slice(t),f=0,p=v.length;p>f;f++)i=v[f],n(i,u)<0&&(c(l,i,0,null,n),l.pop(),u=l[l.length-1]);return l}for(a(e,n),y=[],s=h=0,g=d(t,e.length);g>=0?g>h:h>g;s=g>=0?++h:--h)y.push(o(e,n));return y},v=function(e,t,n,i){var a,o,s;for(null==i&&(i=r),a=e[n];n>t&&(s=n-1>>1,o=e[s],i(a,o)<0);)e[n]=o,n=s;return e[n]=a},g=function(e,t,n){var i,a,o,s,u;for(null==n&&(n=r),a=e.length,u=t,o=e[t],i=2*t+1;a>i;)s=i+1,a>s&&!(n(e[i],e[s])<0)&&(i=s),e[t]=e[i],t=i,i=2*t+1;return e[t]=o,v(e,u,t,n)},e=function(){function e(e){this.cmp=null!=e?e:r,this.nodes=[]}return e.push=s,e.pop=o,e.replace=l,e.pushpop=u,e.heapify=a,e.updateItem=p,e.nlargest=f,e.nsmallest=h,e.prototype.push=function(e){return s(this.nodes,e,this.cmp)},e.prototype.pop=function(){return o(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return a(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(e,r){return"function"==typeof define&&define.amd?define([],r):"object"==typeof n?t.exports=r():e.Heap=r()}(this,function(){return e})}).call(this)},{}],88:[function(e,t,n){"use strict";e("./-preamble");var r=e("./window"),i=e("./is"),a=e("./core"),o=e("./extension"),s=e("./jquery-plugin"),u=e("./stylesheet"),l=e("./thread"),c=e("./fabric"),d=function(e){return void 0===e&&(e={}),i.plainObject(e)?new a(e):i.string(e)?o.apply(o,arguments):void 0};d.version=e("./version"),r&&r.jQuery&&s(r.jQuery,d),d.registerJquery=function(e){s(e,d)},d.stylesheet=d.Stylesheet=u,d.thread=d.Thread=l,d.fabric=d.Fabric=c,t.exports=d},{"./-preamble":7,"./core":43,"./extension":52,"./fabric":86,"./is":89,"./jquery-plugin":90,"./stylesheet":103,"./thread":104,"./version":112,"./window":113}],89:[function(e,t,n){"use strict";var r=e("./window"),i=r?r.navigator:null,a="string",o=typeof{},s="function",u=typeof HTMLElement,l=function(e){return e&&e.instanceString&&c.fn(e.instanceString)?e.instanceString():null},c={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==a},fn:function(e){return null!=e&&typeof e===s},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&typeof e===o&&!c.array(e)&&e.constructor===Object},object:function(e){return null!=e&&typeof e===o},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(e){return c.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&typeof e==typeof!0},htmlElement:function(e){return"undefined"===u?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return c.element(e)||c.collection(e)},element:function(e){return"collection"===l(e)&&e._private.single},collection:function(e){return"collection"===l(e)&&!e._private.single},core:function(e){return"core"===l(e)},style:function(e){return"style"===l(e)},stylesheet:function(e){return"stylesheet"===l(e)},event:function(e){return"event"===l(e)},thread:function(e){return"thread"===l(e)},fabric:function(e){return"fabric"===l(e)},emptyString:function(e){return void 0===e||null===e?!0:!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!c.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(e){return c.plainObject(e)&&c.number(e.x1)&&c.number(e.x2)&&c.number(e.y1)&&c.number(e.y2)},promise:function(e){return c.object(e)&&c.fn(e.then)},touch:function(){return r&&("ontouchstart"in r||r.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return i&&i.vendor.match(/kde/i)},khtmlEtc:function(){return c.khtml()||c.webkit()||c.chromium()},ms:function(){return i&&i.userAgent.match(/msie|trident|edge/i)},windows:function(){return i&&i.appVersion.match(/Win/i)},mac:function(){return i&&i.appVersion.match(/Mac/i)},linux:function(){return i&&i.appVersion.match(/Linux/i)},unix:function(){return i&&i.appVersion.match(/X11/i)}};t.exports=c},{"./window":113}],90:[function(e,t,n){"use strict";var r=e("./is"),i=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t},a=function(e,t){e&&(e.fn.cytoscape||(e.fn.cytoscape=function(n){var a=e(this);if("get"===n)return i(a).cy;if(r.fn(n)){var o=n,s=i(a).cy;if(s&&s.isReady())s.trigger("ready",[],o);else{var u=i(a),l=u.readies=u.readies||[];l.push(o)}}else if(r.plainObject(n))return a.each(function(){var r=e.extend({},n,{container:e(this)[0]});t(r)})},e.cytoscape=t,null==e.fn.cy&&null==e.cy&&(e.fn.cy=e.fn.cytoscape,e.cy=e.cytoscape)))};t.exports=a},{"./is":89}],91:[function(e,t,n){"use strict";var r={};r.arePositionsSame=function(e,t){return e.x===t.x&&e.y===t.y},r.copyPosition=function(e){return{x:e.x,y:e.y}},r.array2point=function(e){return{x:e[0],y:e[1]}},r.deg2rad=function(e){return Math.PI*e/180},r.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},r.signum=function(e){return e>0?1:0>e?-1:0},r.dist=function(e,t){return Math.sqrt(r.sqdist(e,t))},r.sqdist=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},r.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},r.qbezierPtAt=function(e,t,n,i){return{x:r.qbezierAt(e.x,t.x,n.x,i),y:r.qbezierAt(e.y,t.y,n.y,i)}},r.lineAt=function(e,t,n,i){var a={x:t.x-e.x,y:t.y-e.y},o=r.dist(e,t),s={x:a.x/o,y:a.y/o};n=null==n?0:n;var i=null!=i?i:n*o;return{x:e.x+s.x*i,y:e.y+s.y*i}},r.lineAtDist=function(e,t,n){return r.lineAt(e,t,void 0,n)},r.triangleAngle=function(e,t,n){var i=r.dist(t,n),a=r.dist(e,n),o=r.dist(e,t);return Math.acos((i*i+a*a-o*o)/(2*i*a))},r.bound=function(e,t,n){return Math.max(e,Math.min(n,t))},r.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0),w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},r.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},r.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},r.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:!(t.y1>e.y2)},r.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},r.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},r.boundingBoxInBoundingBox=function(e,t){return r.inBoundingBox(e,t.x1,t.y1)&&r.inBoundingBox(e,t.x2,t.y2)},r.roundRectangleIntersectLine=function(e,t,n,r,i,a,o){var s,u=this.getRoundRectangleRadius(i,a),l=i/2,c=a/2,d=n-l+u-o,f=r-c-o,h=n+l-u+o,p=f;if(s=this.finiteLinesIntersect(e,t,n,r,d,f,h,p,!1),s.length>0)return s;var v=n+l+o,g=r-c+u-o,y=v,m=r+c-u+o;if(s=this.finiteLinesIntersect(e,t,n,r,v,g,y,m,!1),s.length>0)return s;var b=n-l+u-o,x=r+c+o,w=n+l-u+o,_=x;if(s=this.finiteLinesIntersect(e,t,n,r,b,x,w,_,!1),s.length>0)return s;var E=n-l-o,k=r-c+u-o,S=E,T=r+c-u+o;if(s=this.finiteLinesIntersect(e,t,n,r,E,k,S,T,!1),s.length>0)return s;var P,C=n-l+u,D=r-c+u;if(P=this.intersectLineCircle(e,t,n,r,C,D,u+o),P.length>0&&P[0]<=C&&P[1]<=D)return[P[0],P[1]];var N=n+l-u,M=r-c+u;if(P=this.intersectLineCircle(e,t,n,r,N,M,u+o),P.length>0&&P[0]>=N&&P[1]<=M)return[P[0],P[1]];var I=n+l-u,A=r+c-u;if(P=this.intersectLineCircle(e,t,n,r,I,A,u+o),P.length>0&&P[0]>=I&&P[1]>=A)return[P[0],P[1]];var O=n-l+u,B=r+c-u;return P=this.intersectLineCircle(e,t,n,r,O,B,u+o),P.length>0&&P[0]<=O&&P[1]>=B?[P[0],P[1]]:[]},r.inLineVicinity=function(e,t,n,r,i,a,o){var s=o,u=Math.min(n,i),l=Math.max(n,i),c=Math.min(r,a),d=Math.max(r,a);return e>=u-s&&l+s>=e&&t>=c-s&&d+s>=t},r.inBezierVicinity=function(e,t,n,r,i,a,o,s,u){var l={x1:Math.min(n,o,i)-u,x2:Math.max(n,o,i)+u,y1:Math.min(r,s,a)-u,y2:Math.max(r,s,a)+u};return!(e<l.x1||e>l.x2||t<l.y1||t>l.y2)},r.solveCubic=function(e,t,n,r,i){t/=e,n/=e,r/=e;var a,o,s,u,l,c,d,f;return o=(3*n-t*t)/9,s=-(27*r)+t*(9*n-2*(t*t)),s/=54,a=o*o*o+s*s,i[1]=0,d=t/3,a>0?(l=s+Math.sqrt(a),l=0>l?-Math.pow(-l,1/3):Math.pow(l,1/3),c=s-Math.sqrt(a),c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+l+c,d+=(l+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+l)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===a?(f=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=-d+2*f,void(i[4]=i[2]=-(f+d))):(o=-o,u=o*o*o,u=Math.acos(s/Math.sqrt(u)),f=2*Math.sqrt(o),i[0]=-d+f*Math.cos(u/3),i[2]=-d+f*Math.cos((u+2*Math.PI)/3),void(i[4]=-d+f*Math.cos((u+4*Math.PI)/3))))},r.sqdistToQuadraticBezier=function(e,t,n,r,i,a,o,s){var u=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,l=9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,c=3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,d=1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,f=[];this.solveCubic(u,l,c,d,f);for(var h=1e-7,p=[],v=0;6>v;v+=2)Math.abs(f[v+1])<h&&f[v]>=0&&f[v]<=1&&p.push(f[v]);p.push(1),p.push(0);for(var g,y,m,b,x=-1,w=0;w<p.length;w++)y=Math.pow(1-p[w],2)*n+2*(1-p[w])*p[w]*i+p[w]*p[w]*o,m=Math.pow(1-p[w],2)*r+2*(1-p[w])*p[w]*a+p[w]*p[w]*s,b=Math.pow(y-e,2)+Math.pow(m-t,2),x>=0?x>b&&(x=b,g=p[w]):(x=b,g=p[w]);return x},r.sqdistToFiniteLine=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],u=s[0]*s[0]+s[1]*s[1],l=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/u;return 0>c?l:d>u?(e-i)*(e-i)+(t-a)*(t-a):l-d},r.pointInsidePolygonPoints=function(e,t,n){for(var r,i,a,o,s,u=0,l=0,c=0;c<n.length/2;c++)if(r=n[2*c],i=n[2*c+1],c+1<n.length/2?(a=n[2*(c+1)],o=n[2*(c+1)+1]):(a=n[2*(c+1-n.length/2)],o=n[2*(c+1-n.length/2)+1]),r==e&&a==e);else{if(!(r>=e&&e>=a||e>=r&&a>=e))continue;s=(e-r)/(a-r)*(o-i)+i,s>t&&u++,t>s&&l++}return u%2!==0},r.pointInsidePolygon=function(e,t,n,i,a,o,s,u,l){var c,d=new Array(n.length);null!=u[0]?(c=Math.atan(u[1]/u[0]),u[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=u;for(var f=Math.cos(-c),h=Math.sin(-c),p=0;p<d.length/2;p++)d[2*p]=o/2*(n[2*p]*f-n[2*p+1]*h),d[2*p+1]=s/2*(n[2*p+1]*f+n[2*p]*h),d[2*p]+=i,d[2*p+1]+=a;var v;if(l>0){var g=this.expandPolygon(d,-l);v=this.joinLines(g)}else v=d;return r.pointInsidePolygonPoints(e,t,v)},r.joinLines=function(e){for(var t,n,r,i,a,o,s,u,l=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],o=e[4*(c+1)+1],s=e[4*(c+1)+2],u=e[4*(c+1)+3]):(a=e[0],o=e[1],s=e[2],u=e[3]);var d=this.finiteLinesIntersect(t,n,r,i,a,o,s,u,!0);l[2*c]=d[0],l[2*c+1]=d[1]}return l},r.expandPolygon=function(e,t){for(var n,r,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var u=a-r,l=-(i-n),c=Math.sqrt(u*u+l*l),d=u/c,f=l/c;o[4*s]=n+d*t,o[4*s+1]=r+f*t,o[4*s+2]=i+d*t,o[4*s+3]=a+f*t}return o},r.intersectLineEllipse=function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var u=Math.sqrt(o*o+s*s),l=u-1;if(0>l)return[];var c=l/u;return[(n-e)*c+e,(r-t)*c+t]},r.intersectLineCircle=function(e,t,n,r,i,a,o){var s=[n-e,r-t],u=[i,a],l=[e-i,t-a],c=s[0]*s[0]+s[1]*s[1],d=2*(l[0]*s[0]+l[1]*s[1]),u=l[0]*l[0]+l[1]*l[1]-o*o,f=d*d-4*c*u;if(0>f)return[];var h=(-d+Math.sqrt(f))/(2*c),p=(-d-Math.sqrt(f))/(2*c),v=Math.min(h,p),g=Math.max(h,p),y=[];if(v>=0&&1>=v&&y.push(v),g>=0&&1>=g&&y.push(g),0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,b];var x=y[1]*s[0]+e,w=y[1]*s[1]+t;return[m,b,x,w]}return[m,b]},r.findCircleNearPoint=function(e,t,n,r,i){var a=r-e,o=i-t,s=Math.sqrt(a*a+o*o),u=a/s,l=o/s;return[e+u*n,t+l*n]},r.findMaxSqDistanceToOrigin=function(e){for(var t,n=1e-6,r=0;r<e.length/2;r++)t=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1],t>n&&(n=t);return n},r.finiteLinesIntersect=function(e,t,n,r,i,a,o,s,u){var l=(o-i)*(t-a)-(s-a)*(e-i),c=(n-e)*(t-a)-(r-t)*(e-i),d=(s-a)*(n-e)-(o-i)*(r-t);if(0!==d){var f=l/d,h=c/d;return f>=0&&1>=f&&h>=0&&1>=h?[e+f*(n-e),t+f*(r-t)]:u?[e+f*(n-e),t+f*(r-t)]:[]}return 0===l||0===c?[e,n,o].sort()[1]===o?[o,s]:[e,n,i].sort()[1]===i?[i,a]:[i,o,n].sort()[1]===n?[n,r]:[]:[]},r.polygonIntersectLine=function(e,t,n,i,a,o,s,u){for(var l,c=[],d=new Array(n.length),f=0;f<d.length/2;f++)d[2*f]=n[2*f]*o+i,d[2*f+1]=n[2*f+1]*s+a;var h;if(u>0){var p=r.expandPolygon(d,-u);h=r.joinLines(p)}else h=d;for(var v,g,y,m,f=0;f<h.length/2;f++)v=h[2*f],g=h[2*f+1],f<h.length/2-1?(y=h[2*(f+1)],m=h[2*(f+1)+1]):(y=h[0],m=h[1]),l=this.finiteLinesIntersect(e,t,i,a,v,g,y,m),0!==l.length&&c.push(l[0],l[1]);return c},r.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return 0>a&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},r.generateUnitNgonPointsFitToSquare=function(e,t){var n=r.generateUnitNgonPoints(e,t);return n=r.fitPolygonToSquare(n)},r.fitPolygonToSquare=function(e){for(var t,n,r=e.length/2,i=1/0,a=1/0,o=-(1/0),s=-(1/0),u=0;r>u;u++)t=e[2*u],n=e[2*u+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var l=2/(o-i),c=2/(s-a),u=0;r>u;u++)t=e[2*u]=e[2*u]*l,n=e[2*u+1]=e[2*u+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(-1>a)for(var u=0;r>u;u++)n=e[2*u+1]=e[2*u+1]+(-1-a);return e},r.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2===0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,a,o,s=new Array(2*e),u=0;e>u;u++)i=u*n+r,a=s[2*u]=Math.cos(i),o=s[2*u+1]=Math.sin(-i);return s},r.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},t.exports=r},{}],92:[function(e,t,n){"use strict";var r=0,i=1,a=2,o=function(e){return this instanceof o?(this.id="Thenable/1.0.7",this.state=r,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},void("function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this)))):new o(e)};o.prototype={fulfill:function(e){return s(this,i,"fulfillValue",e)},reject:function(e){return s(this,a,"rejectReason",e)},then:function(e,t){var n=this,r=new o;return n.onFulfilled.push(c(e,r,"fulfill")),n.onRejected.push(c(t,r,"reject")),u(n),r.proxy}};var s=function(e,t,n,i){return e.state===r&&(e.state=t,e[n]=i,u(e)),e},u=function(e){e.state===i?l(e,"onFulfilled",e.fulfillValue):e.state===a&&l(e,"onRejected",e.rejectReason)},l=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},c=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(a){return void t.reject(a)}d(t,i)}}},d=function(e,t){if(e===t||e.proxy===t)return void e.reject(new TypeError("cannot resolve promise with itself"));var n;if("object"==typeof t&&null!==t||"function"==typeof t)try{n=t.then}catch(r){return void e.reject(r)}if("function"!=typeof n)e.fulfill(t);else{var i=!1;try{n.call(t,function(n){i||(i=!0,n===t?e.reject(new TypeError("circular thenable chain")):d(e,n))},function(t){i||(i=!0,e.reject(t))})}catch(r){i||e.reject(r)}}};o.all=function(e){return new o(function(t,n){for(var r=new Array(e.length),i=0,a=function(n,a){r[n]=a,i++,i===e.length&&t(r)},o=0;o<e.length;o++)!function(t){var r=e[t],i=null!=r&&null!=r.then;if(i)r.then(function(e){a(t,e)},function(e){n(e)});else{var o=r;a(t,o)}}(o)})},o.resolve=function(e){return new o(function(t,n){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},t.exports="undefined"!=typeof Promise?Promise:o},{}],93:[function(e,t,n){"use strict";var r=e("./is"),i=e("./util"),a=function(e){if(!(this instanceof a))return new a(e);var t=this;t._private={selectorText:null,invalid:!0};var n=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}};if(!e||r.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=n(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t._private.invalid=!1,t._private.selectorText=e,t.length=1;else if(r.elementOrCollection(e)){var o=e.collection();t[0]=n(),t[0].collection=o,t.length=1}else if(r.fn(e))t[0]=n(),t[0].filter=e,t.length=1;else{if(!r.string(e))return void i.error("A selector must be created from a string; found "+e);var s=null,u={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:i.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};u.variable="(?:[\\w-]|(?:\\\\"+u.metaChar+"))+",u.value=u.string+"|"+u.number,u.className=u.variable,u.id=u.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+u.metaChar+")","g"),function(e,t,n,r){return t})},c=u.comparatorOp.split("|"),d=0;d<c.length;d++){var f=c[d];u.comparatorOp+="|@"+f}for(var c=u.comparatorOp.split("|"),d=0;d<c.length;d++){var f=c[d];f.indexOf("!")>=0||"="!==f&&(u.comparatorOp+="|\\!"+f)}var h=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"===e?e:e+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},{name:"id",query:!0,regex:"\\#("+u.id+")",populate:function(e){this.ids.push(l(e))}},{name:"className",query:!0,regex:"\\.("+u.className+")",populate:function(e){this.classes.push(l(e))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+u.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+u.variable+")\\s*("+u.comparatorOp+")\\s*("+u.value+")\\s*\\]",populate:function(e,t,n){var r=null!=new RegExp("^"+u.string+"$").exec(n);n=r?n.substring(1,n.length-1):parseFloat(n),this.data.push({field:l(e),operator:t,value:n})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+u.boolOp+")\\s*("+u.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:l(t),operator:e})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+u.meta+")\\s*("+u.comparatorOp+")\\s*("+u.number+")\\s*\\]\\]",populate:function(e,t,n){this.meta.push({field:l(e),operator:t,value:parseFloat(n)})}},{name:"nextQuery",separator:!0,regex:u.separator,populate:function(){t[++d]=n(),s=null}},{name:"child",separator:!0,regex:u.child,populate:function(){var e=n();e.parent=this,e.subject=s,t[d]=e}},{name:"descendant",separator:!0,regex:u.descendant,populate:function(){var e=n();e.ancestor=this,e.subject=s,t[d]=e}},{name:"subject",modifier:!0,regex:u.subject,populate:function(){return null!=s&&this.subject!=this?(i.error("Redefinition of subject in selector `"+e+"`"),!1):(s=this,void(this.subject=this))}}];t._private.selectorText=e;var p=e,d=0,v=function(e){for(var t,n,i,a=0;a<h.length;a++){var o=h[a],s=o.name;if(!r.fn(e)||e(s,o)){var u=p.match(new RegExp("^"+o.regex));if(null!=u){n=u,t=o,i=s;var l=u[0];p=p.substring(l.length);break}}}return{expr:t,match:n,name:i}},g=function(){var e=p.match(/^\s+/);if(e){var t=e[0];p=p.substring(t.length)}};for(t[0]=n(),g();;){var y=v();if(null==y.expr)return void i.error("The selector `"+e+"`is invalid");for(var m=[],b=1;b<y.match.length;b++)m.push(y.match[b]);var x=y.expr.populate.apply(t[d],m);if(x===!1)return;if(p.match(/^\s*$/))break}t.length=d+1;for(var b=0;b<t.length;b++){var w=t[b];if(null!=w.subject){for(;w.subject!=w;)if(null!=w.parent){var _=w.parent,E=w;E.parent=null,_.child=E,w=_}else{if(null==w.ancestor){i.error("When adjusting references for the selector `"+w+"`, neither parent nor ancestor was found");break}var k=w.ancestor,S=w;S.ancestor=null,k.descendant=S,w=k}t[b]=w.subject}}}t._private.invalid=!1},o=a.prototype;o.size=function(){return this.length},o.eq=function(e){return this[e]};var s=function(e,t){var n=t._private;if(e.groupOnly)return"*"===e.group||e.group===n.group;if(null!=e.group&&"*"!=e.group&&e.group!=n.group)return!1;for(var i=t.cy(),a=!0,o=0;o<e.colonSelectors.length;o++){var u=e.colonSelectors[o];switch(u){case":selected":a=t.selected();break;case":unselected":a=!t.selected();break;case":selectable":a=t.selectable();break;case":unselectable":a=!t.selectable();break;case":locked":a=t.locked();break;case":unlocked":a=!t.locked();break;case":visible":a=t.visible();break;case":hidden":a=!t.visible();break;case":transparent":a=t.transparent();break;case":grabbed":a=t.grabbed();break;case":free":a=!t.grabbed();break;case":removed":a=t.removed();break;case":inside":a=!t.removed();break;case":grabbable":a=t.grabbable();break;case":ungrabbable":a=!t.grabbable();break;case":animated":a=t.animated();break;case":unanimated":a=!t.animated();break;case":parent":a=t.isNode()&&t.children().nonempty();break;case":child":case":nonorphan":a=t.isNode()&&t.parent().nonempty();break;case":orphan":a=t.isNode()&&t.parent().empty();break;case":loop":a=t.isEdge()&&t.data("source")===t.data("target");break;case":simple":a=t.isEdge()&&t.data("source")!==t.data("target");break;case":active":a=t.active();break;case":inactive":a=!t.active();break;case":touch":a=r.touch();break;case":backgrounding":a=t.backgrounding();break;case":nonbackgrounding":a=!t.backgrounding()}if(!a)break}if(!a)return!1;for(var l=!0,o=0;o<e.ids.length;o++){var c=e.ids[o],d=n.data.id;if(l=l&&c==d,!l)break}if(!l)return!1;for(var f=!0,o=0;o<e.classes.length;o++){var h=e.classes[o];if(f=f&&t.hasClass(h),!f)break}if(!f)return!1;var p=function(t){for(var n=!0,i=0;i<e[t.name].length;i++){var a,o=e[t.name][i],s=o.operator,u=o.value,l=o.field;if(null!=s&&null!=u){var c=t.fieldValue(l),d=r.string(c)||r.number(c)?""+c:"",f=""+u,h=!1;s.indexOf("@")>=0&&(d=d.toLowerCase(),f=f.toLowerCase(),s=s.replace("@",""),h=!0);var p=!1,v=!1;switch(s.indexOf("!")>=0&&(s=s.replace("!",""),p=!0),h&&(u=f.toLowerCase(),c=d.toLowerCase()),s){case"*=":a=d.search(f)>=0;break;case"$=":a=null!=new RegExp(f+"$").exec(d);break;case"^=":a=null!=new RegExp("^"+f).exec(d);break;case"=":a=c===u;break;case"!=":a=c!==u;break;case">":a=p?u>=c:c>u,v=!0;break;case">=":a=p?u>c:c>=u,v=!0;break;case"<":a=p?c>=u:u>c,v=!0;break;case"<=":a=p?c>u:u>=c,v=!0;break;default:a=!1}}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(l);break;case"!":a=!t.fieldTruthy(l);break;case"^":a=t.fieldUndefined(l)}else a=!t.fieldUndefined(l);if(p&&!v&&(a=!a,v=!0),!a){n=!1;break}}return n},v=p({name:"data",fieldValue:function(e){return n.data[e]},fieldUndefined:function(e){return void 0===n.data[e]},fieldTruthy:function(e){return!!n.data[e]}});if(!v)return!1;var g=p({name:"meta",fieldValue:function(e){return t[e]()},fieldUndefined:function(e){return null==t[e]()},fieldTruthy:function(e){return!!t[e]();
}});if(!g)return!1;if(null!=e.collection){var y=e.collection.hasElementWithId(t.id());if(!y)return!1}if(null!=e.filter&&0===t.collection().filter(e.filter).size())return!1;var m=function(e,t){if(null!=e){var n=!1;if(!i.hasCompoundNodes())return!1;t=t();for(var r=0;r<t.length;r++)if(s(e,t[r])){n=!0;break}return n}return!0};return m(e.parent,function(){return t.parent()})&&m(e.ancestor,function(){return t.parents()})&&m(e.child,function(){return t.children()})?!!m(e.descendant,function(){return t.descendants()}):!1};o.filter=function(e){var t=this,n=e.cy();if(t._private.invalid)return n.collection();var r=function(e,n){for(var r=0;r<t.length;r++){var i=t[r];if(s(i,n))return!0}return!1};null==t._private.selectorText&&(r=function(){return!0});var i=e.filter(r);return i},o.matches=function(e){var t=this;if(t._private.invalid)return!1;for(var n=0;n<t.length;n++){var r=t[n];if(s(r,e))return!0}return!1},o.toString=o.selector=function(){for(var e="",t=function(e,t){return r.string(e)?t?'"'+e+'"':e:""},n=function(e){var r="";e.subject===e&&(r+="$");var a=t(e.group);r+=a.substring(0,a.length-1);for(var o=0;o<e.data.length;o++){var s=e.data[o];r+=s.value?"["+s.field+t(s.operator)+t(s.value,!0)+"]":"["+t(s.operator)+s.field+"]"}for(var o=0;o<e.meta.length;o++){var u=e.meta[o];r+="[["+u.field+t(u.operator)+t(u.value,!0)+"]]"}for(var o=0;o<e.colonSelectors.length;o++){var l=e.colonSelectors[i];r+=l}for(var o=0;o<e.ids.length;o++){var l="#"+e.ids[i];r+=l}for(var o=0;o<e.classes.length;o++){var l="."+e.classes[o];r+=l}return null!=e.parent&&(r=n(e.parent)+" > "+r),null!=e.ancestor&&(r=n(e.ancestor)+" "+r),null!=e.child&&(r+=" > "+n(e.child)),null!=e.descendant&&(r+=" "+n(e.descendant)),r},i=0;i<this.length;i++){var a=this[i];e+=n(a),this.length>1&&i<this.length-1&&(e+=", ")}return e},t.exports=a},{"./is":89,"./util":106}],94:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),a={};a.apply=function(e){var t=this,n=t._private;t._private.newStyle&&(n.contextStyles={},n.propDiffs={});for(var r=0;r<e.length;r++){var i=e[r];t._private.newStyle&&(i._private.style={});var a=t.getContextMeta(i),o=t.getContextStyle(a),s=t.applyContextStyle(a,o,i);t.enforceCompoundSizing(i),t.updateTransitions(i,s.diffProps),t.updateStyleHints(i)}n.newStyle=!1},a.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,a=r[i];if(a)return a;for(var o=[],s={},u=0;u<n.length;u++){var l=n[u],c="t"===e[u],d="t"===t[u],f=c!==d,h=l.mappedProperties.length>0;if(f||h){var p;f&&h?p=l.properties:f?p=l.properties:h&&(p=l.mappedProperties);for(var v=0;v<p.length;v++){for(var g=p[v],y=g.name,m=!1,b=u+1;b<n.length;b++){var x=n[b],w="t"===t[b];if(w&&(m=null!=x.properties[g.name]))break}s[y]||m||(s[y]=!0,o.push(y))}}}return r[i]=o,o},a.getContextMeta=function(e){var t,n=this,r="",i=e._private.styleCxtKey||"";n._private.newStyle&&(i="");for(var a=0;a<n.length;a++){var o=n[a],s=o.selector&&o.selector.matches(e);r+=s?"t":"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t}},a.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},a=0;a<n.length;a++){var o=n[a],s="t"===t[a];if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u],c=i[l.name]=l;c.context=o}}return r[t]=i,i},a.applyContextStyle=function(e,t,n){for(var r=this,i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],u=t[s],l=n.pstyle(s);if(u||(u=l.bypass?{name:s,deleteBypassed:!0}:{name:s,"delete":!0}),l!==u){var c=a[s]={prev:l};r.applyParsedProperty(n,u),c.next=n.pstyle(s),c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}},a.enforceCompoundSizing=function(e){var t=this;e.isParent()&&(t.applyParsedProperty(e,t.parse("width","auto")),t.applyParsedProperty(e,t.parse("height","auto")))},a.updateStyleHints=function(e){var t=e._private,n=this;if(!e.removed()){var r=!1;if("nodes"===t.group)for(var i=1;i<=n.pieBackgroundN;i++){var a=e.pstyle("pie-"+i+"-background-size").value;if(a>0){r=!0;break}}t.hasPie=r;var o=e.pstyle("text-transform").strValue,s=e.pstyle("label").strValue,u=e.pstyle("source-label").strValue,l=e.pstyle("target-label").strValue,c=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",d=e.pstyle("font-family").strValue,f=e.pstyle("font-weight").strValue,h=e.pstyle("text-valign").strValue,p=e.pstyle("text-valign").strValue,v=e.pstyle("text-outline-width").pfValue,g=e.pstyle("text-wrap").strValue,y=e.pstyle("text-max-width").pfValue,m=c+"$"+a+"$"+d+"$"+f+"$"+o+"$"+h+"$"+p+"$"+v+"$"+g+"$"+y;t.sourceLabelKey=m+"$"+u,t.targetLabelKey=m+"$"+l,t.labelKey=m+"$"+s,t.fontKey=c+"$"+f+"$"+a+"$"+d,t.styleKey=Date.now()}},a.applyParsedProperty=function(e,t){var n,a,o=this,s=t,u=e._private.style,l=o.types,c=o.properties[s.name].type,d=s.bypass,f=u[s.name],h=f&&f.bypass,p=e._private;if(("height"===t.name||"width"===t.name)&&e.isNode()){if("auto"===t.value&&!e.isParent())return!1;"auto"!==t.value&&e.isParent()&&(s=t=this.parse(t.name,"auto",d))}if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(s=t=this.parse(t.name,"bezier",d)),s["delete"])return u[s.name]=void 0,!0;if(s.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,!0):!1:!0;if(s.deleteBypass)return f?f.bypass?(u[s.name]=f.bypassed,!0):!1:!0;var v=function(){r.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+s.name+"` with data field `"+s.field+"`); try a `["+s.field+"]` selector to limit scope to elements with `"+s.field+"` defined")};switch(s.mapped){case l.mapData:case l.mapLayoutData:case l.mapScratch:var n,g=s.mapped===l.mapLayoutData,y=s.mapped===l.mapScratch,m=s.field.split(".");n=y||g?p.scratch:p.data;for(var b=0;b<m.length&&n;b++){var x=m[b];n=n[x]}var w;if(w=i.number(n)?(n-s.fieldMin)/(s.fieldMax-s.fieldMin):0,0>w?w=0:w>1&&(w=1),c.color){var _=s.valueMin[0],E=s.valueMax[0],k=s.valueMin[1],S=s.valueMax[1],T=s.valueMin[2],P=s.valueMax[2],C=null==s.valueMin[3]?1:s.valueMin[3],D=null==s.valueMax[3]?1:s.valueMax[3],N=[Math.round(_+(E-_)*w),Math.round(k+(S-k)*w),Math.round(T+(P-T)*w),Math.round(C+(D-C)*w)];a={bypass:s.bypass,name:s.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!c.number)return!1;var M=s.valueMin+(s.valueMax-s.valueMin)*w;a=this.parse(s.name,M,s.bypass,!0)}a||(a=this.parse(s.name,f.strValue,s.bypass,!0)),a||v(),a.mapping=s,s=a;break;case l.data:case l.layoutData:case l.scratch:var n,g=s.mapped===l.layoutData,y=s.mapped===l.scratch,m=s.field.split(".");if(n=y||g?p.scratch:p.data)for(var b=0;b<m.length;b++){var x=m[b];n=n[x]}if(a=this.parse(s.name,n,s.bypass,!0),!a){var I=f?f.strValue:"";a=this.parse(s.name,I,s.bypass,!0)}a||v(),a.mapping=s,s=a;break;case l.fn:var A=s.value,O=A(e);a=this.parse(s.name,O,s.bypass,!0),a.mapping=s,s=a;break;case void 0:break;default:return!1}return d?(h?s.bypassed=f.bypassed:s.bypassed=f,u[s.name]=s):h?f.bypassed=s:u[s.name]=s,!0},a.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()},a.updateMappers=function(e){for(var t=this,n=0;n<e.length;n++){for(var r=e[n],i=r._private.style,a=0;a<t.properties.length;a++){var o=t.properties[a],s=i[o.name];if(s&&s.mapping){var u=s.mapping;this.applyParsedProperty(r,u)}}this.updateStyleHints(r)}},a.updateTransitions=function(e,t,n){var r=this,a=e._private,o=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,u=e.pstyle("transition-delay").pfValue;if(o.length>0&&s>0){for(var l={},c=!1,d=0;d<o.length;d++){var f=o[d],h=e.pstyle(f),p=t[f];if(p){var v,g=p.prev,y=g,m=null!=p.next?p.next:h,b=!1,x=1e-6;y&&(i.number(y.pfValue)&&i.number(m.pfValue)?(b=m.pfValue-y.pfValue,v=y.pfValue+x*b):i.number(y.value)&&i.number(m.value)?(b=m.value-y.value,v=y.value+x*b):i.array(y.value)&&i.array(m.value)&&(b=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2],v=y.strValue),b&&(l[f]=m.strValue,this.applyBypass(e,f,v),c=!0))}}if(!c)return;a.transitioning=!0,e.stop(),u>0&&e.delay(u),e.animate({css:l},{duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1,complete:function(){n||r.removeBypasses(e,o),a.transitioning=!1}})}else a.transitioning&&(e.stop(),this.removeBypasses(e,o),a.transitioning=!1)},t.exports=a},{"../is":89,"../util":106}],95:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),a={};a.applyBypass=function(e,t,n,a){var o=this,s=[],u=!0;if("*"===t||"**"===t){if(void 0!==n)for(var l=0;l<o.properties.length;l++){var c=o.properties[l],t=c.name,d=this.parse(t,n,!0);d&&s.push(d)}}else if(r.string(t)){var d=this.parse(t,n,!0);d&&s.push(d)}else{if(!r.plainObject(t))return!1;var f=t;a=n;for(var l=0;l<o.properties.length;l++){var c=o.properties[l],t=c.name,n=f[t];if(void 0===n&&(n=f[i.dash2camel(t)]),void 0!==n){var d=this.parse(t,n,!0);d&&s.push(d)}}}if(0===s.length)return!1;for(var h=!1,l=0;l<e.length;l++){for(var p,v=e[l],g={},y=0;y<s.length;y++){var c=s[y];if(a){var m=v.pstyle(c.name);p=g[c.name]={prev:m}}h=this.applyParsedProperty(v,c)||h,a&&(p.next=v.pstyle(c.name))}h&&this.updateStyleHints(v),a&&this.updateTransitions(v,g,u)}return h},a.overrideBypass=function(e,t,n){t=i.camel2dash(t);for(var r=0;r<e.length;r++){var a=e[r],o=a._private.style[t],s=this.properties[t].type,u=s.color,l=s.mutiple;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),u?o.strValue="rgb("+n.join(",")+")":l?o.strValue=n.join(" "):o.strValue=""+n):this.applyBypass(a,t,n)}},a.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},a.removeBypasses=function(e,t,n){for(var r=!0,i=0;i<e.length;i++){for(var a=e[i],o={},s=0;s<t.length;s++){var u=t[s],l=this.properties[u],c=a.pstyle(l.name);if(c&&c.bypass){var d="",f=this.parse(u,d,!0),h=o[l.name]={prev:c};this.applyParsedProperty(a,f),h.next=a.pstyle(l.name)}}this.updateStyleHints(a),n&&this.updateTransitions(a,o,r)}},t.exports=a},{"../is":89,"../util":106}],96:[function(e,t,n){"use strict";var r=e("../window"),i={};i.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},i.containerCss=function(e){var t=this._private.cy,n=t.container();return r&&n&&r.getComputedStyle?r.getComputedStyle(n).getPropertyValue(e):void 0},t.exports=i},{"../window":113}],97:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),a={};a.getRenderedStyle=function(e){return this.getRawStyle(e,!0)},a.getRawStyle=function(e,t){var n=this,e=e[0];if(e){for(var i={},a=0;a<n.properties.length;a++){var o=n.properties[a],s=n.getStylePropertyValue(e,o.name,t);s&&(i[o.name]=s,i[r.dash2camel(o.name)]=s)}return i}},a.getStylePropertyValue=function(e,t,n){var r=this,e=e[0];if(e){var i=r.properties[t],a=i.type,o=e.pstyle(i.name),s=e.cy().zoom();if(o){var u=o.units?a.implicitUnits||"px":null,l=u?[].concat(o.pfValue).map(function(e){return e*(n?s:1)+u}).join(" "):o.strValue;return l}}},a.getAnimationStartStyle=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.name,s=e.pstyle(o);void 0!==s&&(s=i.plainObject(s)?this.parse(o,s.strValue):this.parse(o,s)),s&&(n[o]=s)}return n},a.getPropsList=function(e){var t=this,n=[],i=e,a=t.properties;if(i)for(var o in i){var s=i[o],u=a[o]||a[r.camel2dash(o)],l=this.parse(u.name,s);n.push(l)}return n},t.exports=a},{"../is":89,"../util":106}],98:[function(e,t,n){"use strict";var r=e("../is"),i=e("../util"),a=e("../selector"),o=function(e){return this instanceof o?r.core(e)?(this._private={cy:e,coreStyle:{},newStyle:!0},this.length=0,void this.addDefaultStylesheet()):void i.error("A style must have a core reference"):new o(e)},s=o.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new a(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},s.css=function(){var e=this,t=arguments;switch(t.length){case 1:for(var n=t[0],r=0;r<e.properties.length;r++){var a=e.properties[r],o=n[a.name];void 0===o&&(o=n[i.dash2camel(a.name)]),void 0!==o&&this.cssRule(a.name,o)}break;case 2:this.cssRule(t[0],t[1])}return this},s.style=s.css,s.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this},o.fromJson=function(e,t){var n=new o(e);return n.fromJson(t),n},o.fromString=function(e,t){return new o(e).fromString(t)},[e("./apply"),e("./bypass"),e("./container"),e("./get-for-ele"),e("./json"),e("./string-sheet"),e("./properties"),e("./parse")].forEach(function(e){i.extend(s,e)}),o.types=s.types,o.properties=s.properties,t.exports=o},{"../is":89,"../selector":93,"../util":106,"./apply":94,"./bypass":95,"./container":96,"./get-for-ele":97,"./json":99,"./parse":100,"./properties":101,"./string-sheet":102}],99:[function(e,t,n){"use strict";var r={};r.applyFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,a=r.style||r.css;t.selector(i);for(var o in a){var s=a[o];t.css(o,s)}}return t},r.fromJson=function(e){var t=this;return t.resetToDefault(),t.applyFromJson(e),t},r.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e},t.exports=r},{}],100:[function(e,t,n){"use strict";var r=e("../util"),i=e("../is"),a=e("../math"),o={};o.parse=function(e,t,n,i){var a,o=this,s=[e,t,n,i].join("$"),u=o.propCache=o.propCache||{};return(a=u[s])||(a=u[s]=o.parseImpl(e,t,n,i)),a=r.copy(a),a&&(a.value=r.copy(a.value)),a};var s=function(e,t,n,o){var s=this;e=r.camel2dash(e);var u=s.properties[e],l=t,c=s.types;if(!u)return null;if(void 0===t||null===t)return null;u.alias&&(u=u.pointsTo,e=u.name);var d=i.string(t);d&&(t=t.trim());var f=u.type;if(!f)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:n};var h,p,v,g,y,m;if(!d||o);else{if((h=new RegExp(c.data.regex).exec(t))||(v=new RegExp(c.layoutData.regex).exec(t))||(y=new RegExp(c.scratch.regex).exec(t))){if(n)return!1;var b;return b=h?c.data:v?c.layoutData:c.scratch,h=h||v||y,{name:e,value:h,strValue:""+t,mapped:b,field:h[1],bypass:n}}if((p=new RegExp(c.mapData.regex).exec(t))||(g=new RegExp(c.mapLayoutData.regex).exec(t))||(m=new RegExp(c.mapScratch.regex).exec(t))){if(n)return!1;if(f.multiple)return!1;var b;if(b=p?c.mapData:g?c.mapLayoutData:c.mapScratch,p=p||g||m,!f.color&&!f.number)return!1;var x=this.parse(e,p[4]);if(!x||x.mapped)return!1;var w=this.parse(e,p[5]);if(!w||w.mapped)return!1;if(x.value===w.value)return!1;if(f.color){var _=x.value,E=w.value,k=!(_[0]!==E[0]||_[1]!==E[1]||_[2]!==E[2]||_[3]!==E[3]&&(null!=_[3]&&1!==_[3]||null!=E[3]&&1!==E[3]));if(k)return!1}return{name:e,value:p,strValue:""+t,mapped:b,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:x.value,valueMax:w.value,bypass:n}}}if(f.multiple&&"multiple"!==o){var S;if(S=d?t.split(/\s+/):i.array(t)?t:[t],f.evenMultiple&&S.length%2!==0)return null;var T=S.map(function(t){var r=s.parse(e,t,n,"multiple");return null!=r.pfValue?r.pfValue:r.value});return{name:e,value:T,pfValue:T,strValue:T.join(" "),bypass:n,units:f.number&&!f.unitless?f.implicitUnits||"px":void 0}}var P=function(){for(var r=0;r<f.enums.length;r++){var i=f.enums[r];if(i===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(f.number){var C,D="px";if(f.units&&(C=f.units),f.implicitUnits&&(D=f.implicitUnits),!f.unitless)if(d){var N="px|em"+(f.allowPercent?"|\\%":"");C&&(N=C);var M=t.match("^("+r.regex.number+")("+N+")?$");M&&(t=M[1],C=M[2]||D)}else C&&!f.implicitUnits||(C=D);if(t=parseFloat(t),isNaN(t)&&void 0===f.enums)return null;if(isNaN(t)&&void 0!==f.enums)return t=l,P();if(f.integer&&!i.integer(t))return null;if(void 0!==f.min&&t<f.min||void 0!==f.max&&t>f.max)return null;var I={name:e,value:t,strValue:""+t+(C?C:""),units:C,bypass:n};return f.unitless||"px"!==C&&"em"!==C?I.pfValue=t:I.pfValue="px"!==C&&C?this.getEmSizeInPixels()*t:t,"ms"!==C&&"s"!==C||(I.pfValue="ms"===C?t:1e3*t),"deg"!==C&&"rad"!==C||(I.pfValue="rad"===C?t:a.deg2rad(t)),I}if(f.propList){var A=[],O=""+t;if("none"===O);else{for(var B=O.split(","),L=0;L<B.length;L++){var j=B[L].trim();s.properties[j]&&A.push(j)}if(0===A.length)return null}return{name:e,value:A,strValue:0===A.length?"none":A.join(", "),bypass:n}}if(f.color){var z=r.color2tuple(t);return z?{name:e,value:z,strValue:""+t,bypass:n,roundValue:!0}:null}if(f.regex||f.regexes){if(f.enums){var R=P();if(R)return R}for(var q=f.regexes?f.regexes:[f.regex],L=0;L<q.length;L++){var F=new RegExp(q[L]),V=F.exec(t);if(V)return{name:e,value:V,strValue:""+t,bypass:n}}return null}return f.string?{name:e,value:t,strValue:""+t,bypass:n}:f.enums?P():null};o.parseImpl=s,t.exports=o},{"../is":89,"../math":91,"../util":106}],101:[function(e,t,n){"use strict";var r=e("../util"),i={};!function(){var e=r.regex.number,t=r.regex.rgbaNoBackRefs,n=r.regex.hslaNoBackRefs,a=r.regex.hex3,o=r.regex.hex6,s=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(r){var i=e+"|\\w+|"+t+"|"+n+"|"+a+"|"+o;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"};i.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["auto","label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var l=i.types,c=i.properties=[{name:"label",type:l.text},{name:"text-rotation",type:l.textRotation},{name:"text-margin-x",type:l.bidirectionalSize},{name:"text-margin-y",type:l.bidirectionalSize},{name:"source-label",type:l.text},{name:"source-text-rotation",type:l.textRotation},{name:"source-text-margin-x",type:l.bidirectionalSize},{name:"source-text-margin-y",type:l.bidirectionalSize},{name:"source-text-offset",type:l.size},{name:"target-label",type:l.text},{name:"target-text-rotation",type:l.textRotation},{name:"target-text-margin-x",type:l.bidirectionalSize},{name:"target-text-margin-y",type:l.bidirectionalSize},{name:"target-text-offset",type:l.size},{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-margin",type:l.size},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"text-events",type:l.bool},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"events",type:l.bool},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.bidirectionalSize},{name:"shadow-offset-y",type:l.bidirectionalSize},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.bidirectionalSize},{name:"text-shadow-offset-y",type:l.bidirectionalSize},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing},{name:"height",type:l.nodeSize},{name:"width",type:l.nodeSize},{name:"shape",type:l.nodeShape},{name:"shape-polygon-points",type:l.polygonPointList},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"control-point-step-size",type:l.size},{name:"control-point-distances",type:l.bidirectionalSizes},{name:"control-point-weights",type:l.numbers},{name:"segment-distances",type:l.bidirectionalSizes},{name:"segment-weights",type:l.numbers},{name:"edge-distances",type:l.edgeDistances},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],d=i.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"}];i.pieBackgroundN=16,c.push({name:"pie-size",type:l.bgSize});for(var f=1;f<=i.pieBackgroundN;f++)c.push({name:"pie-"+f+"-background-color",type:l.color}),c.push({name:"pie-"+f+"-background-size",type:l.percent}),c.push({name:"pie-"+f+"-background-opacity",type:l.zeroOneNumber});var h=i.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach(function(e){h.forEach(function(t){var n=t+"-"+e.name,r=e.type;c.push({name:n,type:r})})},{}),i.propertyNames=c.map(function(e){return e.name});for(var f=0;f<c.length;f++){var p=c[f];c[p.name]=p}for(var f=0;f<d.length;f++){var v=d[f],g=c[v.pointsTo],y={name:v.name,alias:!0,pointsTo:g};c.push(y),c[v.name]=y}}(),i.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},i.getDefaultProperties=r.memoize(function(){for(var e=r.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-margin":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include"},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=i.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),a=t.value;e[r]=a}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return i.arrowPrefixes.forEach(function(n){var r=n+"-"+t.name,i=t.value;e[r]=i}),e},{})),t={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var o=a.name,s=e[o],u=this.parse(o,s);t[o]=u}}return t}),i.addDefaultStylesheet=function(){this.selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},t.exports=i},{"../util":106}],102:[function(e,t,n){"use strict";var r=e("../util"),i=e("../selector"),a={};a.applyFromString=function(e){function t(){c=c.length>a.length?c.substr(a.length):""}function n(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,u=this,l=this,c=""+e;for(c=c.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){var d=c.match(/^\s*$/);if(d)break;var f=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){r.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}a=f[0];var h=f[1];if("core"!==h){var p=new i(h);if(p._private.invalid){r.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),t();continue}}var v=f[2],g=!1;o=v;for(var y=[];;){var d=o.match(/^\s*$/);if(d)break;var m=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!m){r.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),g=!0;break}s=m[0];var b=m[1],x=m[2],w=u.properties[b];if(w){var _=l.parse(b,x);_?(y.push({name:b,val:x}),n()):(r.error("Skipping property: Invalid property definition in: "+s),n())}else r.error("Skipping property: Invalid property name in: "+s),n()}if(g){t();break}l.selector(h);for(var E=0;E<y.length;E++){var w=y[E];l.css(w.name,w.val)}t()}return l},a.fromString=function(e){var t=this;return t.resetToDefault(),t.applyFromString(e),t},t.exports=a},{"../selector":93,"../util":106}],103:[function(e,t,n){
"use strict";var r=e("./is"),i=e("./util"),a=e("./style"),o=function(){return this instanceof o?void(this.length=0):new o},s=o.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},s.css=function(e,t){var n=this.length-1;if(r.string(e))this[n].properties.push({name:e,value:t});else if(r.plainObject(e))for(var o=e,s=0;s<a.properties.length;s++){var u=a.properties[s],l=o[u.name];if(void 0===l&&(l=o[i.dash2camel(u.name)]),void 0!==l){var e=u.name,t=l;this[n].properties.push({name:e,value:t})}}return this},s.style=s.css,s.generateStyle=function(e){for(var t=new a(e),n=0;n<this.length;n++){var r=this[n],i=r.selector,o=r.properties;t.selector(i);for(var s=0;s<o.length;s++){var u=o[s];t.css(u.name,u.value)}}return t},t.exports=o},{"./is":89,"./style":98,"./util":106}],104:[function(require,module,exports){(function(__dirname){"use strict";var window=require("./window"),util=require("./util"),Promise=require("./promise"),Event=require("./event"),define=require("./define"),is=require("./is"),Thread=function(e){if(!(this instanceof Thread))return new Thread(e);var t=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(e)&&null!=e.disabled&&(t.disabled=!!e.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){var t=is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')";return t},fnAsRequire=function(e){var t,n;is.object(e)&&e.fn?(t=fnAs(e.fn,e.name),n=e.name,e=e.fn):is.fn(e)?(t=e.toString(),n=e.name):is.string(e)?t=e:is.object(e)&&(t=e.proto?"":e.name+" = {};",n=e.name,e=e.obj),t+="\n";var r=function(e,n){if(e.prototype){var r=!1;for(var i in e.prototype){r=!0;break}r&&(t+=fnAsRequire({name:n,obj:e,proto:!0},e))}};if(e.prototype&&null!=n)for(var i in e.prototype){var a="",o=e.prototype[i],s=stringifyFieldVal(o),u=n+".prototype."+i;a+=u+" = "+s+";\n",a&&(t+=a),r(o,u)}if(!is.string(e))for(var i in e){var l="";if(e.hasOwnProperty(i)){var o=e[i],s=stringifyFieldVal(o),u=n+'["'+i+'"]';l+=u+" = "+s+";\n"}l&&(t+=l),r(o,u)}return t},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var n=this._private.requires;if(isPathStr(e))return this._private.files.push(e),this;if(t)e=is.fn(e)?{name:t,fn:e}:{name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}return n.push(e),this},pass:function(e){return this._private.pass.push(e),this},run:function(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&"undefined"!=typeof module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){var t=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?window.location.origin+window.location.pathname+e:e.match(/^\//)?window.location.origin+"/"+e:e};return'importScripts("'+t(e)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var cb;ww.addEventListener("message",cb=function(e){var t=is.object(e)&&is.object(e.data);t&&"$$resolve"in e.data?(ww.removeEventListener("message",cb),resolve(e.data.$$resolve)):t&&"$$reject"in e.data?(ww.removeEventListener("message",cb),reject(e.data.$$reject)):self.trigger(new Event(e,{type:"message",message:e.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=require("child_process").fork(require("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(e){is.object(e)&&"$$resolve"in e?(child.removeListener("message",cb),resolve(e.$$resolve)):is.object(e)&&"$$reject"in e?(child.removeListener("message",cb),reject(e.$$reject)):self.trigger(new Event({},{type:"message",message:e}))}),child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr,eval(fnStr)},message:function(e){for(var t=timer.listeners,n=0;n<t.length;n++){var r=t[n];r(e)}}};timer.exec()}}).then(function(e){return _p.running=!1,_p.ran=!0,self.trigger("ran"),e});return null==_p.queue&&(_p.queue=runP),runP},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),t.timer&&t.timer.message(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.timer,e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var n=e.toString();return n=n.replace(/function\s*?\S*?\s*?\(/,"function "+t+"(")},defineFnal=function(e){return e=e||{},function(t,n){var r=fnAs(t,"_$_$_"+e.name);return this.require(r),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(n):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread}).call(this,"/node_modules/cytoscape/src")},{"./define":50,"./event":51,"./is":89,"./promise":92,"./util":106,"./window":113,child_process:3,path:167}],105:[function(e,t,n){"use strict";var r=e("../is");t.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=4===e.length,a=16;return i?(t=parseInt(e[1]+e[1],a),n=parseInt(e[2]+e[2],a),r=parseInt(e[3]+e[3],a)):(t=parseInt(e[1]+e[2],a),n=parseInt(e[3]+e[4],a),r=parseInt(e[5]+e[6],a)),[t,n,r]}},hsl2tuple:function(e){function t(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}var n,r,i,a,o,s,u,l,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if(r=parseInt(c[1]),0>r?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,i=parseFloat(c[2]),0>i||i>100)return;if(i/=100,a=parseFloat(c[3]),0>a||a>100)return;if(a/=100,o=c[4],void 0!==o&&(o=parseFloat(o),0>o||o>1))return;if(0===i)s=u=l=Math.round(255*a);else{var d=.5>a?a*(1+i):a+i-a*i,f=2*a-d;s=Math.round(255*t(f,d,r+1/3)),u=Math.round(255*t(f,d,r)),l=Math.round(255*t(f,d,r-1/3))}n=[s,u,l,o]}return n},rgb2tuple:function(e){var t,n=new RegExp("^"+this.regex.rgba+"$").exec(e);if(n){t=[];for(var r=[],i=1;3>=i;i++){var a=n[i];if("%"===a[a.length-1]&&(r[i]=!0),a=parseFloat(a),r[i]&&(a=a/100*255),0>a||a>255)return;t.push(Math.floor(a))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var u=n[4];if(void 0!==u){if(u=parseFloat(u),0>u||u>1)return;t.push(u)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(r.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},{"../is":89}],106:[function(e,t,n){"use strict";var r=e("../is"),i=e("../math"),a={trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(e){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:r.array(e)?e.slice():r.plainObject(e)?this.clone(e):e},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};a.makeBoundingBox=i.makeBoundingBox.bind(i),a._staticEmptyObject={},a.staticEmptyObject=function(){return a._staticEmptyObject},a.extend=null!=Object.assign?Object.assign:function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];for(var i in r)e[i]=r[i]}return e},a["default"]=function(e,t){return void 0===e?t:e},a.removeFromArray=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},a.clearArray=function(e){e.splice(0,e.length)},a.getPrefixedProperty=function(e,t,n){return n&&(t=this.prependCamel(n,t)),e[t]},a.setPrefixedProperty=function(e,t,n,r){n&&(t=this.prependCamel(n,t)),e[t]=r},[e("./colors"),e("./maps"),{memoize:e("./memoize")},e("./regex"),e("./strings"),e("./timing")].forEach(function(e){a.extend(a,e)}),t.exports=a},{"../is":89,"../math":91,"./colors":105,"./maps":107,"./memoize":108,"./regex":109,"./strings":110,"./timing":111}],107:[function(e,t,n){"use strict";var r=e("../is");t.exports={mapEmpty:function(e){var t=!0;if(null!=e)for(var n in e){t=!1;break}return t},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t,n=e.map,i=e.keys,a=i.length,o=0;a>o;o++){var t=i[o];r.plainObject(t)&&this.error("Tried to set map with object key"),o<i.length-1?(null==n[t]&&(n[t]={}),n=n[t]):n[t]=e.value}},getMap:function(e){for(var t=e.map,n=e.keys,i=n.length,a=0;i>a;a++){var o=n[a];if(r.plainObject(o)&&this.error("Tried to get map with object key"),t=t[o],null==t)return t}return t},deleteMap:function(e){for(var t=e.map,n=e.keys,i=n.length,a=e.keepChildren,o=0;i>o;o++){var s=n[o];r.plainObject(s)&&this.error("Tried to delete map with object key");var u=o===e.keys.length-1;if(u)if(a)for(var l in t)a[l]||(t[l]=void 0);else t[s]=void 0;else t=t[s]}}}},{"../is":89}],108:[function(e,t,n){"use strict";t.exports=function(e,t){var n={};return t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")}),function(){var r,i=this,a=arguments,o=t.apply(i,a);return(r=n[o])||(r=n[o]=e.apply(i,a)),r}}},{}],109:[function(e,t,n){"use strict";var r="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",i="rgb[a]?\\(("+r+"[%]?)\\s*,\\s*("+r+"[%]?)\\s*,\\s*("+r+"[%]?)(?:\\s*,\\s*("+r+"))?\\)",a="rgb[a]?\\((?:"+r+"[%]?)\\s*,\\s*(?:"+r+"[%]?)\\s*,\\s*(?:"+r+"[%]?)(?:\\s*,\\s*(?:"+r+"))?\\)",o="hsl[a]?\\(("+r+")\\s*,\\s*("+r+"[%])\\s*,\\s*("+r+"[%])(?:\\s*,\\s*("+r+"))?\\)",s="hsl[a]?\\((?:"+r+")\\s*,\\s*(?:"+r+"[%])\\s*,\\s*(?:"+r+"[%])(?:\\s*,\\s*(?:"+r+"))?\\)",u="\\#[0-9a-fA-F]{3}",l="\\#[0-9a-fA-F]{6}";t.exports={regex:{number:r,rgba:i,rgbaNoBackRefs:a,hsla:o,hslaNoBackRefs:s,hex3:u,hex6:l}}},{}],110:[function(e,t,n){"use strict";var r=e("./memoize"),i=e("../is");t.exports={camel2dash:r(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:r(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:r(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},{"../is":89,"./memoize":108}],111:[function(e,t,n){"use strict";var r=e("../window"),i=e("../is"),a=r?r.performance:null,o={},s=r?r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame:null;s=s||function(e){e&&setTimeout(function(){e(u())},1e3/60)},o.requestAnimationFrame=function(e){s(e)};var u=a&&a.now?function(){return a.now()}:function(){return Date.now()};o.performanceNow=u,o.throttle=function(e,t,n){var r=!0,a=!0;return n===!1?r=!1:i.plainObject(n)&&(r="leading"in n?n.leading:r,a="trailing"in n?n.trailing:a),n=n||{},n.leading=r,n.maxWait=t,n.trailing=a,o.debounce(e,t,n)},o.now=function(){return Date.now()},o.debounce=function(e,t,n){var r,a,o,s,u,l,c,d=this,f=0,h=!1,p=!0;if(i.fn(e)){if(t=Math.max(0,t)||0,n===!0){var v=!0;p=!1}else i.plainObject(n)&&(v=n.leading,h="maxWait"in n&&(Math.max(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var g=function(){var n=t-(d.now()-s);if(0>=n){a&&clearTimeout(a);var i=c;a=l=c=void 0,i&&(f=d.now(),o=e.apply(u,r),l||a||(r=u=null))}else l=setTimeout(g,n)},y=function(){l&&clearTimeout(l),a=l=c=void 0,(p||h!==t)&&(f=d.now(),o=e.apply(u,r),l||a||(r=u=null))};return function(){if(r=arguments,s=d.now(),u=this,c=p&&(l||!v),h===!1)var n=v&&!l;else{a||v||(f=s);var i=h-(s-f),m=0>=i;m?(a&&(a=clearTimeout(a)),f=s,o=e.apply(u,r)):a||(a=setTimeout(y,i))}return m&&l?l=clearTimeout(l):l||t===h||(l=setTimeout(g,t)),n&&(m=!0,o=e.apply(u,r)),!m||l||a||(r=u=null),o}}},t.exports=o},{"../is":89,"../window":113}],112:[function(e,t,n){t.exports="2.7.1"},{}],113:[function(e,t,n){t.exports="undefined"==typeof window?null:window},{}],114:[function(e,t,n){t.exports={graphlib:e("./lib/graphlib"),layout:e("./lib/layout"),debug:e("./lib/debug"),util:{time:e("./lib/util").time,notime:e("./lib/util").notime},version:e("./lib/version")}},{"./lib/debug":119,"./lib/graphlib":120,"./lib/layout":122,"./lib/util":142,"./lib/version":143}],115:[function(e,t,n){"use strict";function r(e){function t(e){return function(t){return e.edge(t).weight}}var n="greedy"===e.graph().acyclicer?s(e,t(e)):i(e);o.each(n,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,o.uniqueId("rev"))})}function i(e){function t(a){o.has(i,a)||(i[a]=!0,r[a]=!0,o.each(e.outEdges(a),function(e){o.has(r,e.w)?n.push(e):t(e.w)}),delete r[a])}var n=[],r={},i={};return o.each(e.nodes(),t),n}function a(e){o.each(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var o=e("./lodash"),s=e("./greedy-fas");t.exports={run:r,undo:a}},{"./greedy-fas":121,"./lodash":123}],116:[function(e,t,n){function r(e){function t(n){var r=e.children(n),o=e.node(n);if(r.length&&a.each(r,t),a.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,u=o.maxRank+1;u>s;++s)i(e,"borderLeft","_bl",n,o,s),i(e,"borderRight","_br",n,o,s)}}a.each(e.children(),t)}function i(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},u=i[t][a-1],l=o.addDummyNode(e,"border",s,n);i[t][a]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})}var a=e("./lodash"),o=e("./util");t.exports=r},{"./lodash":123,"./util":142}],117:[function(e,t,n){"use strict";function r(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||a(e)}function i(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||s(e),"lr"!==t&&"rl"!==t||(l(e),a(e))}function a(e){d.each(e.nodes(),function(t){o(e.node(t))}),d.each(e.edges(),function(t){o(e.edge(t))})}function o(e){var t=e.width;e.width=e.height,e.height=t}function s(e){d.each(e.nodes(),function(t){u(e.node(t))}),d.each(e.edges(),function(t){var n=e.edge(t);d.each(n.points,u),d.has(n,"y")&&u(n)})}function u(e){e.y=-e.y}function l(e){d.each(e.nodes(),function(t){c(e.node(t))}),d.each(e.edges(),function(t){var n=e.edge(t);d.each(n.points,c),d.has(n,"x")&&c(n)})}function c(e){var t=e.x;e.x=e.y,e.y=t}var d=e("./lodash");t.exports={adjust:r,undo:i}},{"./lodash":123}],118:[function(e,t,n){function r(){var e={};e._next=e._prev=e,this._sentinel=e}function i(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function a(e,t){return"_next"!==e&&"_prev"!==e?t:void 0}t.exports=r,r.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;return t!==e?(i(t),t):void 0},r.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&i(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},r.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,a)),n=n._prev;return"["+e.join(", ")+"]"}},{}],119:[function(e,t,n){function r(e){var t=a.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return i.each(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),i.each(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),i.each(t,function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),i.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}var i=e("./lodash"),a=e("./util"),o=e("./graphlib").Graph;t.exports={debugOrdering:r}},{"./graphlib":120,"./lodash":123,"./util":142}],120:[function(e,t,n){var r;if("function"==typeof e)try{r=e("graphlib")}catch(i){}r||(r=window.graphlib),t.exports=r},{graphlib:145}],121:[function(e,t,n){function r(e,t){if(e.nodeCount()<=1)return[];var n=o(e,t||d),r=i(n.graph,n.buckets,n.zeroIdx);return u.flatten(u.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)}function i(e,t,n){for(var r,i=[],o=t[t.length-1],s=t[0];e.nodeCount();){for(;r=s.dequeue();)a(e,t,n,r);for(;r=o.dequeue();)a(e,t,n,r);if(e.nodeCount())for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){i=i.concat(a(e,t,n,r,!0));break}}return i}function a(e,t,n,r,i){var a=i?[]:void 0;return u.each(e.inEdges(r.v),function(r){var o=e.edge(r),u=e.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,s(t,n,u)}),u.each(e.outEdges(r.v),function(r){var i=e.edge(r),a=r.w,o=e.node(a);o["in"]-=i,s(t,n,o)}),e.removeNode(r.v),a}function o(e,t){var n=new l,r=0,i=0;u.each(e.nodes(),function(e){n.setNode(e,{v:e,"in":0,out:0})}),u.each(e.edges(),function(e){var a=n.edge(e.v,e.w)||0,o=t(e),s=a+o;n.setEdge(e.v,e.w,s),i=Math.max(i,n.node(e.v).out+=o),r=Math.max(r,n.node(e.w)["in"]+=o)});var a=u.range(i+r+3).map(function(){return new c}),o=r+1;return u.each(n.nodes(),function(e){s(a,o,n.node(e))}),{graph:n,buckets:a,zeroIdx:o}}function s(e,t,n){n.out?n["in"]?e[n.out-n["in"]+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var u=e("./lodash"),l=e("./graphlib").Graph,c=e("./data/list");t.exports=r;var d=u.constant(1)},{"./data/list":118,"./graphlib":120,"./lodash":123}],122:[function(e,t,n){"use strict";function r(e,t){var n=t&&t.debugTiming?A.time:A.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return o(e)});n("  runLayout",function(){i(t,n)}),n("  updateInputGraph",function(){a(e,t)})})}function i(e,t){t("    makeSpaceForEdgeLabels",function(){s(e)}),t("    removeSelfEdges",function(){g(e)}),t("    acyclic",function(){_.run(e)}),t("    nestingGraph.run",function(){C.run(e)}),t("    rank",function(){k(A.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){u(e)}),t("    removeEmptyRanks",function(){P(e)}),t("    nestingGraph.cleanup",function(){C.cleanup(e)}),t("    normalizeRanks",function(){S(e)}),t("    assignRankMinMax",function(){l(e)}),t("    removeEdgeLabelProxies",function(){c(e)}),t("    normalize.run",function(){E.run(e)}),t("    parentDummyChains",function(){T(e)}),t("    addBorderSegments",function(){D(e)}),t("    order",function(){M(e)}),t("    insertSelfEdges",function(){y(e)}),t("    adjustCoordinateSystem",function(){N.adjust(e)}),t("    position",function(){I(e)}),t("    positionSelfEdges",function(){m(e)}),t("    removeBorderNodes",function(){v(e)}),t("    normalize.undo",function(){E.undo(e)}),t("    fixupEdgeLabelCoords",function(){h(e)}),t("    undoCoordinateSystem",function(){N.undo(e)}),t("    translateGraph",function(){d(e)}),t("    assignNodeIntersects",function(){f(e)}),t("    reversePoints",function(){p(e)}),t("    acyclic.undo",function(){_.undo(e)})}function a(e,t){w.each(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),w.each(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,w.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function o(e){var t=new O({multigraph:!0,compound:!0}),n=x(e.graph());return t.setGraph(w.merge({},L,b(n,B),w.pick(n,j))),w.each(e.nodes(),function(n){var r=x(e.node(n));t.setNode(n,w.defaults(b(r,z),R)),t.setParent(n,e.parent(n))}),w.each(e.edges(),function(n){var r=x(e.edge(n));t.setEdge(n,w.merge({},F,b(r,q),w.pick(r,V)))}),t}function s(e){var t=e.graph();t.ranksep/=2,w.each(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function u(e){w.each(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-r.rank)/2+r.rank,e:t};A.addDummyNode(e,"edge-proxy",a,"_ep")}})}function l(e){var t=0;w.each(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=w.max(t,r.maxRank))}),e.graph().maxRank=t}function c(e){w.each(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function d(e){function t(e){var t=e.x,o=e.y,s=e.width,u=e.height;n=Math.min(n,t-s/2),r=Math.max(r,t+s/2),i=Math.min(i,o-u/2),a=Math.max(a,o+u/2)}var n=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,a=0,o=e.graph(),s=o.marginx||0,u=o.marginy||0;w.each(e.nodes(),function(n){t(e.node(n))}),w.each(e.edges(),function(n){var r=e.edge(n);w.has(r,"x")&&t(r)}),n-=s,i-=u,w.each(e.nodes(),function(t){var r=e.node(t);r.x-=n,r.y-=i}),w.each(e.edges(),function(t){var r=e.edge(t);w.each(r.points,function(e){e.x-=n,e.y-=i}),w.has(r,"x")&&(r.x-=n),w.has(r,"y")&&(r.y-=i)}),o.width=r-n+s,o.height=a-i+u}function f(e){w.each(e.edges(),function(t){var n,r,i=e.edge(t),a=e.node(t.v),o=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=a),i.points.unshift(A.intersectRect(a,n)),i.points.push(A.intersectRect(o,r))})}function h(e){w.each(e.edges(),function(t){var n=e.edge(t);if(w.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}function p(e){w.each(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function v(e){w.each(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(w.last(n.borderLeft)),o=e.node(w.last(n.borderRight));n.width=Math.abs(o.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}}),w.each(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}function g(e){w.each(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function y(e){var t=A.buildLayerMatrix(e);w.each(t,function(t){var n=0;w.each(t,function(t,r){var i=e.node(t);i.order=r+n,w.each(i.selfEdges,function(t){A.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})}function m(e){w.each(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}function b(e,t){return w.mapValues(w.pick(e,t),Number)}function x(e){var t={};return w.each(e,function(e,n){t[n.toLowerCase()]=e}),t}var w=e("./lodash"),_=e("./acyclic"),E=e("./normalize"),k=e("./rank"),S=e("./util").normalizeRanks,T=e("./parent-dummy-chains"),P=e("./util").removeEmptyRanks,C=e("./nesting-graph"),D=e("./add-border-segments"),N=e("./coordinate-system"),M=e("./order"),I=e("./position"),A=e("./util"),O=e("./graphlib").Graph;t.exports=r;var B=["nodesep","edgesep","ranksep","marginx","marginy"],L={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},j=["acyclicer","ranker","rankdir","align"],z=["width","height"],R={width:0,height:0},q=["minlen","weight","width","height","labeloffset"],F={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},V=["labelpos"]},{"./acyclic":115,"./add-border-segments":116,"./coordinate-system":117,"./graphlib":120,"./lodash":123,"./nesting-graph":124,"./normalize":125,"./order":130,"./parent-dummy-chains":135,"./position":137,"./rank":139,"./util":142}],123:[function(e,t,n){var r;if("function"==typeof e)try{r=e("lodash")}catch(i){}r||(r=window._),t.exports=r},{lodash:165}],124:[function(e,t,n){function r(e){var t=l.addDummyNode(e,"root",{},"_root"),n=a(e),r=u.max(n)-1,s=2*r+1;e.graph().nestingRoot=t,u.each(e.edges(),function(t){e.edge(t).minlen*=s});var c=o(e)+1;u.each(e.children(),function(a){i(e,t,s,c,r,n,a)}),e.graph().nodeRankFactor=s}function i(e,t,n,r,a,o,s){var c=e.children(s);if(!c.length)return void(s!==t&&e.setEdge(t,s,{weight:0,minlen:n}));var d=l.addBorderNode(e,"_bt"),f=l.addBorderNode(e,"_bb"),h=e.node(s);e.setParent(d,s),h.borderTop=d,e.setParent(f,s),h.borderBottom=f,u.each(c,function(u){i(e,t,n,r,a,o,u);var l=e.node(u),c=l.borderTop?l.borderTop:u,h=l.borderBottom?l.borderBottom:u,p=l.borderTop?r:2*r,v=c!==h?1:a-o[s]+1;e.setEdge(d,c,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,d,{weight:0,minlen:a+o[s]})}function a(e){function t(r,i){var a=e.children(r);a&&a.length&&u.each(a,function(e){t(e,i+1)}),n[r]=i}var n={};return u.each(e.children(),function(e){t(e,1)}),n}function o(e){return u.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function s(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,u.each(e.edges(),function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)})}var u=e("./lodash"),l=e("./util");t.exports={run:r,cleanup:s}},{"./lodash":123,"./util":142}],125:[function(e,t,n){"use strict";function r(e){e.graph().dummyChains=[],o.each(e.edges(),function(t){i(e,t)})}function i(e,t){var n=t.v,r=e.node(n).rank,i=t.w,a=e.node(i).rank,o=t.name,u=e.edge(t),l=u.labelRank;if(a!==r+1){e.removeEdge(t);var c,d,f;for(f=0,++r;a>r;++f,++r)u.points=[],d={width:0,height:0,edgeLabel:u,edgeObj:t,rank:r},c=s.addDummyNode(e,"edge",d,"_d"),r===l&&(d.width=u.width,d.height=u.height,d.dummy="edge-label",d.labelpos=u.labelpos),e.setEdge(n,c,{weight:u.weight},o),0===f&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:u.weight},o)}}function a(e){o.each(e.graph().dummyChains,function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}var o=e("./lodash"),s=e("./util");t.exports={run:r,undo:a}},{"./lodash":123,"./util":142}],126:[function(e,t,n){function r(e,t,n){var r,a={};i.each(n,function(n){for(var i,o,s=e.parent(n);s;){if(i=e.parent(s),i?(o=a[i],a[i]=s):(o=r,r=s),o&&o!==s)return void t.setEdge(o,s);s=i}})}var i=e("../lodash");t.exports=r},{"../lodash":123}],127:[function(e,t,n){function r(e,t){return i.map(t,function(t){var n=e.inEdges(t);if(n.length){var r=i.reduce(n,function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}},{sum:0,weight:0
});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})}var i=e("../lodash");t.exports=r},{"../lodash":123}],128:[function(e,t,n){function r(e,t,n){var r=i(e),s=new o({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(t){return e.node(t)});return a.each(e.nodes(),function(i){var o=e.node(i),u=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(s.setNode(i),s.setParent(i,u||r),a.each(e[n](i),function(t){var n=t.v===i?t.w:t.v,r=s.edge(n,i),o=a.isUndefined(r)?0:r.weight;s.setEdge(n,i,{weight:e.edge(t).weight+o})}),a.has(o,"minRank")&&s.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),s}function i(e){for(var t;e.hasNode(t=a.uniqueId("_root")););return t}var a=e("../lodash"),o=e("../graphlib").Graph;t.exports=r},{"../graphlib":120,"../lodash":123}],129:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}function i(e,t,n){for(var r=a.zipObject(n,a.map(n,function(e,t){return t})),i=a.flatten(a.map(t,function(t){return a.chain(e.outEdges(t)).map(function(t){return{pos:r[t.w],weight:e.edge(t).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var u=a.map(new Array(s),function(){return 0}),l=0;return a.each(i.forEach(function(e){var t=e.pos+o;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),t=t-1>>1,u[t]+=e.weight;l+=e.weight*n})),l}var a=e("../lodash");t.exports=r},{"../lodash":123}],130:[function(e,t,n){"use strict";function r(e){var t=p.maxRank(e),n=i(e,s.range(1,t+1),"inEdges"),r=i(e,s.range(t-1,-1,-1),"outEdges"),c=u(e);o(e,c);for(var d,f=Number.POSITIVE_INFINITY,h=0,v=0;4>v;++h,++v){a(h%2?n:r,h%4>=2),c=p.buildLayerMatrix(e);var g=l(e,c);f>g&&(v=0,d=s.cloneDeep(c),f=g)}o(e,d)}function i(e,t,n){return s.map(t,function(t){return d(e,t,n)})}function a(e,t){var n=new h;s.each(e,function(e){var r=e.graph().root,i=c(e,r,n,t);s.each(i.vs,function(t,n){e.node(t).order=n}),f(e,n,i.vs)})}function o(e,t){s.each(t,function(t){s.each(t,function(t,n){e.node(t).order=n})})}var s=e("../lodash"),u=e("./init-order"),l=e("./cross-count"),c=e("./sort-subgraph"),d=e("./build-layer-graph"),f=e("./add-subgraph-constraints"),h=e("../graphlib").Graph,p=e("../util");t.exports=r},{"../graphlib":120,"../lodash":123,"../util":142,"./add-subgraph-constraints":126,"./build-layer-graph":128,"./cross-count":129,"./init-order":131,"./sort-subgraph":133}],131:[function(e,t,n){"use strict";function r(e){function t(r){if(!i.has(n,r)){n[r]=!0;var a=e.node(r);o[a.rank].push(r),i.each(e.successors(r),t)}}var n={},r=i.filter(e.nodes(),function(t){return!e.children(t).length}),a=i.max(i.map(r,function(t){return e.node(t).rank})),o=i.map(i.range(a+1),function(){return[]}),s=i.sortBy(r,function(t){return e.node(t).rank});return i.each(s,t),o}var i=e("../lodash");t.exports=r},{"../lodash":123}],132:[function(e,t,n){"use strict";function r(e,t){var n={};o.each(e,function(e,t){var r=n[e.v]={indegree:0,"in":[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)}),o.each(t.edges(),function(e){var t=n[e.v],r=n[e.w];o.isUndefined(t)||o.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))});var r=o.filter(n,function(e){return!e.indegree});return i(r)}function i(e){function t(e){return function(t){t.merged||(o.isUndefined(t.barycenter)||o.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&a(e,t)}}function n(t){return function(n){n["in"].push(t),0===--n.indegree&&e.push(n)}}for(var r=[];e.length;){var i=e.pop();r.push(i),o.each(i["in"].reverse(),t(i)),o.each(i.out,n(i))}return o.chain(r).filter(function(e){return!e.merged}).map(function(e){return o.pick(e,["vs","i","barycenter","weight"])}).value()}function a(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var o=e("../lodash");t.exports=r},{"../lodash":123}],133:[function(e,t,n){function r(e,t,n,c){var d=e.children(t),f=e.node(t),h=f?f.borderLeft:void 0,p=f?f.borderRight:void 0,v={};h&&(d=o.filter(d,function(e){return e!==h&&e!==p}));var g=s(e,d);o.each(g,function(t){if(e.children(t.v).length){var i=r(e,t.v,n,c);v[t.v]=i,o.has(i,"barycenter")&&a(t,i)}});var y=u(g,n);i(y,v);var m=l(y,c);if(h&&(m.vs=o.flatten([h,m.vs,p],!0),e.predecessors(h).length)){var b=e.node(e.predecessors(h)[0]),x=e.node(e.predecessors(p)[0]);o.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+b.order+x.order)/(m.weight+2),m.weight+=2}return m}function i(e,t){o.each(e,function(e){e.vs=o.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})}function a(e,t){o.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var o=e("../lodash"),s=e("./barycenter"),u=e("./resolve-conflicts"),l=e("./sort");t.exports=r},{"../lodash":123,"./barycenter":127,"./resolve-conflicts":132,"./sort":134}],134:[function(e,t,n){function r(e,t){var n=s.partition(e,function(e){return o.has(e,"barycenter")}),r=n.lhs,u=o.sortBy(n.rhs,function(e){return-e.i}),l=[],c=0,d=0,f=0;r.sort(a(!!t)),f=i(l,u,f),o.each(r,function(e){f+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,f=i(l,u,f)});var h={vs:o.flatten(l,!0)};return d&&(h.barycenter=c/d,h.weight=d),h}function i(e,t,n){for(var r;t.length&&(r=o.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function a(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var o=e("../lodash"),s=e("../util");t.exports=r},{"../lodash":123,"../util":142}],135:[function(e,t,n){function r(e){var t=a(e);o.each(e.graph().dummyChains,function(n){for(var r=e.node(n),a=r.edgeObj,o=i(e,t,a.v,a.w),s=o.path,u=o.lca,l=0,c=s[l],d=!0;n!==a.w;){if(r=e.node(n),d){for(;(c=s[l])!==u&&e.node(c).maxRank<r.rank;)l++;c===u&&(d=!1)}if(!d){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=r.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}})}function i(e,t,n,r){var i,a,o=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do i=e.parent(i),o.push(i);while(i&&(t[i].low>u||l>t[i].lim));for(a=i,i=r;(i=e.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}function a(e){function t(i){var a=r;o.each(e.children(i),t),n[i]={low:a,lim:r++}}var n={},r=0;return o.each(e.children(),t),n}var o=e("./lodash");t.exports=r},{"./lodash":123}],136:[function(e,t,n){"use strict";function r(e,t){function n(t,n){var i=0,s=0,u=t.length,l=y.last(n);return y.each(n,function(t,c){var d=a(e,t),f=d?e.node(d).order:u;(d||t===l)&&(y.each(n.slice(s,c+1),function(t){y.each(e.predecessors(t),function(n){var a=e.node(n),s=a.order;!(i>s||s>f)||a.dummy&&e.node(t).dummy||o(r,n,t)})}),s=c+1,i=f)}),n}var r={};return y.reduce(t,n),r}function i(e,t){function n(t,n,r,a,s){var u;y.each(y.range(n,r),function(n){u=t[n],e.node(u).dummy&&y.each(e.predecessors(u),function(t){var n=e.node(t);n.dummy&&(n.order<a||n.order>s)&&o(i,t,u)})})}function r(t,r){var i,a=-1,o=0;return y.each(r,function(s,u){if("border"===e.node(s).dummy){var l=e.predecessors(s);l.length&&(i=e.node(l[0]).order,n(r,o,u,a,i),o=u,a=i)}n(r,o,r.length,i,t.length)}),r}var i={};return y.reduce(t,r),i}function a(e,t){return e.node(t).dummy?y.find(e.predecessors(t),function(t){return e.node(t).dummy}):void 0}function o(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function s(e,t,n){if(t>n){var r=t;t=n,n=r}return y.has(e[t],n)}function u(e,t,n,r){var i={},a={},o={};return y.each(t,function(e){y.each(e,function(e,t){i[e]=e,a[e]=e,o[e]=t})}),y.each(t,function(e){var t=-1;y.each(e,function(e){var u=r(e);if(u.length){u=y.sortBy(u,function(e){return o[e]});for(var l=(u.length-1)/2,c=Math.floor(l),d=Math.ceil(l);d>=c;++c){var f=u[c];a[e]===e&&t<o[f]&&!s(n,e,f)&&(a[f]=e,a[e]=i[e]=i[f],t=o[f])}}})}),{root:i,align:a}}function l(e,t,n,r,i){function a(e){y.has(l,e)||(l[e]=!0,s[e]=y.reduce(u.inEdges(e),function(e,t){return a(t.v),Math.max(e,s[t.v]+u.edge(t))},0))}function o(t){if(2!==l[t]){l[t]++;var n=e.node(t),r=y.reduce(u.outEdges(t),function(e,t){return o(t.w),Math.min(e,s[t.w]-u.edge(t))},Number.POSITIVE_INFINITY);r!==Number.POSITIVE_INFINITY&&n.borderType!==d&&(s[t]=Math.max(s[t],r))}}var s={},u=c(e,t,n,i),l={};y.each(u.nodes(),a);var d=i?"borderLeft":"borderRight";return y.each(u.nodes(),o),y.each(r,function(e){s[e]=s[n[e]]}),s}function c(e,t,n,r){var i=new m,a=e.graph(),o=v(a.nodesep,a.edgesep,r);return y.each(t,function(t){var r;y.each(t,function(t){var a=n[t];if(i.setNode(a),r){var s=n[r],u=i.edge(s,a);i.setEdge(s,a,Math.max(o(e,t,r),u||0))}r=t})}),i}function d(e,t){return y.min(t,function(t){var n=y.min(t,function(t,n){return t-g(e,n)/2}),r=y.max(t,function(t,n){return t+g(e,n)/2});return r-n})}function f(e,t){var n=y.min(t),r=y.max(t);y.each(["u","d"],function(i){y.each(["l","r"],function(a){var o,s=i+a,u=e[s];u!==t&&(o="l"===a?n-y.min(u):r-y.max(u),o&&(e[s]=y.mapValues(u,function(e){return e+o})))})})}function h(e,t){return y.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=y.sortBy(y.pluck(e,r));return(i[1]+i[2])/2})}function p(e){var t,n=b.buildLayerMatrix(e),a=y.merge(r(e,n),i(e,n)),o={};y.each(["u","d"],function(r){t="u"===r?n:y.values(n).reverse(),y.each(["l","r"],function(n){"r"===n&&(t=y.map(t,function(e){return y.values(e).reverse()}));var i=y.bind("u"===r?e.predecessors:e.successors,e),s=u(e,t,a,i),c=l(e,t,s.root,s.align,"r"===n);"r"===n&&(c=y.mapValues(c,function(e){return-e})),o[r+n]=c})});var s=d(e,o);return f(o,s),h(o,e.graph().align)}function v(e,t,n){return function(r,i,a){var o,s=r.node(i),u=r.node(a),l=0;if(l+=s.width/2,y.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":o=-s.width/2;break;case"r":o=s.width/2}if(o&&(l+=n?o:-o),o=0,l+=(s.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,y.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":o=u.width/2;break;case"r":o=-u.width/2}return o&&(l+=n?o:-o),o=0,l}}function g(e,t){return e.node(t).width}var y=e("../lodash"),m=e("../graphlib").Graph,b=e("../util");t.exports={positionX:p,findType1Conflicts:r,findType2Conflicts:i,addConflict:o,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:f,findSmallestWidthAlignment:d,balance:h}},{"../graphlib":120,"../lodash":123,"../util":142}],137:[function(e,t,n){"use strict";function r(e){e=o.asNonCompoundGraph(e),i(e),a.each(s(e),function(t,n){e.node(n).x=t})}function i(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,r=0;a.each(t,function(t){var i=a.max(a.map(t,function(t){return e.node(t).height}));a.each(t,function(t){e.node(t).y=r+i/2}),r+=i+n})}var a=e("../lodash"),o=e("../util"),s=e("./bk").positionX;t.exports=r},{"../lodash":123,"../util":142,"./bk":136}],138:[function(e,t,n){"use strict";function r(e){var t=new u({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var s,c;i(t,e)<r;)s=a(t,e),c=t.hasNode(s.v)?l(e,s):-l(e,s),o(t,e,c);return t}function i(e,t){function n(r){s.each(t.nodeEdges(r),function(i){var a=i.v,o=r===a?i.w:a;e.hasNode(o)||l(t,i)||(e.setNode(o,{}),e.setEdge(r,o,{}),n(o))})}return s.each(e.nodes(),n),e.nodeCount()}function a(e,t){return s.min(t.edges(),function(n){return e.hasNode(n.v)!==e.hasNode(n.w)?l(t,n):void 0})}function o(e,t,n){s.each(e.nodes(),function(e){t.node(e).rank+=n})}var s=e("../lodash"),u=e("../graphlib").Graph,l=e("./util").slack;t.exports=r},{"../graphlib":120,"../lodash":123,"./util":141}],139:[function(e,t,n){"use strict";function r(e){switch(e.graph().ranker){case"network-simplex":a(e);break;case"tight-tree":i(e);break;case"longest-path":c(e);break;default:a(e)}}function i(e){s(e),u(e)}function a(e){l(e)}var o=e("./util"),s=o.longestPath,u=e("./feasible-tree"),l=e("./network-simplex");t.exports=r;var c=s},{"./feasible-tree":138,"./network-simplex":140,"./util":141}],140:[function(e,t,n){"use strict";function r(e){e=w(e),m(e);var t=g(e);s(t),i(t,e);for(var n,r;n=l(t);)r=c(t,e,n),d(t,e,n,r)}function i(e,t){var n=x(e,e.nodes());n=n.slice(0,n.length-1),v.each(n,function(n){a(e,t,n)})}function a(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=o(e,t,n)}function o(e,t,n){var r=e.node(n),i=r.parent,a=!0,o=t.edge(n,i),s=0;return o||(a=!1,o=t.edge(i,n)),s=o.weight,v.each(t.nodeEdges(n),function(r){var o=r.v===n,u=o?r.w:r.v;if(u!==i){var l=o===a,c=t.edge(r).weight;if(s+=l?c:-c,h(e,n,u)){var d=e.edge(n,u).cutvalue;s+=l?-d:d}}}),s}function s(e,t){arguments.length<2&&(t=e.nodes()[0]),u(e,{},1,t)}function u(e,t,n,r,i){var a=n,o=e.node(r);return t[r]=!0,v.each(e.neighbors(r),function(i){v.has(t,i)||(n=u(e,t,n,i,r))}),o.low=a,o.lim=n++,i?o.parent=i:delete o.parent,n}function l(e){return v.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function c(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var a=e.node(r),o=e.node(i),s=a,u=!1;a.lim>o.lim&&(s=o,u=!0);var l=v.filter(t.edges(),function(t){return u===p(e,e.node(t.v),s)&&u!==p(e,e.node(t.w),s)});return v.min(l,function(e){return y(t,e)})}function d(e,t,n,r){var a=n.v,o=n.w;e.removeEdge(a,o),e.setEdge(r.v,r.w,{}),s(e),i(e,t),f(e,t)}function f(e,t){var n=v.find(e.nodes(),function(e){return!t.node(e).parent}),r=b(e,n);r=r.slice(1),v.each(r,function(n){var r=e.node(n).parent,i=t.edge(n,r),a=!1;i||(i=t.edge(r,n),a=!0),t.node(n).rank=t.node(r).rank+(a?i.minlen:-i.minlen)})}function h(e,t,n){return e.hasEdge(t,n)}function p(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var v=e("../lodash"),g=e("./feasible-tree"),y=e("./util").slack,m=e("./util").longestPath,b=e("../graphlib").alg.preorder,x=e("../graphlib").alg.postorder,w=e("../util").simplify;t.exports=r,r.initLowLimValues=s,r.initCutValues=i,r.calcCutValue=o,r.leaveEdge=l,r.enterEdge=c,r.exchangeEdges=d},{"../graphlib":120,"../lodash":123,"../util":142,"./feasible-tree":138,"./util":141}],141:[function(e,t,n){"use strict";function r(e){function t(r){var i=e.node(r);if(a.has(n,r))return i.rank;n[r]=!0;var o=a.min(a.map(e.outEdges(r),function(n){return t(n.w)-e.edge(n).minlen}));return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}var n={};a.each(e.sources(),t)}function i(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var a=e("../lodash");t.exports={longestPath:r,slack:i}},{"../lodash":123}],142:[function(e,t,n){"use strict";function r(e,t,n,r){var i;do i=y.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function i(e){var t=(new m).setGraph(e.graph());return y.each(e.nodes(),function(n){t.setNode(n,e.node(n))}),y.each(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function a(e){var t=new m({multigraph:e.isMultigraph()}).setGraph(e.graph());return y.each(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),y.each(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function o(e){var t=y.map(e.nodes(),function(t){var n={};return y.each(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return y.zipObject(e.nodes(),t)}function s(e){var t=y.map(e.nodes(),function(t){var n={};return y.each(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return y.zipObject(e.nodes(),t)}function u(e,t){var n=e.x,r=e.y,i=t.x-n,a=t.y-r,o=e.width/2,s=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,l;return Math.abs(a)*o>Math.abs(i)*s?(0>a&&(s=-s),u=s*i/a,l=s):(0>i&&(o=-o),u=o,l=o*a/i),{x:n+u,y:r+l}}function l(e){var t=y.map(y.range(h(e)+1),function(){return[]});return y.each(e.nodes(),function(n){var r=e.node(n),i=r.rank;y.isUndefined(i)||(t[i][r.order]=n)}),t}function c(e){var t=y.min(y.map(e.nodes(),function(t){return e.node(t).rank}));y.each(e.nodes(),function(n){var r=e.node(n);y.has(r,"rank")&&(r.rank-=t)})}function d(e){var t=y.min(y.map(e.nodes(),function(t){return e.node(t).rank})),n=[];y.each(e.nodes(),function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=e.graph().nodeRankFactor;y.each(n,function(t,n){y.isUndefined(t)&&n%i!==0?--r:r&&y.each(t,function(t){e.node(t).rank+=r})})}function f(e,t,n,i){var a={width:0,height:0};return arguments.length>=4&&(a.rank=n,a.order=i),r(e,"border",a,t)}function h(e){return y.max(y.map(e.nodes(),function(t){var n=e.node(t).rank;return y.isUndefined(n)?void 0:n}))}function p(e,t){var n={lhs:[],rhs:[]};return y.each(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n}function v(e,t){var n=y.now();try{return t()}finally{console.log(e+" time: "+(y.now()-n)+"ms")}}function g(e,t){return t()}var y=e("./lodash"),m=e("./graphlib").Graph;t.exports={addDummyNode:r,simplify:i,asNonCompoundGraph:a,successorWeights:o,predecessorWeights:s,intersectRect:u,buildLayerMatrix:l,normalizeRanks:c,removeEmptyRanks:d,addBorderNode:f,maxRank:h,partition:p,time:v,notime:g}},{"./graphlib":120,"./lodash":123}],143:[function(e,t,n){t.exports="0.7.4"},{}],144:[function(e,t,n){!function(e,n){"undefined"!=typeof t?t.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(){var e,t=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",a=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return a||n.addEventListener(i,e=function(){for(n.removeEventListener(i,e),a=1;e=t.shift();)e()}),function(e){a?setTimeout(e,0):t.push(e)}})},{}],145:[function(e,t,n){var r=e("./lib");t.exports={Graph:r.Graph,json:e("./lib/json"),alg:e("./lib/alg"),version:r.version}},{"./lib":161,"./lib/alg":152,"./lib/json":162}],146:[function(e,t,n){function r(e){function t(a){i.has(r,a)||(r[a]=!0,n.push(a),i.each(e.successors(a),t),i.each(e.predecessors(a),t))}var n,r={},a=[];return i.each(e.nodes(),function(e){n=[],t(e),n.length&&a.push(n)}),a}var i=e("../lodash");t.exports=r},{"../lodash":163}],147:[function(e,t,n){function r(e,t,n){a.isArray(t)||(t=[t]);var r=[],o={};return a.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,o,r)}),r}function i(e,t,n,r,o){a.has(r,t)||(r[t]=!0,n||o.push(t),a.each(e.neighbors(t),function(t){i(e,t,n,r,o)}),n&&o.push(t))}var a=e("../lodash");t.exports=r},{"../lodash":163}],148:[function(e,t,n){function r(e,t,n){return a.transform(e.nodes(),function(r,a){r[a]=i(e,a,t,n)},{})}var i=e("./dijkstra"),a=e("../lodash");t.exports=r},{"../lodash":163,"./dijkstra":149}],149:[function(e,t,n){function r(e,t,n,r){return i(e,String(t),n||s,r||function(t){return e.outEdges(t)})}function i(e,t,n,r){var i,a,s={},u=new o,l=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),l=a.distance+o;if(0>o)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);l<r.distance&&(r.distance=l,r.predecessor=i,u.decrease(t,l))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)});u.size()>0&&(i=u.removeMin(),a=s[i],a.distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return s}var a=e("../lodash"),o=e("../data/priority-queue");t.exports=r;var s=a.constant(1)},{"../data/priority-queue":159,"../lodash":163}],150:[function(e,t,n){function r(e){return i.filter(a(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}var i=e("../lodash"),a=e("./tarjan");t.exports=r},{"../lodash":163,"./tarjan":157}],151:[function(e,t,n){function r(e,t,n){return i(e,t||o,n||function(t){return e.outEdges(t)})}function i(e,t,n){var r={},i=e.nodes();return i.forEach(function(e){r[e]={},r[e][e]={distance:0},i.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var i=n.v===e?n.w:n.v,a=t(n);r[e][i]={distance:a,predecessor:e}})}),i.forEach(function(e){var t=r[e];i.forEach(function(n){var a=r[n];i.forEach(function(n){var r=a[e],i=t[n],o=a[n],s=r.distance+i.distance;s<o.distance&&(o.distance=s,o.predecessor=i.predecessor)})})}),r}var a=e("../lodash");t.exports=r;var o=a.constant(1)},{"../lodash":163}],152:[function(e,t,n){t.exports={components:e("./components"),dijkstra:e("./dijkstra"),dijkstraAll:e("./dijkstra-all"),findCycles:e("./find-cycles"),floydWarshall:e("./floyd-warshall"),isAcyclic:e("./is-acyclic"),postorder:e("./postorder"),preorder:e("./preorder"),prim:e("./prim"),tarjan:e("./tarjan"),topsort:e("./topsort")}},{"./components":146,"./dijkstra":149,"./dijkstra-all":148,"./find-cycles":150,"./floyd-warshall":151,"./is-acyclic":153,"./postorder":154,"./preorder":155,"./prim":156,"./tarjan":157,"./topsort":158}],153:[function(e,t,n){function r(e){try{i(e)}catch(t){if(t instanceof i.CycleException)return!1;throw t}return!0}var i=e("./topsort");t.exports=r},{"./topsort":158}],154:[function(e,t,n){function r(e,t){return i(e,t,"post")}var i=e("./dfs");t.exports=r},{"./dfs":147}],155:[function(e,t,n){function r(e,t){return i(e,t,"pre")}var i=e("./dfs");t.exports=r},{"./dfs":147}],156:[function(e,t,n){function r(e,t){function n(e){var n=e.v===r?e.w:e.v,i=l.priority(n);if(void 0!==i){var a=t(e);i>a&&(u[n]=r,l.decrease(n,a))}}var r,s=new a,u={},l=new o;if(0===e.nodeCount())return s;i.each(e.nodes(),function(e){l.add(e,Number.POSITIVE_INFINITY),s.setNode(e)}),l.decrease(e.nodes()[0],0);for(var c=!1;l.size()>0;){if(r=l.removeMin(),i.has(u,r))s.setEdge(r,u[r]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(r).forEach(n)}return s}var i=e("../lodash"),a=e("../graph"),o=e("../data/priority-queue");t.exports=r},{"../data/priority-queue":159,"../graph":160,"../lodash":163}],157:[function(e,t,n){function r(e){function t(s){var u=a[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),e.successors(s).forEach(function(e){i.has(a,e)?a[e].onStack&&(u.lowlink=Math.min(u.lowlink,a[e].index)):(t(e),u.lowlink=Math.min(u.lowlink,a[e].lowlink))}),u.lowlink===u.index){var l,c=[];do l=r.pop(),a[l].onStack=!1,c.push(l);while(s!==l);o.push(c)}}var n=0,r=[],a={},o=[];return e.nodes().forEach(function(e){i.has(a,e)||t(e)}),o}var i=e("../lodash");t.exports=r},{"../lodash":163}],158:[function(e,t,n){function r(e){function t(s){if(a.has(r,s))throw new i;a.has(n,s)||(r[s]=!0,n[s]=!0,a.each(e.predecessors(s),t),delete r[s],o.push(s))}var n={},r={},o=[];if(a.each(e.sinks(),t),a.size(n)!==e.nodeCount())throw new i;return o}function i(){}var a=e("../lodash");t.exports=r,r.CycleException=i},{"../lodash":163}],159:[function(e,t,n){function r(){this._arr=[],this._keyIndices={}}var i=e("../lodash");t.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(e){return e.key})},r.prototype.has=function(e){return i.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];return void 0!==t?this._arr[t].priority:void 0},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!i.has(n,e)){var r=this._arr,a=r.length;return n[e]=a,r.push({key:e,priority:t}),this._decrease(a),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},r.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&(t=e>>1,!(n[t].priority<r));)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],a=n[t];n[e]=a,n[t]=i,r[a.key]=e,r[i.key]=t}},{"../lodash":163}],160:[function(e,t,n){"use strict";function r(e){this._isDirected=l.has(e,"directed")?e.directed:!0,this._isMultigraph=l.has(e,"multigraph")?e.multigraph:!1,this._isCompound=l.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=l.constant(void 0),this._defaultEdgeLabelFn=l.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[d]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function o(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var o=i;i=a,a=o}return i+f+a+f+(l.isUndefined(r)?c:r)}function s(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}function u(e,t){return o(e,t.v,t.w,t.name)}var l=e("./lodash");t.exports=r;var c="\x00",d="\x00",f="";r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(e){return this._label=e,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultNodeLabelFn=e,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return l.keys(this._nodes)},r.prototype.sources=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._in[e])},this)},r.prototype.sinks=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._out[e])},this)},r.prototype.setNodes=function(e,t){var n=arguments;return l.each(e,function(e){n.length>1?this.setNode(e,t):this.setNode(e)},this),this},r.prototype.setNode=function(e,t){return l.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=d,this._children[e]={},this._children[d][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},r.prototype.node=function(e){return this._nodes[e]},r.prototype.hasNode=function(e){return l.has(this._nodes,e)},r.prototype.removeNode=function(e){var t=this;if(l.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l.each(this.children(e),function(e){this.setParent(e)},this),delete this._children[e]),l.each(l.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],l.each(l.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},r.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(l.isUndefined(t))t=d;else{t+="";for(var n=t;!l.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},r.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},r.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==d)return t}},r.prototype.children=function(e){if(l.isUndefined(e)&&(e=d),this._isCompound){var t=this._children[e];if(t)return l.keys(t)}else{if(e===d)return this.nodes();if(this.hasNode(e))return[]}},r.prototype.predecessors=function(e){var t=this._preds[e];return t?l.keys(t):void 0},r.prototype.successors=function(e){var t=this._sucs[e];return t?l.keys(t):void 0},r.prototype.neighbors=function(e){var t=this.predecessors(e);return t?l.union(t,this.successors(e)):void 0},r.prototype.filterNodes=function(e){function t(e){var a=r.parent(e);return void 0===a||n.hasNode(a)?(i[e]=a,a):a in i?i[a]:t(a)}var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph()),l.each(this._nodes,function(t,r){e(r)&&n.setNode(r,t)},this),l.each(this._edgeObjs,function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,this.edge(e))},this);var r=this,i={};return this._isCompound&&l.each(n.nodes(),function(e){n.setParent(e,t(e))}),n},r.prototype.setDefaultEdgeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultEdgeLabelFn=e,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return l.values(this._edgeObjs)},r.prototype.setPath=function(e,t){var n=this,r=arguments;return l.reduce(e,function(e,i){return r.length>1?n.setEdge(e,i,t):n.setEdge(e,i),i}),this},r.prototype.setEdge=function(){var e,t,n,r,a=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(e=u.v,t=u.w,n=u.name,2===arguments.length&&(r=arguments[1],a=!0)):(e=u,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],a=!0)),e=""+e,t=""+t,l.isUndefined(n)||(n=""+n);var c=o(this._isDirected,e,t,n);if(l.has(this._edgeLabels,c))return a&&(this._edgeLabels[c]=r),this;if(!l.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=a?r:this._defaultEdgeLabelFn(e,t,n);var d=s(this._isDirected,e,t,n);return e=d.v,t=d.w,Object.freeze(d),this._edgeObjs[c]=d,i(this._preds[t],e),i(this._sucs[e],t),this._in[t][c]=d,this._out[e][c]=d,this._edgeCount++,this},r.prototype.edge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):o(this._isDirected,e,t,n);return this._edgeLabels[r]},r.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):o(this._isDirected,e,t,n);return l.has(this._edgeLabels,r)},r.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):o(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},r.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=l.values(n);return t?l.filter(r,function(e){return e.v===t}):r}},r.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=l.values(n);return t?l.filter(r,function(e){return e.w===t}):r}},r.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);return n?n.concat(this.outEdges(e,t)):void 0}},{"./lodash":163}],161:[function(e,t,n){t.exports={Graph:e("./graph"),version:e("./version")}},{"./graph":160,"./version":164}],162:[function(e,t,n){function r(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};return s.isUndefined(e.graph())||(t.value=s.clone(e.graph())),t}function i(e){return s.map(e.nodes(),function(t){var n=e.node(t),r=e.parent(t),i={v:t};return s.isUndefined(n)||(i.value=n),s.isUndefined(r)||(i.parent=r),i})}function a(e){return s.map(e.edges(),function(t){var n=e.edge(t),r={v:t.v,w:t.w};return s.isUndefined(t.name)||(r.name=t.name),s.isUndefined(n)||(r.value=n),r})}function o(e){var t=new u(e.options).setGraph(e.value);return s.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),s.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}var s=e("./lodash"),u=e("./graph");t.exports={write:r,read:o}},{"./graph":160,"./lodash":163}],163:[function(e,t,n){t.exports=e(123)},{lodash:165}],164:[function(e,t,n){t.exports="1.0.7"},{}],165:[function(e,t,n){(function(e){(function(){function r(e,t){if(e!==t){var n=null===e,r=e===S,i=e===e,a=null===t,o=t===S,s=t===t;if(e>t&&!a||!i||n&&!o&&s||r&&s)return 1;if(t>e&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function i(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function a(e,t,n){if(t!==t)return g(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function o(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function u(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function l(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);
return n}function c(e,t){return r(e.criteria,t.criteria)||e.index-t.index}function d(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,u=n.length;++i<s;){var l=r(a[i],o[i]);if(l){if(i>=u)return l;var c=n[i];return l*("asc"===c||c===!0?1:-1)}}return e.index-t.index}function f(e){return Xe[e]}function h(e){return $e[e]}function p(e,t,n){return t?e=He[e]:n&&(e=Ge[e]),"\\"+e}function v(e){return"\\"+Ge[e]}function g(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!==a)return i}return-1}function y(e){return!!e&&"object"==typeof e}function m(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function b(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=X,a[++i]=n);return a}function x(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,o[++a]=s)}return o}function w(e){for(var t=-1,n=e.length;++t<n&&m(e.charCodeAt(t)););return t}function _(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function E(e){return We[e]}function k(e){function t(e){if(y(e)&&!Ds(e)&&!(e instanceof K)){if(e instanceof m)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return hr(e)}return new m(e)}function n(){}function m(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Co,this.__views__=[]}function te(){var e=new K(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function re(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Xe(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ds(e),r=0>t,i=n?e.length:0,a=Wn(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=r?s:o-1,c=this.__iteratees__,d=c.length,f=0,h=Eo(u,this.__takeCount__);if(!n||q>i||i==u&&h==u)return nn(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;u--&&h>f;){l+=t;for(var v=-1,g=e[l];++v<d;){var y=c[v],m=y.iteratee,b=y.type,x=m(g);if(b==V)g=x;else if(!x){if(b==F)continue e;break e}}p[f++]=g}return p}function $e(){this.__data__={}}function We(e){return this.has(e)&&delete this.__data__[e]}function Ue(e){return"__proto__"==e?S:this.__data__[e]}function He(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Ge(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:yo(null),set:new co};t--;)this.push(e[t])}function Ke(e,t){var n=e.data,r="string"==typeof t||Oi(t)?n.set.has(t):n.hash[t];return r?0:-1}function Qe(e){var t=this.data;"string"==typeof e||Oi(e)?t.set.add(e):t.hash[e]=!0}function Je(e,t){for(var n=-1,r=e.length,i=-1,a=t.length,o=qa(r+a);++n<r;)o[n]=e[n];for(;++i<a;)o[n++]=t[i];return o}function et(e,t){var n=-1,r=e.length;for(t||(t=qa(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function at(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var u=e[i],l=+t(u);n(l,o)&&(o=l,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function ut(e,t){for(var n=-1,r=e.length,i=qa(r);++n<r;)i[n]=t(e[n],n,e);return i}function lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ft(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ht(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function pt(e,t){return e===S?t:e}function vt(e,t,n,r){return e!==S&&eo.call(r,n)?e:t}function gt(e,t,n){for(var r=-1,i=qs(t),a=i.length;++r<a;){var o=i[r],s=e[o],u=n(s,t[o],o,e,t);(u===u?u===s:s!==s)&&(s!==S||o in e)||(e[o]=u)}return e}function yt(e,t){return null==t?e:bt(t,qs(t),e)}function mt(e,t){for(var n=-1,r=null==e,i=!r&&Kn(e),a=i?e.length:0,o=t.length,s=qa(o);++n<o;){var u=t[n];i?s[n]=Qn(u,a)?e[u]:S:s[n]=r?S:e[u]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function xt(e,t,n){var r=typeof e;return"function"==r?t===S?e:on(e,t,n):null==e?Pa:"object"==r?Rt(e):t===S?Aa(e):qt(e,t)}function wt(e,t,n,r,i,a,o){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==S)return s;if(!Oi(e))return e;var u=Ds(e);if(u){if(s=Un(e),!t)return et(e,s)}else{var l=no.call(e),c=l==Z;if(l!=J&&l!=$&&(!c||i))return Ye[l]?Gn(e,l,t):i?e:{};if(s=Hn(c?{}:e),!t)return yt(s,e)}a||(a=[]),o||(o=[]);for(var d=a.length;d--;)if(a[d]==e)return o[d];return a.push(e),o.push(s),(u?tt:Mt)(e,function(r,i){s[i]=wt(r,t,n,i,e,a,o)}),s}function _t(e,t,n){if("function"!=typeof e)throw new Ga(Y);return fo(function(){e.apply(S,n)},t)}function Et(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=Yn(),s=o==a,u=s&&t.length>=q?vn(t):null,l=t.length;u&&(o=Ke,s=!1,t=u);e:for(;++i<n;){var c=e[i];if(s&&c===c){for(var d=l;d--;)if(t[d]===c)continue e;r.push(c)}else o(t,c,0)<0&&r.push(c)}return r}function kt(e,t){var n=!0;return Lo(e,function(e,r,i){return n=!!t(e,r,i)}),n}function St(e,t,n,r){var i=r,a=i;return Lo(e,function(e,o,s){var u=+t(e,o,s);(n(u,i)||u===r&&u===a)&&(i=u,a=e)}),a}function Tt(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===S||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Pt(e,t){var n=[];return Lo(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Ct(e,t,n,r){var i;return n(e,function(e,n,a){return t(e,n,a)?(i=r?n:e,!1):void 0}),i}function Dt(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];y(o)&&Kn(o)&&(n||Ds(o)||Si(o))?t?Dt(o,t,n,r):lt(r,o):n||(r[r.length]=o)}return r}function Nt(e,t){return zo(e,t,ea)}function Mt(e,t){return zo(e,t,qs)}function It(e,t){return Ro(e,t,qs)}function At(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];Ai(e[o])&&(a[++i]=o)}return a}function Ot(e,t,n){if(null!=e){n!==S&&n in dr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:S}}function Bt(e,t,n,r,i,a){return e===t?!0:null==e||null==t||!Oi(e)&&!y(t)?e!==e&&t!==t:Lt(e,t,Bt,n,r,i,a)}function Lt(e,t,n,r,i,a,o){var s=Ds(e),u=Ds(t),l=W,c=W;s||(l=no.call(e),l==$?l=J:l!=J&&(s=Yi(e))),u||(c=no.call(t),c==$?c=J:c!=J&&(u=Yi(t)));var d=l==J,f=c==J,h=l==c;if(h&&!s&&!d)return Rn(e,t,l);if(!i){var p=d&&eo.call(e,"__wrapped__"),v=f&&eo.call(t,"__wrapped__");if(p||v)return n(p?e.value():e,v?t.value():t,r,i,a,o)}if(!h)return!1;a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e),o.push(t);var y=(s?zn:qn)(e,t,n,r,i,a,o);return a.pop(),o.pop(),y}function jt(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=dr(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){o=t[r];var s=o[0],u=e[s],l=o[1];if(a&&o[2]){if(u===S&&!(s in e))return!1}else{var c=n?n(u,l,s):S;if(!(c===S?Bt(l,u,n,!0):c))return!1}}return!0}function zt(e,t){var n=-1,r=Kn(e)?qa(e.length):[];return Lo(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Rt(e){var t=Xn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==S||n in dr(e))}}return function(e){return jt(e,t)}}function qt(e,t){var n=Ds(e),r=er(e)&&rr(t),i=e+"";return e=fr(e),function(a){if(null==a)return!1;var o=i;if(a=dr(a),(n||!r)&&!(o in a)){if(a=1==e.length?a:Ot(a,Ht(e,0,-1)),null==a)return!1;o=Tr(e),a=dr(a)}return a[o]===t?t!==S||o in a:Bt(t,a[o],S,!0)}}function Ft(e,t,n,r,i){if(!Oi(e))return e;var a=Kn(t)&&(Ds(t)||Yi(t)),o=a?S:qs(t);return tt(o||t,function(s,u){if(o&&(u=s,s=t[u]),y(s))r||(r=[]),i||(i=[]),Vt(e,t,u,Ft,n,r,i);else{var l=e[u],c=n?n(l,s,u,e,t):S,d=c===S;d&&(c=s),c===S&&(!a||u in e)||!d&&(c===c?c===l:l!==l)||(e[u]=c)}}),e}function Vt(e,t,n,r,i,a,o){for(var s=a.length,u=t[n];s--;)if(a[s]==u)return void(e[n]=o[s]);var l=e[n],c=i?i(l,u,n,e,t):S,d=c===S;d&&(c=u,Kn(u)&&(Ds(u)||Yi(u))?c=Ds(l)?l:Kn(l)?et(l):[]:qi(u)||Si(u)?c=Si(l)?Hi(l):qi(l)?l:{}:d=!1),a.push(u),o.push(c),d?e[n]=r(c,u,i,a,o):(c===c?c!==l:l===l)&&(e[n]=c)}function Yt(e){return function(t){return null==t?S:t[e]}}function Xt(e){var t=e+"";return e=fr(e),function(n){return Ot(n,e,t)}}function $t(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Qn(r)){var i=r;ho.call(e,r,1)}}return e}function Wt(e,t){return e+mo(To()*(t-e+1))}function Ut(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Ht(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===S||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=qa(i);++r<i;)a[r]=e[r+t];return a}function Gt(e,t){var n;return Lo(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Kt(e,t,n){var r=Fn(),i=-1;t=ut(t,function(e){return r(e)});var a=zt(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Zt(a,function(e,t){return d(e,t,n)})}function Qt(e,t){var n=0;return Lo(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Jt(e,t){var n=-1,r=Yn(),i=e.length,o=r==a,s=o&&i>=q,u=s?vn():null,l=[];u?(r=Ke,o=!1):(s=!1,u=t?[]:l);e:for(;++n<i;){var c=e[n],d=t?t(c,n,e):c;if(o&&c===c){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(c)}else r(u,d,0)<0&&((t||s)&&u.push(d),l.push(c))}return l}function en(e,t){for(var n=-1,r=t.length,i=qa(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Ht(e,r?0:a,r?a+1:i):Ht(e,r?a+1:0,r?i:a)}function nn(e,t){var n=e;n instanceof K&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,lt([n],a.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Mo>=i){for(;i>r;){var a=r+i>>>1,o=e[a];(n?t>=o:t>o)&&null!==o?r=a+1:i=a}return i}return an(e,t,Pa,n)}function an(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,u=t===S;a>i;){var l=mo((i+a)/2),c=n(e[l]),d=c!==S,f=c===c;if(o)var h=f||r;else h=s?f&&d&&(r||null!=c):u?f&&(r||d):null==c?!1:r?t>=c:t>c;h?i=l+1:a=l}return Eo(a,No)}function on(e,t,n){if("function"!=typeof e)return Pa;if(t===S)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)};case 5:return function(n,r,i,a,o){return e.call(t,n,r,i,a,o)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new ao(e.byteLength),n=new po(t);return n.set(new po(e)),t}function un(e,t,n){for(var r=n.length,i=-1,a=_o(e.length-r,0),o=-1,s=t.length,u=qa(s+a);++o<s;)u[o]=t[o];for(;++i<r;)u[n[i]]=e[i];for(;a--;)u[o++]=e[i++];return u}function ln(e,t,n){for(var r=-1,i=n.length,a=-1,o=_o(e.length-i,0),s=-1,u=t.length,l=qa(o+u);++a<o;)l[a]=e[a];for(var c=a;++s<u;)l[c+s]=t[s];for(;++r<i;)l[c+n[r]]=e[a++];return l}function cn(e,t){return function(n,r,i){var a=t?t():{};if(r=Fn(r,i,3),Ds(n))for(var o=-1,s=n.length;++o<s;){var u=n[o];e(a,u,r(u,o,n),n)}else Lo(n,function(t,n,i){e(a,t,r(t,n,i),i)});return a}}function dn(e){return yi(function(t,n){var r=-1,i=null==t?0:n.length,a=i>2?n[i-2]:S,o=i>2?n[2]:S,s=i>1?n[i-1]:S;for("function"==typeof a?(a=on(a,s,5),i-=2):(a="function"==typeof s?s:S,i-=a?1:0),o&&Jn(n[0],n[1],o)&&(a=3>i?S:a,i=1);++r<i;){var u=n[r];u&&e(t,u,a)}return t})}function fn(e,t){return function(n,r){var i=n?Vo(n):0;if(!nr(i))return e(n,r);for(var a=t?i:-1,o=dr(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function hn(e){return function(t,n,r){for(var i=dr(t),a=r(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var u=a[s];if(n(i[u],u,i)===!1)break}return t}}function pn(e,t){function n(){var i=this&&this!==nt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=yn(e);return n}function vn(e){return yo&&co?new Ze(e):null}function gn(e){return function(t){for(var n=-1,r=ka(ca(t)),i=r.length,a="";++n<i;)a=e(a,r[n],n);return a}}function yn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bo(e.prototype),r=e.apply(n,t);return Oi(r)?r:n}}function mn(e){function t(n,r,i){i&&Jn(n,r,i)&&(r=S);var a=jn(n,e,S,S,S,S,S,r);return a.placeholder=t.placeholder,a}return t}function bn(e,t){return yi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(S,n))})}function xn(e,t){return function(n,r,i){if(i&&Jn(n,r,i)&&(r=S),r=Fn(r,i,3),1==r.length){n=Ds(n)?n:cr(n);var a=ot(n,r,e,t);if(!n.length||a!==t)return a}return St(n,r,e,t)}}function wn(e,t){return function(n,r,a){if(r=Fn(r,a,3),Ds(n)){var o=i(n,r,t);return o>-1?n[o]:S}return Ct(n,r,e)}}function _n(e){return function(t,n,r){return t&&t.length?(n=Fn(n,r,3),i(t,n,e)):-1}}function En(e){return function(t,n,r){return n=Fn(n,r,3),Ct(t,n,e,!0)}}function kn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,a=qa(n);e?r--:++r<n;){var o=a[i++]=arguments[r];if("function"!=typeof o)throw new Ga(Y);!t&&m.prototype.thru&&"wrapper"==Vn(o)&&(t=new m([],!0))}for(r=t?-1:n;++r<n;){o=a[r];var s=Vn(o),u="wrapper"==s?Fo(o):S;t=u&&tr(u[0])&&u[1]==(O|N|I|B)&&!u[4].length&&1==u[9]?t[Vn(u[0])].apply(t,u[3]):1==o.length&&tr(o)?t[s]():t.thru(o)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Ds(r)&&r.length>=q)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function Sn(e,t){return function(n,r,i){return"function"==typeof r&&i===S&&Ds(n)?e(n,r):t(n,on(r,i,3))}}function Tn(e){return function(t,n,r){return"function"==typeof n&&r===S||(n=on(n,r,3)),e(t,n,ea)}}function Pn(e){return function(t,n,r){return"function"==typeof n&&r===S||(n=on(n,r,3)),e(t,n)}}function Cn(e){return function(t,n,r){var i={};return n=Fn(n,r,3),Mt(t,function(t,r,a){var o=n(t,r,a);r=e?o:r,t=e?t:o,i[r]=t}),i}}function Dn(e){return function(t,n,r){return t=s(t),(e?t:"")+An(t,n,r)+(e?"":t)}}function Nn(e){var t=yi(function(n,r){var i=b(r,t.placeholder);return jn(n,e,S,r,i)});return t}function Mn(e,t){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&a===S&&Ds(n)?e(n,r,i,o):Ut(n,Fn(r,a,4),i,o,t)}}function In(e,t,n,r,i,a,o,s,u,l){function c(){for(var m=arguments.length,x=m,w=qa(m);x--;)w[x]=arguments[x];if(r&&(w=un(w,r,i)),a&&(w=ln(w,a,o)),p||g){var _=c.placeholder,E=b(w,_);if(m-=E.length,l>m){var k=s?et(s):S,T=_o(l-m,0),D=p?E:S,N=p?S:E,M=p?w:S,O=p?S:w;t|=p?I:A,t&=~(p?A:I),v||(t&=~(P|C));var B=[e,t,n,M,D,O,N,k,u,T],L=In.apply(S,B);return tr(e)&&Yo(L,B),L.placeholder=_,L}}var j=f?n:this,z=h?j[e]:e;return s&&(w=ur(w,s)),d&&u<w.length&&(w.length=u),this&&this!==nt&&this instanceof c&&(z=y||yn(e)),z.apply(j,w)}var d=t&O,f=t&P,h=t&C,p=t&N,v=t&D,g=t&M,y=h?S:yn(e);return c}function An(e,t,n){var r=e.length;if(t=+t,r>=t||!xo(t))return"";var i=t-r;return n=null==n?" ":n+"",ga(n,go(i/n.length)).slice(0,i)}function On(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,l=r.length,c=qa(l+s);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++t];var d=this&&this!==nt&&this instanceof i?o:e;return d.apply(a?n:this,c)}var a=t&P,o=yn(e);return i}function Bn(e){var t=Xa[e];return function(e,n){return n=n===S?0:+n||0,n?(n=uo(10,n),t(e*n)/n):t(e)}}function Ln(e){return function(t,n,r,i){var a=Fn(r);return null==r&&a===xt?rn(t,n,e):an(t,n,a(r,i,1),e)}}function jn(e,t,n,r,i,a,o,s){var u=t&C;if(!u&&"function"!=typeof e)throw new Ga(Y);var l=r?r.length:0;if(l||(t&=~(I|A),r=i=S),l-=i?i.length:0,t&A){var c=r,d=i;r=i=S}var f=u?S:Fo(e),h=[e,t,n,r,i,c,d,a,o,s];if(f&&(ir(h,f),t=h[1],s=h[9]),h[9]=null==s?u?0:e.length:_o(s-l,0)||0,t==P)var p=pn(h[0],h[2]);else p=t!=I&&t!=(P|I)||h[4].length?In.apply(S,h):On.apply(S,h);var v=f?qo:Yo;return v(p,h)}function zn(e,t,n,r,i,a,o){var s=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=e[s],d=t[s],f=r?r(i?d:c,i?c:d,s):S;if(f!==S){if(f)continue;return!1}if(i){if(!ft(t,function(e){return c===e||n(c,e,r,i,a,o)}))return!1}else if(c!==d&&!n(c,d,r,i,a,o))return!1}return!0}function Rn(e,t,n){switch(n){case U:case H:return+e==+t;case G:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case ee:case ne:return e==t+""}return!1}function qn(e,t,n,r,i,a,o){var s=qs(e),u=s.length,l=qs(t),c=l.length;if(u!=c&&!i)return!1;for(var d=u;d--;){var f=s[d];if(!(i?f in t:eo.call(t,f)))return!1}for(var h=i;++d<u;){f=s[d];var p=e[f],v=t[f],g=r?r(i?v:p,i?p:v,f):S;if(!(g===S?n(p,v,r,i,a,o):g))return!1;h||(h="constructor"==f)}if(!h){var y=e.constructor,m=t.constructor;if(y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function Fn(e,n,r){var i=t.callback||Sa;return i=i===Sa?xt:i,r?i(e,n,r):i}function Vn(e){for(var t=e.name,n=Oo[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Yn(e,n,r){var i=t.indexOf||kr;return i=i===kr?a:i,e?i(e,n,r):i}function Xn(e){for(var t=ta(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function $n(e,t){var n=null==e?S:e[t];return ji(n)?n:S}function Wn(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Eo(t,e+o);break;case"takeRight":e=_o(e,t-o)}}return{start:e,end:t}}function Un(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Hn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Wa),new t}function Gn(e,t,n){var r=e.constructor;switch(t){case ie:return sn(e);case U:case H:return new r(+e);case ae:case oe:case se:case ue:case le:case ce:case de:case fe:case he:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case Q:case ne:return new r(e);case ee:var a=new r(e.source,Ie.exec(e));a.lastIndex=e.lastIndex}return a}function Zn(e,t,n){null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Ot(e,Ht(t,0,-1)),t=Tr(t));var r=null==e?e:e[t];return null==r?S:r.apply(e,n)}function Kn(e){return null!=e&&nr(Vo(e))}function Qn(e,t){return e="number"==typeof e||Be.test(e)?+e:-1,t=null==t?Io:t,e>-1&&e%1==0&&t>e}function Jn(e,t,n){if(!Oi(n))return!1;var r=typeof t;if("number"==r?Kn(n)&&Qn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Se.test(e)||"number"==n)return!0;if(Ds(e))return!1;var r=!ke.test(e);return r||null!=t&&e in dr(t)}function tr(e){var n=Vn(e);if(!(n in K.prototype))return!1;var r=t[n];if(e===r)return!0;var i=Fo(r);return!!i&&e===i[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Io>=e}function rr(e){return e===e&&!Oi(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,a=O>i,o=r==O&&n==N||r==O&&n==B&&e[7].length<=t[8]||r==(O|B)&&n==N;if(!a&&!o)return e;r&P&&(e[2]=t[2],i|=n&P?0:D);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):et(s),e[4]=u?b(e[3],X):et(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?ln(u,s,t[6]):et(s),e[6]=u?b(e[5],X):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&O&&(e[8]=null==e[8]?t[8]:Eo(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ar(e,t){return e===S?t:Ns(e,t,ar)}function or(e,t){e=dr(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function sr(e,t){var n={};return Nt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=Eo(t.length,n),i=et(e);r--;){var a=t[r];e[r]=Qn(a,n)?i[a]:S}return e}function lr(e){for(var t=ea(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(Ds(e)||Si(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&Qn(s,r)||eo.call(e,s))&&o.push(s)}return o}function cr(e){return null==e?[]:Kn(e)?Oi(e)?e:Wa(e):aa(e)}function dr(e){return Oi(e)?e:Wa(e)}function fr(e){if(Ds(e))return e;var t=[];return s(e).replace(Te,function(e,n,r,i){t.push(r?i.replace(Ne,"$1"):n||e)}),t}function hr(e){return e instanceof K?e.clone():new m(e.__wrapped__,e.__chain__,et(e.__actions__))}function pr(e,t,n){t=(n?Jn(e,t,n):null==t)?1:_o(mo(t)||1,1);for(var r=0,i=e?e.length:0,a=-1,o=qa(go(i/t));i>r;)o[++a]=Ht(e,r,r+=t);return o}function vr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i}function gr(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),Ht(e,0>t?0:t)):[]}function yr(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Ht(e,0,0>t?0:t)):[]}function mr(e,t,n){return e&&e.length?tn(e,Fn(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,Fn(t,n,3),!0):[]}function xr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Jn(e,t,n)&&(n=0,r=i),Tt(e,t,n,r)):[]}function wr(e){return e?e[0]:S}function _r(e,t,n){var r=e?e.length:0;return n&&Jn(e,t,n)&&(t=!1),r?Dt(e,t):[]}function Er(e){var t=e?e.length:0;return t?Dt(e,!0):[]}function kr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?_o(r+n,0):n;else if(n){var i=rn(e,t);return r>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return a(e,t,n||0)}function Sr(e){return yr(e,1)}function Tr(e){var t=e?e.length:0;return t?e[t-1]:S}function Pr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?_o(r+n,0):Eo(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return g(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Cr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Yn(),i=e.length;++n<i;)for(var a=0,o=e[n];(a=r(t,o,a))>-1;)ho.call(t,a,1);return t}function Dr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=Fn(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return $t(e,a),r}function Nr(e){return gr(e,1)}function Mr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Jn(e,t,n)&&(t=0,n=r),Ht(e,t,n)):[]}function Ir(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),Ht(e,0,0>t?0:t)):[]}function Ar(e,t,n){var r=e?e.length:0;return r?((n?Jn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Ht(e,0>t?0:t)):[]}function Or(e,t,n){return e&&e.length?tn(e,Fn(t,n,3),!1,!0):[]}function Br(e,t,n){return e&&e.length?tn(e,Fn(t,n,3)):[]}function Lr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Jn(e,t,r)?S:t,t=!1);var o=Fn();return null==n&&o===xt||(n=o(n,r,3)),t&&Yn()==a?x(e,n):Jt(e,n)}function jr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Kn(e)?(n=_o(e.length,n),!0):void 0});for(var r=qa(n);++t<n;)r[t]=ut(e,Yt(t));return r}function zr(e,t,n){var r=e?e.length:0;if(!r)return[];var i=jr(e);return null==t?i:(t=on(t,n,4),ut(i,function(e){return ct(e,t,S,!0)}))}function Rr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Kn(n))var r=r?lt(Et(r,n),Et(n,r)):n}return r?Jt(r):[]}function qr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Ds(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Fr(e){var n=t(e);return n.__chain__=!0,n}function Vr(e,t,n){return t.call(n,e),e}function Yr(e,t,n){return t.call(n,e)}function Xr(){return Fr(this)}function $r(){return new m(this.value(),this.__chain__)}function Wr(e){for(var t,r=this;r instanceof n;){var i=hr(r);t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t}function Ur(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof K){var n=e;return this.__actions__.length&&(n=new K(this)),n=n.reverse(),n.__actions__.push({func:Yr,args:[t],thisArg:S}),new m(n,this.__chain__)}return this.thru(t)}function Hr(){return this.value()+""}function Gr(){return nn(this.__wrapped__,this.__actions__)}function Zr(e,t,n){var r=Ds(e)?at:kt;return n&&Jn(e,t,n)&&(t=S),"function"==typeof t&&n===S||(t=Fn(t,n,3)),r(e,t)}function Kr(e,t,n){var r=Ds(e)?st:Pt;return t=Fn(t,n,3),r(e,t)}function Qr(e,t){return is(e,Rt(t))}function Jr(e,t,n,r){var i=e?Vo(e):0;return nr(i)||(e=aa(e),i=e.length),n="number"!=typeof n||r&&Jn(t,n,r)?0:0>n?_o(i+n,0):n||0,"string"==typeof e||!Ds(e)&&Vi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Yn(e,t,n)>-1}function ei(e,t,n){var r=Ds(e)?ut:zt;return t=Fn(t,n,3),r(e,t)}function ti(e,t){return ei(e,Aa(t))}function ni(e,t,n){var r=Ds(e)?st:Pt;return t=Fn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Jn(e,t,n):null==t){e=cr(e);var r=e.length;return r>0?e[Wt(0,r-1)]:S}var i=-1,a=Ui(e),r=a.length,o=r-1;for(t=Eo(0>t?0:+t||0,r);++i<t;){var s=Wt(i,o),u=a[s];a[s]=a[i],a[i]=u}return a.length=t,a}function ii(e){return ri(e,Co)}function ai(e){var t=e?Vo(e):0;return nr(t)?t:qs(e).length}function oi(e,t,n){var r=Ds(e)?ft:Gt;return n&&Jn(e,t,n)&&(t=S),"function"==typeof t&&n===S||(t=Fn(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Jn(e,t,n)&&(t=S);var r=-1;t=Fn(t,n,3);var i=zt(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Zt(i,c)}function ui(e,t,n,r){return null==e?[]:(r&&Jn(t,n,r)&&(n=S),Ds(t)||(t=null==t?[]:[t]),Ds(n)||(n=null==n?[]:[n]),Kt(e,t,n))}function li(e,t){return Kr(e,Rt(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ga(Y);var n=e;e=t,t=n}return e=xo(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function di(e,t,n){return n&&Jn(e,t,n)&&(t=S),t=e&&null==t?e.length:_o(+t||0,0),jn(e,O,S,S,S,S,t)}function fi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ga(Y);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=S),n}}function hi(e,t,n){function r(){h&&oo(h),l&&oo(l),v=0,l=h=p=S}function i(t,n){n&&oo(n),l=h=p=S,t&&(v=vs(),c=e.apply(f,u),h||l||(u=f=S))}function a(){var e=t-(vs()-d);0>=e||e>t?i(p,l):h=fo(a,e)}function o(){i(y,h)}function s(){if(u=arguments,d=vs(),f=this,p=y&&(h||!m),g===!1)var n=m&&!h;else{l||m||(v=d);var r=g-(d-v),i=0>=r||r>g;i?(l&&(l=oo(l)),v=d,c=e.apply(f,u)):l||(l=fo(o,r))}return i&&h?h=oo(h):h||t===g||(h=fo(a,t)),n&&(i=!0,c=e.apply(f,u)),!i||h||l||(u=f=S),c}var u,l,c,d,f,h,p,v=0,g=!1,y=!0;if("function"!=typeof e)throw new Ga(Y);if(t=0>t?0:+t||0,n===!0){var m=!0;y=!1}else Oi(n)&&(m=!!n.leading,g="maxWait"in n&&_o(+n.maxWait||0,t),y="trailing"in n?!!n.trailing:y);return s.cancel=r,s}function pi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ga(Y);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new pi.Cache,n}function vi(e){if("function"!=typeof e)throw new Ga(Y);return function(){return!e.apply(this,arguments)}}function gi(e){return fi(2,e)}function yi(e,t){if("function"!=typeof e)throw new Ga(Y);return t=_o(t===S?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=_o(n.length-t,0),a=qa(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=qa(t+1);for(r=-1;++r<t;)o[r]=n[r];return o[t]=a,e.apply(this,o)}}function mi(e){if("function"!=typeof e)throw new Ga(Y);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ga(Y);return n===!1?r=!1:Oi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hi(e,t,{leading:r,maxWait:+t,trailing:i})}function xi(e,t){return t=null==t?Pa:t,jn(t,I,S,[e],[])}function wi(e,t,n,r){return t&&"boolean"!=typeof t&&Jn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?wt(e,t,on(n,r,1)):wt(e,t)}function _i(e,t,n){return"function"==typeof t?wt(e,!0,on(t,n,1)):wt(e,!0)}function Ei(e,t){return e>t}function ki(e,t){return e>=t}function Si(e){return y(e)&&Kn(e)&&eo.call(e,"callee")&&!lo.call(e,"callee")}function Ti(e){return e===!0||e===!1||y(e)&&no.call(e)==U}function Pi(e){return y(e)&&no.call(e)==H}function Ci(e){return!!e&&1===e.nodeType&&y(e)&&!qi(e)}function Di(e){return null==e?!0:Kn(e)&&(Ds(e)||Vi(e)||Si(e)||y(e)&&Ai(e.splice))?!e.length:!qs(e).length}function Ni(e,t,n,r){n="function"==typeof n?on(n,r,3):S;var i=n?n(e,t):S;return i===S?Bt(e,t,n):!!i}function Mi(e){return y(e)&&"string"==typeof e.message&&no.call(e)==G}function Ii(e){return"number"==typeof e&&xo(e)}function Ai(e){return Oi(e)&&no.call(e)==Z}function Oi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Bi(e,t,n,r){return n="function"==typeof n?on(n,r,3):S,jt(e,Xn(t),n)}function Li(e){return Ri(e)&&e!=+e}function ji(e){return null==e?!1:Ai(e)?io.test(Ja.call(e)):y(e)&&Oe.test(e)}function zi(e){return null===e}function Ri(e){return"number"==typeof e||y(e)&&no.call(e)==Q}function qi(e){var t;if(!y(e)||no.call(e)!=J||Si(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Nt(e,function(e,t){n=t}),n===S||eo.call(e,n)}function Fi(e){return Oi(e)&&no.call(e)==ee}function Vi(e){return"string"==typeof e||y(e)&&no.call(e)==ne}function Yi(e){return y(e)&&nr(e.length)&&!!Ve[no.call(e)]}function Xi(e){return e===S}function $i(e,t){return t>e}function Wi(e,t){return t>=e}function Ui(e){var t=e?Vo(e):0;return nr(t)?t?et(e):[]:aa(e)}function Hi(e){return bt(e,ea(e))}function Gi(e,t,n){var r=Bo(e);return n&&Jn(e,t,n)&&(t=S),t?yt(r,t):r}function Zi(e){return At(e,ea(e))}function Ki(e,t,n){var r=null==e?S:Ot(e,fr(t),t+"");return r===S?n:r}function Qi(e,t){if(null==e)return!1;var n=eo.call(e,t);if(!n&&!er(t)){if(t=fr(t),e=1==t.length?e:Ot(e,Ht(t,0,-1)),null==e)return!1;t=Tr(t),n=eo.call(e,t)}return n||nr(e.length)&&Qn(t,e.length)&&(Ds(e)||Si(e))}function Ji(e,t,n){n&&Jn(e,t,n)&&(t=S);for(var r=-1,i=qs(e),a=i.length,o={};++r<a;){var s=i[r],u=e[s];t?eo.call(o,u)?o[u].push(s):o[u]=[s]:o[u]=s}return o}function ea(e){if(null==e)return[];Oi(e)||(e=Wa(e));var t=e.length;t=t&&nr(t)&&(Ds(e)||Si(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=qa(t),o=t>0;++r<t;)a[r]=r+"";for(var s in e)o&&Qn(s,t)||"constructor"==s&&(i||!eo.call(e,s))||a.push(s);return a}function ta(e){e=dr(e);for(var t=-1,n=qs(e),r=n.length,i=qa(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function na(e,t,n){var r=null==e?S:e[t];return r===S&&(null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Ot(e,Ht(t,0,-1)),r=null==e?S:e[Tr(t)]),r=r===S?n:r),Ai(r)?r.call(e):r}function ra(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:fr(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var u=t[i];Oi(s)&&(i==o?s[u]=n:null==s[u]&&(s[u]=Qn(t[i+1])?[]:{})),s=s[u]}return e}function ia(e,t,n,r){var i=Ds(e)||Yi(e);if(t=Fn(t,r,4),null==n)if(i||Oi(e)){var a=e.constructor;n=i?Ds(e)?new a:[]:Bo(Ai(a)?a.prototype:S)}else n={};return(i?tt:Mt)(e,function(e,r,i){return t(n,e,r,i)}),n}function aa(e){return en(e,qs(e))}function oa(e){return en(e,ea(e))}function sa(e,t,n){return t=+t||0,n===S?(n=t,t=0):n=+n||0,e>=Eo(t,n)&&e<_o(t,n)}function ua(e,t,n){n&&Jn(e,t,n)&&(t=n=S);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=To();return Eo(e+a*(t-e+so("1e-"+((a+"").length-1))),t)}return Wt(e,t)}function la(e){return e=s(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function ca(e){return e=s(e),e&&e.replace(Le,f).replace(De,"")}function da(e,t,n){e=s(e),t+="";var r=e.length;return n=n===S?r:Eo(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fa(e){return e=s(e),e&&xe.test(e)?e.replace(me,h):e}function ha(e){return e=s(e),e&&Ce.test(e)?e.replace(Pe,p):e||"(?:)"}function pa(e,t,n){e=s(e),t=+t;var r=e.length;if(r>=t||!xo(t))return e;var i=(t-r)/2,a=mo(i),o=go(i);return n=An("",o,n),n.slice(0,a)+e+n}function va(e,t,n){return(n?Jn(e,t,n):null==t)?t=0:t&&(t=+t),e=ba(e),So(e,t||(Ae.test(e)?16:10))}function ga(e,t){var n="";if(e=s(e),t=+t,1>t||!e||!xo(t))return n;do t%2&&(n+=e),t=mo(t/2),e+=e;while(t);
return n}function ya(e,t,n){return e=s(e),n=null==n?0:Eo(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function ma(e,n,r){var i=t.templateSettings;r&&Jn(e,n,r)&&(n=r=S),e=s(e),n=gt(yt({},r||n),i,vt);var a,o,u=gt(yt({},n.imports),i.imports,vt),l=qs(u),c=en(u,l),d=0,f=n.interpolate||je,h="__p += '",p=Ua((n.escape||je).source+"|"+f.source+"|"+(f===Ee?Me:je).source+"|"+(n.evaluate||je).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(d,u).replace(ze,v),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=u+t.length,t}),h+="';\n";var y=n.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(pe,""):h).replace(ve,"$1").replace(ge,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Ks(function(){return Ya(l,g+"return "+h).apply(S,c)});if(m.source=h,Mi(m))throw m;return m}function ba(e,t,n){var r=e;return(e=s(e))?(n?Jn(r,t,n):null==t)?e.slice(w(e),_(e)+1):(t+="",e.slice(u(e,t),l(e,t)+1)):e}function xa(e,t,n){var r=e;return e=s(e),e?(n?Jn(r,t,n):null==t)?e.slice(w(e)):e.slice(u(e,t+"")):e}function wa(e,t,n){var r=e;return e=s(e),e?(n?Jn(r,t,n):null==t)?e.slice(0,_(e)+1):e.slice(0,l(e,t+"")+1):e}function _a(e,t,n){n&&Jn(e,t,n)&&(t=S);var r=L,i=j;if(null!=t)if(Oi(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?s(t.omission):i}else r=+t||0;if(e=s(e),r>=e.length)return e;var o=r-i.length;if(1>o)return i;var u=e.slice(0,o);if(null==a)return u+i;if(Fi(a)){if(e.slice(o).search(a)){var l,c,d=e.slice(0,o);for(a.global||(a=Ua(a.source,(Ie.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(d);)c=l.index;u=u.slice(0,null==c?o:c)}}else if(e.indexOf(a,o)!=o){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+i}function Ea(e){return e=s(e),e&&be.test(e)?e.replace(ye,E):e}function ka(e,t,n){return n&&Jn(e,t,n)&&(t=S),e=s(e),e.match(t||Re)||[]}function Sa(e,t,n){return n&&Jn(e,t,n)&&(t=S),y(e)?Ca(e):xt(e,t)}function Ta(e){return function(){return e}}function Pa(e){return e}function Ca(e){return Rt(wt(e,!0))}function Da(e,t){return qt(e,wt(t,!0))}function Na(e,t,n){if(null==n){var r=Oi(t),i=r?qs(t):S,a=i&&i.length?At(t,i):S;(a?a.length:r)||(a=!1,n=t,t=e,e=this)}a||(a=At(t,qs(t)));var o=!0,s=-1,u=Ai(e),l=a.length;n===!1?o=!1:Oi(n)&&"chain"in n&&(o=n.chain);for(;++s<l;){var c=a[s],d=t[c];e[c]=d,u&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(o||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,lt([this.value()],arguments))}}(d))}return e}function Ma(){return nt._=ro,this}function Ia(){}function Aa(e){return er(e)?Yt(e):Xt(e)}function Oa(e){return function(t){return Ot(e,fr(t),t+"")}}function Ba(e,t,n){n&&Jn(e,t,n)&&(t=n=S),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=_o(go((t-e)/(n||1)),0),a=qa(i);++r<i;)a[r]=e,e+=n;return a}function La(e,t,n){if(e=mo(e),1>e||!xo(e))return[];var r=-1,i=qa(Eo(e,Do));for(t=on(t,n,1);++r<e;)Do>r?i[r]=t(r):t(r);return i}function ja(e){var t=++to;return s(e)+t}function za(e,t){return(+e||0)+(+t||0)}function Ra(e,t,n){return n&&Jn(e,t,n)&&(t=S),t=Fn(t,n,3),1==t.length?ht(Ds(e)?e:cr(e),t):Qt(e,t)}e=e?rt.defaults(nt.Object(),e,rt.pick(nt,qe)):nt;var qa=e.Array,Fa=e.Date,Va=e.Error,Ya=e.Function,Xa=e.Math,$a=e.Number,Wa=e.Object,Ua=e.RegExp,Ha=e.String,Ga=e.TypeError,Za=qa.prototype,Ka=Wa.prototype,Qa=Ha.prototype,Ja=Ya.prototype.toString,eo=Ka.hasOwnProperty,to=0,no=Ka.toString,ro=nt._,io=Ua("^"+Ja.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=e.ArrayBuffer,oo=e.clearTimeout,so=e.parseFloat,uo=Xa.pow,lo=Ka.propertyIsEnumerable,co=$n(e,"Set"),fo=e.setTimeout,ho=Za.splice,po=e.Uint8Array,vo=$n(e,"WeakMap"),go=Xa.ceil,yo=$n(Wa,"create"),mo=Xa.floor,bo=$n(qa,"isArray"),xo=e.isFinite,wo=$n(Wa,"keys"),_o=Xa.max,Eo=Xa.min,ko=$n(Fa,"now"),So=e.parseInt,To=Xa.random,Po=$a.NEGATIVE_INFINITY,Co=$a.POSITIVE_INFINITY,Do=4294967295,No=Do-1,Mo=Do>>>1,Io=9007199254740991,Ao=vo&&new vo,Oo={};t.support={};t.templateSettings={escape:we,evaluate:_e,interpolate:Ee,variable:"",imports:{_:t}};var Bo=function(){function e(){}return function(t){if(Oi(t)){e.prototype=t;var n=new e;e.prototype=S}return n||{}}}(),Lo=fn(Mt),jo=fn(It,!0),zo=hn(),Ro=hn(!0),qo=Ao?function(e,t){return Ao.set(e,t),e}:Pa,Fo=Ao?function(e){return Ao.get(e)}:Ia,Vo=Yt("length"),Yo=function(){var e=0,t=0;return function(n,r){var i=vs(),a=R-(i-t);if(t=i,a>0){if(++e>=z)return n}else e=0;return qo(n,r)}}(),Xo=yi(function(e,t){return y(e)&&Kn(e)?Et(e,Dt(t,!1,!0)):[]}),$o=_n(),Wo=_n(!0),Uo=yi(function(e){for(var t=e.length,n=t,r=qa(d),i=Yn(),o=i==a,s=[];n--;){var u=e[n]=Kn(u=e[n])?u:[];r[n]=o&&u.length>=120?vn(n&&u):null}var l=e[0],c=-1,d=l?l.length:0,f=r[0];e:for(;++c<d;)if(u=l[c],(f?Ke(f,u):i(s,u,0))<0){for(var n=t;--n;){var h=r[n];if((h?Ke(h,u):i(e[n],u,0))<0)continue e}f&&f.push(u),s.push(u)}return s}),Ho=yi(function(e,t){t=Dt(t);var n=mt(e,t);return $t(e,t.sort(r)),n}),Go=Ln(),Zo=Ln(!0),Ko=yi(function(e){return Jt(Dt(e,!1,!0))}),Qo=yi(function(e,t){return Kn(e)?Et(e,t):[]}),Jo=yi(jr),es=yi(function(e){var t=e.length,n=t>2?e[t-2]:S,r=t>1?e[t-1]:S;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):S,r=S),e.length=t,zr(e,n,r)}),ts=yi(function(e){return e=Dt(e),this.thru(function(t){return Je(Ds(t)?t:[dr(t)],e)})}),ns=yi(function(e,t){return mt(e,Dt(t))}),rs=cn(function(e,t,n){eo.call(e,n)?++e[n]:e[n]=1}),is=wn(Lo),as=wn(jo,!0),os=Sn(tt,Lo),ss=Sn(it,jo),us=cn(function(e,t,n){eo.call(e,n)?e[n].push(t):e[n]=[t]}),ls=cn(function(e,t,n){e[n]=t}),cs=yi(function(e,t,n){var r=-1,i="function"==typeof t,a=er(t),o=Kn(e)?qa(e.length):[];return Lo(e,function(e){var s=i?t:a&&null!=e?e[t]:S;o[++r]=s?s.apply(e,n):Zn(e,t,n)}),o}),ds=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),fs=Mn(ct,Lo),hs=Mn(dt,jo),ps=yi(function(e,t){if(null==e)return[];var n=t[2];return n&&Jn(t[0],t[1],n)&&(t.length=1),Kt(e,Dt(t),[])}),vs=ko||function(){return(new Fa).getTime()},gs=yi(function(e,t,n){var r=P;if(n.length){var i=b(n,gs.placeholder);r|=I}return jn(e,r,t,n,i)}),ys=yi(function(e,t){t=t.length?Dt(t):Zi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=jn(e[i],P,e)}return e}),ms=yi(function(e,t,n){var r=P|C;if(n.length){var i=b(n,ms.placeholder);r|=I}return jn(t,r,e,n,i)}),bs=mn(N),xs=mn(M),ws=yi(function(e,t){return _t(e,1,t)}),_s=yi(function(e,t,n){return _t(e,t,n)}),Es=kn(),ks=kn(!0),Ss=yi(function(e,t){if(t=Dt(t),"function"!=typeof e||!at(t,o))throw new Ga(Y);var n=t.length;return yi(function(r){for(var i=Eo(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Ts=Nn(I),Ps=Nn(A),Cs=yi(function(e,t){return jn(e,B,S,S,S,Dt(t))}),Ds=bo||function(e){return y(e)&&nr(e.length)&&no.call(e)==W},Ns=dn(Ft),Ms=dn(function(e,t,n){return n?gt(e,t,n):yt(e,t)}),Is=bn(Ms,pt),As=bn(Ns,ar),Os=En(Mt),Bs=En(It),Ls=Tn(zo),js=Tn(Ro),zs=Pn(Mt),Rs=Pn(It),qs=wo?function(e){var t=null==e?S:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Kn(e)?lr(e):Oi(e)?wo(e):[]}:lr,Fs=Cn(!0),Vs=Cn(),Ys=yi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(Dt(t),Ha);return or(e,Et(ea(e),t))}var n=on(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Xs=yi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,on(t[0],t[1],3)):or(e,Dt(t))}),$s=gn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Ws=gn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Us=Dn(),Hs=Dn(!0),Gs=gn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zs=gn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Ks=yi(function(e,t){try{return e.apply(S,t)}catch(n){return Mi(n)?n:new Va(n)}}),Qs=yi(function(e,t){return function(n){return Zn(n,e,t)}}),Js=yi(function(e,t){return function(n){return Zn(e,n,t)}}),eu=Bn("ceil"),tu=Bn("floor"),nu=xn(Ei,Po),ru=xn($i,Co),iu=Bn("round");return t.prototype=n.prototype,m.prototype=Bo(n.prototype),m.prototype.constructor=m,K.prototype=Bo(n.prototype),K.prototype.constructor=K,$e.prototype["delete"]=We,$e.prototype.get=Ue,$e.prototype.has=He,$e.prototype.set=Ge,Ze.prototype.push=Qe,pi.Cache=$e,t.after=ci,t.ary=di,t.assign=Ms,t.at=ns,t.before=fi,t.bind=gs,t.bindAll=ys,t.bindKey=ms,t.callback=Sa,t.chain=Fr,t.chunk=pr,t.compact=vr,t.constant=Ta,t.countBy=rs,t.create=Gi,t.curry=bs,t.curryRight=xs,t.debounce=hi,t.defaults=Is,t.defaultsDeep=As,t.defer=ws,t.delay=_s,t.difference=Xo,t.drop=gr,t.dropRight=yr,t.dropRightWhile=mr,t.dropWhile=br,t.fill=xr,t.filter=Kr,t.flatten=_r,t.flattenDeep=Er,t.flow=Es,t.flowRight=ks,t.forEach=os,t.forEachRight=ss,t.forIn=Ls,t.forInRight=js,t.forOwn=zs,t.forOwnRight=Rs,t.functions=Zi,t.groupBy=us,t.indexBy=ls,t.initial=Sr,t.intersection=Uo,t.invert=Ji,t.invoke=cs,t.keys=qs,t.keysIn=ea,t.map=ei,t.mapKeys=Fs,t.mapValues=Vs,t.matches=Ca,t.matchesProperty=Da,t.memoize=pi,t.merge=Ns,t.method=Qs,t.methodOf=Js,t.mixin=Na,t.modArgs=Ss,t.negate=vi,t.omit=Ys,t.once=gi,t.pairs=ta,t.partial=Ts,t.partialRight=Ps,t.partition=ds,t.pick=Xs,t.pluck=ti,t.property=Aa,t.propertyOf=Oa,t.pull=Cr,t.pullAt=Ho,t.range=Ba,t.rearg=Cs,t.reject=ni,t.remove=Dr,t.rest=Nr,t.restParam=yi,t.set=ra,t.shuffle=ii,t.slice=Mr,t.sortBy=si,t.sortByAll=ps,t.sortByOrder=ui,t.spread=mi,t.take=Ir,t.takeRight=Ar,t.takeRightWhile=Or,t.takeWhile=Br,t.tap=Vr,t.throttle=bi,t.thru=Yr,t.times=La,t.toArray=Ui,t.toPlainObject=Hi,t.transform=ia,t.union=Ko,t.uniq=Lr,t.unzip=jr,t.unzipWith=zr,t.values=aa,t.valuesIn=oa,t.where=li,t.without=Qo,t.wrap=xi,t.xor=Rr,t.zip=Jo,t.zipObject=qr,t.zipWith=es,t.backflow=ks,t.collect=ei,t.compose=ks,t.each=os,t.eachRight=ss,t.extend=Ms,t.iteratee=Sa,t.methods=Zi,t.object=qr,t.select=Kr,t.tail=Nr,t.unique=Lr,Na(t,t),t.add=za,t.attempt=Ks,t.camelCase=$s,t.capitalize=la,t.ceil=eu,t.clone=wi,t.cloneDeep=_i,t.deburr=ca,t.endsWith=da,t.escape=fa,t.escapeRegExp=ha,t.every=Zr,t.find=is,t.findIndex=$o,t.findKey=Os,t.findLast=as,t.findLastIndex=Wo,t.findLastKey=Bs,t.findWhere=Qr,t.first=wr,t.floor=tu,t.get=Ki,t.gt=Ei,t.gte=ki,t.has=Qi,t.identity=Pa,t.includes=Jr,t.indexOf=kr,t.inRange=sa,t.isArguments=Si,t.isArray=Ds,t.isBoolean=Ti,t.isDate=Pi,t.isElement=Ci,t.isEmpty=Di,t.isEqual=Ni,t.isError=Mi,t.isFinite=Ii,t.isFunction=Ai,t.isMatch=Bi,t.isNaN=Li,t.isNative=ji,t.isNull=zi,t.isNumber=Ri,t.isObject=Oi,t.isPlainObject=qi,t.isRegExp=Fi,t.isString=Vi,t.isTypedArray=Yi,t.isUndefined=Xi,t.kebabCase=Ws,t.last=Tr,t.lastIndexOf=Pr,t.lt=$i,t.lte=Wi,t.max=nu,t.min=ru,t.noConflict=Ma,t.noop=Ia,t.now=vs,t.pad=pa,t.padLeft=Us,t.padRight=Hs,t.parseInt=va,t.random=ua,t.reduce=fs,t.reduceRight=hs,t.repeat=ga,t.result=na,t.round=iu,t.runInContext=k,t.size=ai,t.snakeCase=Gs,t.some=oi,t.sortedIndex=Go,t.sortedLastIndex=Zo,t.startCase=Zs,t.startsWith=ya,t.sum=Ra,t.template=ma,t.trim=ba,t.trimLeft=xa,t.trimRight=wa,t.trunc=_a,t.unescape=Ea,t.uniqueId=ja,t.words=ka,t.all=Zr,t.any=oi,t.contains=Jr,t.eq=Ni,t.detect=is,t.foldl=fs,t.foldr=hs,t.head=wr,t.include=Jr,t.inject=fs,Na(t,function(){var e={};return Mt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=T,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){K.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new K(this);n=null==n?1:_o(mo(n)||0,0);var i=this.clone();return r?i.__takeCount__=Eo(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},K.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=V;K.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Fn(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");K.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Rt:Aa;K.prototype[e]=function(e){return this[n](r(e))}}),K.prototype.compact=function(){return this.filter(Pa)},K.prototype.reject=function(e,t){return e=Fn(e,t,1),this.filter(function(t){return!e(t)})},K.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new K(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==S&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},K.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},K.prototype.toArray=function(){return this.take(Co)},Mt(K.prototype,function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),a=t[i?"take"+("last"==n?"Right":""):n];a&&(t.prototype[n]=function(){var t=i?[1]:arguments,n=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,u=o instanceof K,l=t[0],c=u||Ds(o);c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=function(e){return i&&n?a(e,1)[0]:a.apply(S,lt([e],t))},f={func:Yr,args:[d],thisArg:S},h=u&&!s;if(i&&!n)return h?(o=o.clone(),o.__actions__.push(f),e.call(o)):a.call(S,this.value())[0];if(!i&&c){o=h?o:new K(this);var p=e.apply(o,t);return p.__actions__.push(f),new m(p,n)}return this.thru(d)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Qa:Za)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Mt(K.prototype,function(e,n){var r=t[n];if(r){var i=r.name,a=Oo[i]||(Oo[i]=[]);a.push({name:n,func:r})}}),Oo[In(S,C).name]=[{name:"wrapper",func:S}],K.prototype.clone=te,K.prototype.reverse=re,K.prototype.value=Xe,t.prototype.chain=Xr,t.prototype.commit=$r,t.prototype.concat=ts,t.prototype.plant=Wr,t.prototype.reverse=Ur,t.prototype.toString=Hr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Gr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var S,T="3.10.1",P=1,C=2,D=4,N=8,M=16,I=32,A=64,O=128,B=256,L=30,j="...",z=150,R=16,q=200,F=1,V=2,Y="Expected a function",X="__lodash_placeholder__",$="[object Arguments]",W="[object Array]",U="[object Boolean]",H="[object Date]",G="[object Error]",Z="[object Function]",K="[object Map]",Q="[object Number]",J="[object Object]",ee="[object RegExp]",te="[object Set]",ne="[object String]",re="[object WeakMap]",ie="[object ArrayBuffer]",ae="[object Float32Array]",oe="[object Float64Array]",se="[object Int8Array]",ue="[object Int16Array]",le="[object Int32Array]",ce="[object Uint8Array]",de="[object Uint8ClampedArray]",fe="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,be=RegExp(ye.source),xe=RegExp(me.source),we=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,Ee=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Se=/^\w*$/,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Pe=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ce=RegExp(Pe.source),De=/[\u0300-\u036f\ufe20-\ufe23]/g,Ne=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ie=/\w*$/,Ae=/^0[xX]/,Oe=/^\[object .+?Constructor\]$/,Be=/^\d+$/,Le=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,je=/($^)/,ze=/['\n\r\u2028\u2029\\]/g,Re=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),qe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Fe=-1,Ve={};Ve[ae]=Ve[oe]=Ve[se]=Ve[ue]=Ve[le]=Ve[ce]=Ve[de]=Ve[fe]=Ve[he]=!0,Ve[$]=Ve[W]=Ve[ie]=Ve[U]=Ve[H]=Ve[G]=Ve[Z]=Ve[K]=Ve[Q]=Ve[J]=Ve[ee]=Ve[te]=Ve[ne]=Ve[re]=!1;var Ye={};Ye[$]=Ye[W]=Ye[ie]=Ye[U]=Ye[H]=Ye[ae]=Ye[oe]=Ye[se]=Ye[ue]=Ye[le]=Ye[Q]=Ye[J]=Ye[ee]=Ye[ne]=Ye[ce]=Ye[de]=Ye[fe]=Ye[he]=!0,Ye[G]=Ye[Z]=Ye[K]=Ye[te]=Ye[re]=!1;var Xe={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ue={"function":!0,object:!0},He={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=Ue[typeof n]&&n&&!n.nodeType&&n,Ke=Ue[typeof t]&&t&&!t.nodeType&&t,Qe=Ze&&Ke&&"object"==typeof e&&e&&e.Object&&e,Je=Ue[typeof self]&&self&&self.Object&&self,et=Ue[typeof window]&&window&&window.Object&&window,tt=Ke&&Ke.exports===Ze&&Ze,nt=Qe||et!==(this&&this.window)&&et||Je||this,rt=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=rt,define(function(){return rt})):Ze&&Ke?tt?(Ke.exports=rt)._=rt:Ze._=rt:nt._=rt}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],166:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],167:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,i="/"===o.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),a="/"===o(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&a&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),a=r(t.split("/")),o=Math.min(i.length,a.length),s=o,u=0;o>u;u++)if(i[u]!==a[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(a.slice(s)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("g5I+bs"))},{"g5I+bs":168}],168:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],169:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,a,o){for(;a>=0&&o>a;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}return function(n,r,i,a){r=w(r,a,4);var o=!C(n)&&x.keys(n),s=(o||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[o?o[u]:u],u+=e),t(n,r,i,o,u,s)}}function r(e){return function(t,n,r){n=_(n,r);for(var i=P(t),a=e>0?0:i-1;a>=0&&i>a;a+=e)if(n(t[a],a,t))return a;return-1}}function i(e,t,n){return function(r,i,a){var o=0,s=P(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(f.call(r,o,s),x.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&s>a;a+=e)if(r[a]===i)return a;return-1}}function a(e,t){var n=A.length,r=e.constructor,i=x.isFunction(r)&&r.prototype||l,a="constructor";for(x.has(e,a)&&!x.contains(t,a)&&t.push(a);n--;)a=A[n],a in e&&e[a]!==i[a]&&!x.contains(t,a)&&t.push(a)}var o=this,s=o._,u=Array.prototype,l=Object.prototype,c=Function.prototype,d=u.push,f=u.slice,h=l.toString,p=l.hasOwnProperty,v=Array.isArray,g=Object.keys,y=c.bind,m=Object.create,b=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=x),n._=x):o._=x,x.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?x.identity:x.isFunction(e)?w(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return _(e,t,1/0)};var E=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;s>u;u++){var l=o[u];t&&void 0!==n[l]||(n[l]=a[l])}return n}},k=function(e){if(!x.isObject(e))return{};if(m)return m(e);b.prototype=e;var t=new b;return b.prototype=null,t},S=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,P=S("length"),C=function(e){var t=P(e);return"number"==typeof t&&t>=0&&T>=t};x.each=x.forEach=function(e,t,n){t=w(t,n);var r,i;if(C(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var a=x.keys(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},x.map=x.collect=function(e,t,n){t=_(t,n);for(var r=!C(e)&&x.keys(e),i=(r||e).length,a=Array(i),o=0;i>o;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},x.reduce=x.foldl=x.inject=e(1),x.reduceRight=x.foldr=e(-1),x.find=x.detect=function(e,t,n){var r;return r=C(e)?x.findIndex(e,t,n):x.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},x.filter=x.select=function(e,t,n){var r=[];return t=_(t,n),x.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},x.reject=function(e,t,n){return x.filter(e,x.negate(_(t)),n)},x.every=x.all=function(e,t,n){t=_(t,n);for(var r=!C(e)&&x.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},x.some=x.any=function(e,t,n){t=_(t,n);for(var r=!C(e)&&x.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n,r){return C(e)||(e=x.values(e)),("number"!=typeof n||r)&&(n=0),x.indexOf(e,t,n)>=0},x.invoke=function(e,t){var n=f.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var r,i,a=-(1/0),o=-(1/0);if(null==t&&null!=e){e=C(e)?e:x.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>a&&(a=r)}else t=_(t,n),x.each(e,function(e,n,r){i=t(e,n,r),(i>o||i===-(1/0)&&a===-(1/0))&&(a=e,o=i)});return a},x.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=C(e)?e:x.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],a>r&&(a=r)}else t=_(t,n),x.each(e,function(e,n,r){i=t(e,n,r),(o>i||i===1/0&&a===1/0)&&(a=e,o=i)});return a},x.shuffle=function(e){for(var t,n=C(e)?e:x.values(e),r=n.length,i=Array(r),a=0;r>a;a++)t=x.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},x.sample=function(e,t,n){return null==t||n?(C(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=_(t,n),x.pluck(x.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,r){var i={};return n=_(n,r),x.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};x.groupBy=D(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=D(function(e,t,n){e[n]=t}),x.countBy=D(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?f.call(e):C(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:C(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=_(t,n);var r=[],i=[];return x.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},x.first=x.head=x.take=function(e,t,n){return null!=e?null==t||n?e[0]:x.initial(e,e.length-t):void 0},x.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){return null!=e?null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t)):void 0},x.rest=x.tail=x.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var N=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=P(e);s>o;o++){var u=e[o];if(C(u)&&(x.isArray(u)||x.isArguments(u))){t||(u=N(u,t,n));var l=0,c=u.length;for(i.length+=c;c>l;)i[a++]=u[l++]}else n||(i[a++]=u)}return i};x.flatten=function(e,t){return N(e,t,!1)},x.without=function(e){return x.difference(e,f.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var i=[],a=[],o=0,s=P(e);s>o;o++){var u=e[o],l=n?n(u,o,e):u;t?(o&&a===l||i.push(u),a=l):n?x.contains(a,l)||(a.push(l),i.push(u)):x.contains(i,u)||i.push(u)}return i},x.union=function(){return x.uniq(N(arguments,!0,!0))},x.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=P(e);i>r;r++){var a=e[r];if(!x.contains(t,a)){for(var o=1;n>o&&x.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},x.difference=function(e){var t=N(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,P).length||0,n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,r);return n},x.object=function(e,t){for(var n={},r=0,i=P(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.findIndex=r(1),x.findLastIndex=r(-1),x.sortedIndex=function(e,t,n,r){n=_(n,r,1);for(var i=n(t),a=0,o=P(e);o>a;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},x.indexOf=i(1,x.findIndex,x.sortedIndex),x.lastIndexOf=i(-1,x.findLastIndex),x.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;r>a;a++,e+=n)i[a]=e;return i};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=k(e.prototype),o=e.apply(a,i);return x.isObject(o)?o:a};x.bind=function(e,t){if(y&&e.bind===y)return y.apply(e,f.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),r=function(){return M(e,r,t,this,n.concat(f.call(arguments)))};return r},x.partial=function(e){var t=f.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===x?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return M(e,n,this,this,a)};return n},x.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return x.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},x.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:x.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var l=x.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),s=l,a=e.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(u,c)),a}},x.debounce=function(e,t,n){var r,i,a,o,s,u=function(){var l=x.now()-o;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=x.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},x.once=x.partial(x.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return I&&a(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&a(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},x.mapObject=function(e,t,n){t=_(t,n);for(var r,i=x.keys(e),a=i.length,o={},s=0;a>s;s++)r=i[s],o[r]=t(e[r],r,e);return o},x.pairs=function(e){for(var t=x.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];
return r},x.invert=function(e){for(var t={},n=x.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=E(x.allKeys),x.extendOwn=x.assign=E(x.keys),x.findKey=function(e,t,n){t=_(t,n);for(var r,i=x.keys(e),a=0,o=i.length;o>a;a++)if(r=i[a],t(e[r],r,e))return r},x.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;x.isFunction(t)?(i=x.allKeys(o),r=w(t,n)):(i=N(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,u=i.length;u>s;s++){var l=i[s],c=o[l];r(c,l,o)&&(a[l]=c)}return a},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var r=x.map(N(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(r,t)}}return x.pick(e,t,n)},x.defaults=E(x.allKeys,!0),x.create=function(e,t){var n=k(e);return t&&x.extendOwn(n,t),n},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;r>a;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!O(e[u],t[u],n,r))return!1}else{var l,c=x.keys(e);if(u=c.length,x.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!x.has(t,l)||!O(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(e,t){return O(e,t)},x.isEmpty=function(e){return null==e?!0:C(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=v||function(e){return"[object Array]"===h.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&p.call(e,t)},x.noConflict=function(){return o._=s,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=S,x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=x.invert(B),j=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};x.escape=j(B),x.unescape=j(L),x.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),x.isFunction(r)?r.call(e):r};var z=0;x.uniqueId=function(e){var t=++z+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+q[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var r=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(F,V),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){throw s.source=a,s}var u=function(e){return o.call(this,e,x)},l=t.variable||"obj";return u.source="function("+l+"){\n"+a+"}",u},x.chain=function(e){var t=x(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),Y(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Y(this,n)}}),x.each(["concat","join","slice"],function(e){var t=u[e];x.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this)},{}]},{},[1]);